{
  "version": 1926,
  "tenantid": "RVCC",
  "mobappid": 599,
  "appName": "myRVCC",
  "appDisplayName": "RVmobile",
  "homeScreenTemplate": "<script>\r\n  /*var hideInterval = setInterval(function() {\r\n    $(\"#logo-Banner3\").parents(\"a\").css(\"display\", \"none\");\r\n    $(\"#logo-WebStudy\").parents(\"a\").css(\"display\", \"none\");\r\n\r\n    if ($(\"#logo-WebStudy\").parents(\"a\").css(\"display\") == \"none\") {\r\n      clearInterval(hideInterval);\r\n    }\r\n  }, 2000);*/\r\n\r\nif ($.jStorage.get('ticket') != null || $.jStorage.get('ticket') != undefined) {\r\n        MyCampusApp.rootScope.showUserProfile = true;\r\n    } else {\r\n        MyCampusApp.rootScope.showUserProfile = false;\r\n    }\r\n\r\n\r\n    var onBackKeyDown = function(event) {\r\n\r\n        try {\r\n            if ($(\"body\").hasClass(\"sidebar-left-in\")) {\r\n\r\n                MyCampusApp.rootScope.toggle(\"mainSidebar\");\r\n                event.preventDefault();\r\n            } else {\r\n                var loc = window.location;\r\n                if (loc.hash == \"#/login\") {\r\n                    window.location.href = \"index.html#home\";\r\n                    return;\r\n\r\n                } else {\r\n                    if (MyCampusApp.homeScreenDisplayed) {\r\n                        var onConfirm = function(buttonIndex) {\r\n                            if (buttonIndex == 1) {\r\n                                navigator.app.exitApp();\r\n                            }\r\n                        };\r\n                        if (window.device) {\r\n                            navigator.notification.confirm(\r\n                                'Are you sure you want to exit?', // message\r\n                                onConfirm, // callback to invoke with index of button pressed\r\n                                'Just Confirming', // title\r\n                                ['Yes', 'No'] // buttonLabels\r\n                            );\r\n                        } else {\r\n                            apprise(\"Are you sure you want to exit?\", {\r\n                                'verify': true,\r\n                                'textYes': \"Yes\",\r\n                                'textNo': \"No\"\r\n                            }, function(r) {\r\n                                if (r) {\r\n                                    navigator.app.exitApp();\r\n                                } else MyCampusApp.modalDialogDisplayed = false;\r\n                            });\r\n                        }\r\n                    } else {\r\n                        navigator.app.backHistory();\r\n                    }\r\n                }\r\n            }\r\n        } catch (e) {\r\n            alert(e)\r\n        }\r\n    }\r\n    if (!MyCampusApp.rootScope.backbuttonEvent) {\r\n        document.addEventListener(\"backbutton\", onBackKeyDown, true);\r\n        MyCampusApp.rootScope.backbuttonEvent = true;\r\n    }\r\n\r\nMyCampusApp.rootScope.animatepage = function(currentstyle) {\r\n        $(\".app-body\").addClass(currentstyle);\r\n    }\r\n    var hideInterval = setInterval(function() {\r\n        var animatecss = $(\"#animatecss\");\r\n        if (!animatecss || animatecss.length <= 0) {\r\n            $.ajax({\r\n                url: \"https://raw.githubusercontent.com/daneden/animate.css/master/animate.css\",\r\n                dataType: \"text\",\r\n                success: function(data) {\r\n                    $(\"head\").append(\"<style id='animatecss'>\" + data + \"<\/style>\");\r\n                    clearInterval(hideInterval);\r\n                }\r\n            });\r\n        }\r\n    }, 2000);\r\n    if (!MyCampusApp.rootScope.cangelistadded) {\r\n        MyCampusApp.rootScope.$on(\"$routeChangeStart\", function(event, next, current) {\r\n            $(\".app-body\").attr(\"class\", \"app-body animated \");\r\n        });\r\n        MyCampusApp.rootScope.$on(\"$routeChangeSuccess\", function(event, next, current) {\r\n            currentstyle = \"bounceInRight\";\r\n            if (next.loadedTemplateUrl == \"partials/home.html\" && current.loadedTemplateUrl != \"partials/home.html\") {\r\n                currentstyle = \"bounceInLeft\";\r\n            } else if (current.loadedTemplateUrl != \"partials/home.html\") {\r\n                if (next.params.appid == current.params.appid && next.params.appid == next.params.pageid) {\r\n                    currentstyle = \"bounceInLeft\";\r\n                }\r\n                if (MyCampusApp.rootScope.ppage) {\r\n                    if (MyCampusApp.rootScope.ppage.appid == next.params.appid && MyCampusApp.rootScope.ppage.pageid == next.params.pageid) {\r\n                        currentstyle = \"bounceInLeft\";\r\n                    }\r\n                }\r\n            }\r\n            $(\".app-body\").addClass(currentstyle);\r\n            $(\".app-body\").addClass(\"animated\");\r\n            MyCampusApp.rootScope.cpage = next.params;\r\n            MyCampusApp.rootScope.ppage = current.params;\r\n        });\r\n        MyCampusApp.rootScope.cangelistadded = true;\r\n    }\r\n\r\n<\/script>",
  "middlewareServerUrl": "https://kryptosda.kryptosmobile.com/kmwda5rvcc",
  "feedbackEmail": "helpdesk@raritanval.edu",
  "backgroundurl": "RVCC/background.png",
  "brandingurl": "RVCC/branding.png",
  "customStyle": ".navbar .navbar-brand-center{\r\nfont-weight:bold;\r\n}\r\n\r\ndiv.backButtonArrow div[aria-label=\"Login\"]:after {\r\n    content: \"Login\";\r\n   font-size: 11px;\r\n    font-weight: bold;\r\n    position: absolute;\r\n    right: 33px;\r\n    text-decoration: none;\r\n    top: 2px;\r\n}\r\n\r\n/*.navbar .sidebar-toggle .fa-bars, .navbar .btn-navbar .fa-chevron-circle-left, .navbar .btn-navbar .fa-lock, .navbar .btn-navbar .fa-unlock {\r\nvertical-align:middle;\r\n}*/\r\n\r\n.navbar .fa-bars:after {\r\n    content: \"Menu\";\r\n    font-size: 12px;\r\n   position: absolute;\r\n    right: 5px;\r\n    top: 32px;\r\n}\r\n.navbar .fa-chevron-circle-left:after {\r\n    content: \"Back\";\r\n    font-size: 12px;\r\n   position: absolute;\r\n    right: 5px;\r\n    top: 32px;\r\n}\r\n\r\n.navbar .fa-user:after {\r\n    content: \"Login\";\r\n    font-size: 12px;\r\n   position: absolute;\r\n    right: 5px;\r\n    text-decoration: none;\r\ntop: 32px;\r\n}\r\n\r\n.navbar .fa-power-off:after {\r\n    content: \"Logout\";\r\n    font-size: 12px;\r\n   position: absolute;\r\n    right: 5px;\r\n    top: 32px;\r\n}\r\n#branding {\r\n  position:absolute !important;\r\n  bottom:35px !important;\r\n  left:0px !important;\r\n  right:0px !important; \r\n  width:60% !important;\r\n  margin:auto !important; \r\n\r\n}\r\nbody {\r\n   position:absolute;\r\n   width:100%;\r\n   height:100%;\r\n   background-size:100% 100% !important;\r\n}\r\n.icon {\r\n  width:56px;\r\n   height:56px;\r\n}\r\n.campuseai-Info {\r\n  color:white;\r\nfont-weight:bold;\r\n}\r\n.dockicon:after {\r\n   bottom:0px !important;\r\n}\r\n\r\n.dockicon {\r\n   margin-bottom:25px !important;\r\n}\r\n\r\n\r\n.blockUI i{\r\n   color:white !important;\r\n}\r\n.promptumenu_nav a.active {\r\n   background:#DB7508;\r\n   border-radius:50%;\r\n   width:10px;\r\n   height:10px;\r\n}\r\n\r\n.promptumenu_nav a {\r\n  background:#fff;\r\n   border-radius:50%;\r\n   width:10px;\r\n   height:10px;\r\n}\r\n.promptumenu_window {\r\n   overflow:visible !important; \r\n}\r\n\r\n.promptumenu_nav {\r\nmargin-bottom:-12px;\r\n}\r\n\r\n.app-body {\r\n   padding-bottom:19px !important;\r\n}\r\n\r\n.blockUI {\r\n  margin:auto !important;\r\n  left:0px  !important;\r\n  right:0px !important;\r\n  width:auto !important;\r\n}\r\n\r\n#homedata .campuseai-Info {\r\n  width:76px !important;\r\n  margin-left:-10px;\r\n  text-shadow:0 2px 2px #000;\r\n}\r\n@media (min-width : 320px) and (max-width : 480px) { \r\n   .icon { width:56px !important;\r\n     height:56px !important;\r\n   }\r\n   #homedata .campuseai-Info {\r\n     width:76px !important;\r\n     margin-left:-10px;\r\n\r\n   }\r\n}\r\n\r\n@media (min-width : 320px) and (max-width : 568px) { \r\n   .icon { width:75px !important;\r\n     height:75px !important;\r\npadding:5px !important;\r\n   }\r\n   #homedata .campuseai-Info {\r\n  width:96px !important;\r\n     font-size:12px;\r\n     margin-top:2px;\r\n     margin-left:-10px;\r\n     margin-right:-10px;\r\n   line-height:13px !important;\r\n     height:28px !important;\r\npadding: 0 4px !important;\r\n\r\n   }\r\n}\r\n\r\n@media (min-width: 768px) { \r\n   #branding {\r\n      width:60% !important;\r\n      margin:auto;    \r\n   }\r\n   .icon {\r\n      width:102px !important;\r\n      height:102px !important;\r\n    }\r\n#homedata .campuseai-Info {\r\n     width:120px !important;\r\n    margin-left:-10px;\r\n     margin-right:-10px;\r\n\r\nfont-weight:bold;\r\n   }\r\n\r\n}\r\n#devicebranding,#aboutbranding,#settingsbranding,#loginbranding {\r\nmargin: 10px 0;\r\nwidth:70% !important;\r\n}\r\n@media all and (orientation:landscape) {  \r\n   a.list-group-item .avatar{\r\nwidth:6% !important;\r\n}\r\n\r\n#branding {\r\n    width:35% !important;\r\n  }\r\n#devicebranding,#aboutbranding,#settingsbranding,#loginbranding{\r\nmargin: 10px 0;\r\nwidth:30% !important;\r\n}\r\n\r\n.promptumenu_nav {\r\nmargin-bottom:-15px !important;\r\n}\r\n#homedata .campuseai-Info {\r\nline-height:12.5px !important;\r\nfont-size:11px !important;\r\nheight:25px !important;\r\n}\r\n.icon{\r\npadding:8px;\r\n}\r\n\r\n}\r\n\r\n.app-body{\r\nbackground: rgba(0, 0, 0, 0.5) none repeat scroll 0 0;\r\n}\r\n\r\n#mainSidebar .list-group-item {\r\n    border-bottom: 1px solid #032436 !important;\r\n    border-top: 1px solid #0a9cec !important;\r\n}\r\n.navbar {\r\nbox-shadow: 0 0 10px #000;\r\n}\r\n\r\na:active { opacity: 1 !important; }\r\n\r\n\r\n\r\n@media only screen \r\nand (min-device-width : 768px) \r\nand (max-device-width : 1024px) \r\nand (orientation : portrait) { \r\n\r\n.icon{\r\nmargin:0 10px;\r\n}\r\n#homedata .campuseai-Info {\r\n     width:120px !important;\r\n     height:30px;\r\n     line-height:14px;\r\n     font-weight:bold;\r\n margin-left:0px;\r\n     margin-right:0px\r\n   }\r\n\r\n}\r\n\r\n.navbar-app, .navbar-brand {\r\n  /* Permalink - use to edit and share this gradient: http://colorzilla.com/gradient-editor/#009a48+0,004900+100 */\r\n  background: rgb(0,154,72); /* Old browsers */\r\n  background: -moz-linear-gradient(top,  rgba(0,154,72,1) 0%, rgba(0,73,0,1) 100%); /* FF3.6+ */\r\n  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(0,154,72,1)), color-stop(100%,rgba(0,73,0,1))); /* Chrome,Safari4+ */\r\n  background: -webkit-linear-gradient(top,  rgba(0,154,72,1) 0%,rgba(0,73,0,1) 100%); /* Chrome10+,Safari5.1+ */\r\n  background: -o-linear-gradient(top,  rgba(0,154,72,1) 0%,rgba(0,73,0,1) 100%); /* Opera 11.10+ */\r\n  background: -ms-linear-gradient(top,  rgba(0,154,72,1) 0%,rgba(0,73,0,1) 100%); /* IE10+ */\r\n  background: linear-gradient(to bottom,  rgba(0,154,72,1) 0%,rgba(0,73,0,1) 100%); /* W3C */\r\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#009a48', endColorstr='#004900',GradientType=0 ); /* IE6-9 */\r\n\r\n}\r\n\r\n.navbar-brand {\r\n  width: 100%;\r\n}\r\n\r\n\r\n\r\n.loader {\r\n  font-size: 90px;\r\n  text-indent: -9999em;\r\n  overflow: hidden;\r\n  width: 1em;\r\n  height: 1em;\r\n  border-radius: 50%;\r\n  margin: 72px auto;\r\n  position: relative;\r\n  -webkit-transform: translateZ(0);\r\n  -ms-transform: translateZ(0);\r\n  transform: translateZ(0);\r\n  -webkit-animation: load6 1.7s infinite ease;\r\n  animation: load6 1.7s infinite ease;\r\n}\r\n@-webkit-keyframes load6 {\r\n  0% {\r\n    -webkit-transform: rotate(0deg);\r\n    transform: rotate(0deg);\r\n    box-shadow: 0 -0.83em 0 -0.4em #ffffff, 0 -0.83em 0 -0.42em #ffffff, 0 -0.83em 0 -0.44em #ffffff, 0 -0.83em 0 -0.46em #ffffff, 0 -0.83em 0 -0.477em #ffffff;\r\n  }\r\n  5%,\r\n  95% {\r\n    box-shadow: 0 -0.83em 0 -0.4em #ffffff, 0 -0.83em 0 -0.42em #ffffff, 0 -0.83em 0 -0.44em #ffffff, 0 -0.83em 0 -0.46em #ffffff, 0 -0.83em 0 -0.477em #ffffff;\r\n  }\r\n  10%,\r\n  59% {\r\n    box-shadow: 0 -0.83em 0 -0.4em #ffffff, -0.087em -0.825em 0 -0.42em #ffffff, -0.173em -0.812em 0 -0.44em #ffffff, -0.256em -0.789em 0 -0.46em #ffffff, -0.297em -0.775em 0 -0.477em #ffffff;\r\n  }\r\n  20% {\r\n    box-shadow: 0 -0.83em 0 -0.4em #ffffff, -0.338em -0.758em 0 -0.42em #ffffff, -0.555em -0.617em 0 -0.44em #ffffff, -0.671em -0.488em 0 -0.46em #ffffff, -0.749em -0.34em 0 -0.477em #ffffff;\r\n  }\r\n  38% {\r\n    box-shadow: 0 -0.83em 0 -0.4em #ffffff, -0.377em -0.74em 0 -0.42em #ffffff, -0.645em -0.522em 0 -0.44em #ffffff, -0.775em -0.297em 0 -0.46em #ffffff, -0.82em -0.09em 0 -0.477em #ffffff;\r\n  }\r\n  100% {\r\n    -webkit-transform: rotate(360deg);\r\n    transform: rotate(360deg);\r\n    box-shadow: 0 -0.83em 0 -0.4em #ffffff, 0 -0.83em 0 -0.42em #ffffff, 0 -0.83em 0 -0.44em #ffffff, 0 -0.83em 0 -0.46em #ffffff, 0 -0.83em 0 -0.477em #ffffff;\r\n  }\r\n}\r\n@keyframes load6 {\r\n  0% {\r\n    -webkit-transform: rotate(0deg);\r\n    transform: rotate(0deg);\r\n    box-shadow: 0 -0.83em 0 -0.4em #ffffff, 0 -0.83em 0 -0.42em #ffffff, 0 -0.83em 0 -0.44em #ffffff, 0 -0.83em 0 -0.46em #ffffff, 0 -0.83em 0 -0.477em #ffffff;\r\n  }\r\n  5%,\r\n  95% {\r\n    box-shadow: 0 -0.83em 0 -0.4em #ffffff, 0 -0.83em 0 -0.42em #ffffff, 0 -0.83em 0 -0.44em #ffffff, 0 -0.83em 0 -0.46em #ffffff, 0 -0.83em 0 -0.477em #ffffff;\r\n  }\r\n  10%,\r\n  59% {\r\n    box-shadow: 0 -0.83em 0 -0.4em #ffffff, -0.087em -0.825em 0 -0.42em #ffffff, -0.173em -0.812em 0 -0.44em #ffffff, -0.256em -0.789em 0 -0.46em #ffffff, -0.297em -0.775em 0 -0.477em #ffffff;\r\n  }\r\n  20% {\r\n    box-shadow: 0 -0.83em 0 -0.4em #ffffff, -0.338em -0.758em 0 -0.42em #ffffff, -0.555em -0.617em 0 -0.44em #ffffff, -0.671em -0.488em 0 -0.46em #ffffff, -0.749em -0.34em 0 -0.477em #ffffff;\r\n  }\r\n  38% {\r\n    box-shadow: 0 -0.83em 0 -0.4em #ffffff, -0.377em -0.74em 0 -0.42em #ffffff, -0.645em -0.522em 0 -0.44em #ffffff, -0.775em -0.297em 0 -0.46em #ffffff, -0.82em -0.09em 0 -0.477em #ffffff;\r\n  }\r\n  100% {\r\n    -webkit-transform: rotate(360deg);\r\n    transform: rotate(360deg);\r\n    box-shadow: 0 -0.83em 0 -0.4em #ffffff, 0 -0.83em 0 -0.42em #ffffff, 0 -0.83em 0 -0.44em #ffffff, 0 -0.83em 0 -0.46em #ffffff, 0 -0.83em 0 -0.477em #ffffff;\r\n  }\r\n}\r\n#mainSidebar .list-group-item {\r\n    border-bottom: 1px solid #032436 !important;\r\n    border-top: 1px solid #fff !important;\r\n}\r\n.navbar {\r\nbox-shadow: 0 0 10px #000;\r\n}\r\n\r\n/* Banner apps css */\r\n.panel-primary {\r\n    border: 1px solid #6D0019 !important;\r\n    border-radius: 5px !important;\r\n    margin-bottom: 5px !important;\r\n}\r\n\r\n.panel-heading {\r\n  background: rgb(0,154,72) !important; \r\n  background: -moz-linear-gradient(top,  rgba(0,154,72,1) 0%, rgba(0,73,0,1) 100%) !important; \r\n  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(0,154,72,1)), color-stop(100%,rgba(0,73,0,1))) !important; \r\n  background: -webkit-linear-gradient(top,  rgba(0,154,72,1) 0%,rgba(0,73,0,1) 100%) !important; \r\n  background: -o-linear-gradient(top,  rgba(0,154,72,1) 0%,rgba(0,73,0,1) 100%) !important; \r\n  background: -ms-linear-gradient(top,  rgba(0,154,72,1) 0%,rgba(0,73,0,1) 100%) !important; \r\n  background: linear-gradient(to bottom,  rgba(0,154,72,1) 0%,rgba(0,73,0,1) 100%) !important; \r\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#009a48', endColorstr='#004900',GradientType=0 ) !important; \r\n\r\n  box-shadow:0 0 10px #8cc63e;\r\n  /*border-bottom: 1px solid #6d0019 !important;*/\r\n  padding:10px;\r\n}\r\n\r\n.panel-inverse {\r\n  background: transparent;\r\n}\r\n\r\n.panel-primary > .panel-body {\r\n  /*border-radius: 5px !important;*/\r\n  padding: 0px;\r\n}\r\n\r\n\r\n.panel-primary > .panel-heading > .panel-title {\r\n   font-size: 14px !important;\r\n   font-style: italic !important;\r\n}\r\n\r\n.panel-subgroup-link {\r\n  border-top: 1px solid #384266 !important;\r\n  border-bottom: 1px solid #384266 !important;\r\n  background: #384266 !important; /* Old browsers */\r\n\r\n  color: #fff !important;\r\n  font-weight: bold !important;  \r\n}\r\n\r\nselect {\r\n   min-height:30px !important;\r\n   border-radius:5px !important;\r\n}\r\n\r\n.panel-inverse {\r\n    border: none !important;\r\n    border-radius: 0px !important;\r\n}\r\n\r\n.panel-heading-inverse {\r\n  border-radius: 0px !important; \r\n  border-bottom: 1px solid #0f0f0f !important;   \r\n}\r\n\r\n.panel-inverse > .panel-heading-inverse {\r\n  background: #414A3E !important;\r\n  border-top-left-radius: 0px !important;\r\n  border-top-right-radius: 0px !important; \r\n}\r\n\r\n.panel-inverse > .panel-heading-inverse > select, .keyblock-select {\r\n  background: #F6F6F6 !important;\r\n  border: 1px solid #BFBCC2 !important;\r\n  color: #444444 !important;  \r\n}\r\n\r\n.panel-inverse > .panel-body {\r\n  padding-top: 0px !important;\r\n  padding-bottom: 0px !important;\r\n}\r\n\r\n.panel-inverse > .panel-body > div {\r\n  margin-top:5px;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.panel-body > .list-group > .list-group-item:last-child {\r\n  border-bottom-left-radius: 8px !important;\r\n  border-bottom-right-radius: 8px !important;\r\n\r\n}\r\n\r\n/*\r\n.btn-primary {\r\n  background: rgb(76,180,233) !important; \r\n\r\n  border: 1px solid #52C2EF !important;\r\n  font-weight: bold;\r\n  color: #ffffff !important;\r\n}\r\n*/\r\n\r\n.btn-primary:focus {\r\n  outline: none;\r\n  border-bottom: 2px solid #bcd507 !important;\r\n  border-radius: 6px !important;\r\n  color: #ffffff !important;\r\n}\r\n\r\n.class-lookup-available {\r\n   /*background: #C3EFF2 !important;*/\r\n  background: rgb(246,248,249) !important; /* Old browsers */\r\n  background: -moz-linear-gradient(top,  rgba(246,248,249,1) 0%, rgba(229,235,238,1) 50%, rgba(215,222,227,1) 51%, rgba(245,247,249,1) 100%) !important; /* FF3.6+ */\r\n  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(246,248,249,1)), color-stop(50%,rgba(229,235,238,1)), color-stop(51%,rgba(215,222,227,1)), color-stop(100%,rgba(245,247,249,1))) !important; /* Chrome,Safari4+ */\r\n  background: -webkit-linear-gradient(top,  rgba(246,248,249,1) 0%,rgba(229,235,238,1) 50%,rgba(215,222,227,1) 51%,rgba(245,247,249,1) 100%) !important; /* Chrome10+,Safari5.1+ */\r\n  background: -o-linear-gradient(top,  rgba(246,248,249,1) 0%,rgba(229,235,238,1) 50%,rgba(215,222,227,1) 51%,rgba(245,247,249,1) 100%) !important; /* Opera 11.10+ */\r\n  background: -ms-linear-gradient(top,  rgba(246,248,249,1) 0%,rgba(229,235,238,1) 50%,rgba(215,222,227,1) 51%,rgba(245,247,249,1) 100%) !important; /* IE10+ */\r\n  background: linear-gradient(to bottom,  rgba(246,248,249,1) 0%,rgba(229,235,238,1) 50%,rgba(215,222,227,1) 51%,rgba(245,247,249,1) 100%) !important; /* W3C */\r\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#f6f8f9', endColorstr='#f5f7f9',GradientType=0 ) !important; /* IE6-9 */\r\n\r\n\r\n}\r\n\r\n.registration-lookup-available {\r\n   background: #C3EFF2 !important;\r\n\r\n}\r\n\r\n.registration-page {\r\n  background: rgb(255,255,255); /* Old browsers */\r\n  background: -moz-linear-gradient(-45deg,  rgba(255,255,255,1) 0%, rgba(242,247,247,1) 16%, rgba(242,247,247,1) 81%, rgba(255,255,255,1) 100%); /* FF3.6+ */\r\n  background: -webkit-gradient(linear, left top, right bottom, color-stop(0%,rgba(255,255,255,1)), color-stop(16%,rgba(242,247,247,1)), color-stop(81%,rgba(242,247,247,1)), color-stop(100%,rgba(255,255,255,1))); /* Chrome,Safari4+ */\r\n  background: -webkit-linear-gradient(-45deg,  rgba(255,255,255,1) 0%,rgba(242,247,247,1) 16%,rgba(242,247,247,1) 81%,rgba(255,255,255,1) 100%); /* Chrome10+,Safari5.1+ */\r\n  background: -o-linear-gradient(-45deg,  rgba(255,255,255,1) 0%,rgba(242,247,247,1) 16%,rgba(242,247,247,1) 81%,rgba(255,255,255,1) 100%); /* Opera 11.10+ */\r\n  background: -ms-linear-gradient(-45deg,  rgba(255,255,255,1) 0%,rgba(242,247,247,1) 16%,rgba(242,247,247,1) 81%,rgba(255,255,255,1) 100%); /* IE10+ */\r\n  background: linear-gradient(135deg,  rgba(255,255,255,1) 0%,rgba(242,247,247,1) 16%,rgba(242,247,247,1) 81%,rgba(255,255,255,1) 100%); /* W3C */\r\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#ffffff',GradientType=1 ); /* IE6-9 fallback on horizontal gradient */\r\n\r\n}\r\n\r\n.badge-circle {\r\n  height:30px;\r\n  width:30px;\r\n  border-radius: 30px;\r\n  padding-top: 8px;\r\n}\r\n\r\n.badge-special {\r\n  background: #D16AA4;\r\n  color: #fff;\r\n}\r\n\r\n.badge-message {\r\n  background: rgb(0,154,72) !important; \r\n  background: -moz-linear-gradient(top,  rgba(0,154,72,1) 0%, rgba(0,73,0,1) 100%) !important; \r\n  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(0,154,72,1)), color-stop(100%,rgba(0,73,0,1))) !important; \r\n  background: -webkit-linear-gradient(top,  rgba(0,154,72,1) 0%,rgba(0,73,0,1) 100%) !important; \r\n  background: -o-linear-gradient(top,  rgba(0,154,72,1) 0%,rgba(0,73,0,1) 100%) !important; \r\n  background: -ms-linear-gradient(top,  rgba(0,154,72,1) 0%,rgba(0,73,0,1) 100%) !important; \r\n  background: linear-gradient(to bottom,  rgba(0,154,72,1) 0%,rgba(0,73,0,1) 100%) !important; \r\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#009a48', endColorstr='#004900',GradientType=0 ) !important;    \r\n\r\n  box-shadow:0 0 10px #fff;  \r\n  color: #fff;\r\n}\r\n\r\n.col-text-center {\r\n  text-align: center;\r\n  text-align: -webkit-center;  \r\n}\r\n\r\n.list-group {\r\n  margin-bottom: 0px;\r\n}\r\n\r\n.list-group-item {\r\n  line-height:25px;\r\n}\r\n\r\n.list-group-heading-text-font {\r\n  font-family: \"Trebuchet MS\", Helvetica, sans-serif !important; \r\n  font-size:1.3em; \r\n  overflow:hidden; \r\n  white-space: nowrap; \r\n  text-overflow: ellipsis; \r\n  color: #fff !important;\r\n}\r\n\r\n.list-group-data-heading-text-font {\r\n  font-family: \"Trebuchet MS\", Helvetica, sans-serif !important; \r\n  font-size:1.3em; \r\n  overflow:hidden; \r\n  white-space: nowrap; \r\n  text-overflow: ellipsis; \r\n  color: #2D2D2D !important;\r\n}\r\n\r\n.list-group-text-font {\r\n  font-family: \"Trebuchet MS\", Helvetica, sans-serif !important; \r\n  font-size:1.3em; \r\n  overflow:hidden; \r\n  white-space: nowrap; \r\n  text-overflow: ellipsis; \r\n}\r\n\r\n\r\n.custom-list-group {\r\n  margin-top: 4px;\r\n  margin-bottom:4px;\r\n  border-radius: 4px;\r\n}\r\n\r\n.custom-list-group-anchor {\r\n  background: #3B5998 !important; \r\n  color: #2D2D2D !important;\r\n  border: none !important;\r\n  margin: 0px !important;\r\n  padding: 15px 25px 15px 25px;\r\n  pointer-events:none;\r\n  cursor: default;\r\n}\r\n\r\n.custom-list-group-anchor-data {\r\n  background: #fff !important; /* Old browsers */\r\n  color: #3f4c6b !important;\r\n  border: none !important;\r\n  margin: 0px !important;\r\n  padding: 15px 25px 15px 25px;\r\n  pointer-events:none;\r\n  cursor: default;\r\n}\r\n\r\n.list-group-item {\r\n  background: rgb(255,255,255); /* Old browsers */\r\n  background: -moz-linear-gradient(-45deg,  rgba(255,255,255,1) 0%, rgba(242,247,247,1) 16%, rgba(242,247,247,1) 81%, rgba(255,255,255,1) 100%); /* FF3.6+ */\r\n  background: -webkit-gradient(linear, left top, right bottom, color-stop(0%,rgba(255,255,255,1)), color-stop(16%,rgba(242,247,247,1)), color-stop(81%,rgba(242,247,247,1)), color-stop(100%,rgba(255,255,255,1))); /* Chrome,Safari4+ */\r\n  background: -webkit-linear-gradient(-45deg,  rgba(255,255,255,1) 0%,rgba(242,247,247,1) 16%,rgba(242,247,247,1) 81%,rgba(255,255,255,1) 100%); /* Chrome10+,Safari5.1+ */\r\n  background: -o-linear-gradient(-45deg,  rgba(255,255,255,1) 0%,rgba(242,247,247,1) 16%,rgba(242,247,247,1) 81%,rgba(255,255,255,1) 100%); /* Opera 11.10+ */\r\n  background: -ms-linear-gradient(-45deg,  rgba(255,255,255,1) 0%,rgba(242,247,247,1) 16%,rgba(242,247,247,1) 81%,rgba(255,255,255,1) 100%); /* IE10+ */\r\n  background: linear-gradient(135deg,  rgba(255,255,255,1) 0%,rgba(242,247,247,1) 16%,rgba(242,247,247,1) 81%,rgba(255,255,255,1) 100%); /* W3C */\r\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#ffffff',GradientType=1 ); /* IE6-9 fallback on horizontal gradient */\r\n}\r\n\r\na:active { opacity: 1 !important; }\r\n.ednet-msg{ padding:10px !important;}\r\n.userProfile{\r\ndisplay:none;\r\n}.navbar-app, .sidebar, #mainSidebar { background : #258a44 !important; } .navbar-brand, .navbar-absolute-top .btn-navbar { color : #ffffff !important; } .navbar-absolute-bottom .navbar-inverse { background : #000000 !important; } .navbar-absolute-bottom .navbar-inverse { color : #ddf7d7 !important; } .app { background : #000000 !important; } .campuseai-Info { color : #ffffff !important; } #mainSidebar .list-group-item { background : #000000 !important; } #mainSidebar .list-group-item { color : #ffffff !important; } #mainSidebar .appgroup { background : #008430 !important; } #mainSidebar .appgroup { color :  !important; } .btn-primary { background : #258a43 !important; } .btn-primary { color : #ffffff !important; } .btn-primary { border-color : #258a43 !important; } ",
  "authFunction": "function authFunction(uname, password, $http, $rootScope, success, error) {\r\n\r\n  try {\r\n    var authSuccess = success;\r\n    var authError = error;\r\n    $rootScope.WebStudyURL = \"https://kryptosmw.kryptosmobile.com/webadapterrvcc\";\r\n    $rootScope.timeoutfired = false;\r\n\r\n    var url = $rootScope.middlewareServerUrl + \"/services/authenticate/login\";\r\n    var data = {};\r\n    if (window.device) {\r\n      data = \"username=\" + uname + \"&password=\" + encodeURIComponent(password);\r\n    } else {\r\n      url = \"/websimulator/json?url=\" + url;\r\n      data = {\r\n        method: \"POST\",\r\n        body: \"username=\" + uname + \"&password=\" + encodeURIComponent(password)\r\n      };\r\n    }\r\n    if (!uname) {\r\n      return;\r\n    }\r\n\r\n    var authUrl = url;\r\n    var authData = data;\r\n    $rootScope.generateST = function(tgt, service, callback) {\r\n      //Bypassing the ST as there is no service ticket required here..\r\n      callback(tgt);\r\n    };\r\n\r\n    $rootScope.checktimeout = function() {\r\n      console.log(\"in checktimeout function\");\r\n      console.log(\"loggedin=\" + $rootScope.loggedin);\r\n      console.log(\"timeoutfired=\" + $rootScope.timeoutfired);\r\n      //alert(\"in checktimeout - fired=\"+ $rootScope.timeoutfired + \" - logged=\"+$rootScope.loggedin + \" - last=\"+$rootScope.lastaccessed);\r\n      $rootScope.lastaccessed = $.jStorage.get(\"lastaccessed\");\r\n      console.log(\"lastaccessed=\" + $rootScope.lastaccessed);\r\n      if ($rootScope.timeoutfired) {\r\n        //alert(\"returning the control back\");\r\n        return true;\r\n      }\r\n      //alert(\"checktimeout: \"+$rootScope.lastaccessed+ \" - \"+$rootScope.loggedin) ;\r\n      if ($rootScope.loggedin && $rootScope.lastaccessed) {\r\n        var timediff = Math.floor((new Date() - new Date($rootScope.lastaccessed)) / 1000 / 60);\r\n        console.log(\"timediff*=\" + timediff);\r\n        if (timediff >= 120) {\r\n          $rootScope.ticket = null;\r\n          $rootScope.loggedin = false;\r\n          var lastuname = $.jStorage.get('username');\r\n          $.jStorage.deleteKey('username');\r\n          $.jStorage.deleteKey('password');\r\n          $.jStorage.deleteKey('ticket');\r\n          $rootScope.username = \"\";\r\n          $rootScope.password = \"\";\r\n          $rootScope.ticket = \"\";\r\n\r\n          var dofocus = function() {\r\n            $(\"#loginUsername\").val(lastuname);\r\n            $(\"#loginPassword\").focus();\r\n          }\r\n          if (window.device) {\r\n            MyCampusApp.rootScope.setRoute(\"/login\");\r\n            navigator.notification.alert(\"Please login again.\", dofocus, 'Session Timeout', 'OK');\r\n          } else {\r\n            MyCampusApp.rootScope.setRoute(\"/login\");\r\n            alert(\"Please login again.\");\r\n          }\r\n          $.unblockUI();\r\n          return true;\r\n        } else {\r\n          $rootScope.lastaccessed = new Date();\r\n          $.jStorage.set(\"lastaccessed\", $rootScope.lastaccessed);\r\n          return false;\r\n        }\r\n      } else {\r\n        $rootScope.lastaccessed = new Date();\r\n        $.jStorage.set(\"lastaccessed\", $rootScope.lastaccessed);\r\n        return false;\r\n      }\r\n    }\r\n\r\n    $rootScope.postAPI = function(endpoint, postdata, callback) {\r\n      console.log(\"in postAPI-----------------\");\r\n      console.log(\"postapi - \" + $rootScope.loggedin + \" - \" + $rootScope.lastaccessed);\r\n      console.log(\"$rootScope.ticket=\" + $rootScope.ticket);\r\n      if ($rootScope.checktimeout()) {\r\n        console.log(\"timeout confirmed\");\r\n        return;\r\n      }\r\n\r\n      $.blockUI({\r\n        message: '<div class=\"loader\" style=\"margin: 2px; vertical-align: middle; display: inline-block\"><!--<i class=\"icon-cog icon-spin icon-4x\"><\/i>--><h3>Loading...<\/h3><\/div>'\r\n      });\r\n      $rootScope.generateST($rootScope.ticket, endpoint, function(st) {\r\n        var serviceurl = endpoint + \"?ticket=\" + st;\r\n        var url = \"\";\r\n        var proxyMethod = \"POST\";\r\n        var proxyData = postdata;\r\n        if (window.device) {\r\n          url = serviceurl;\r\n        } else {\r\n          url = \"/websimulator/json?url=\" + serviceurl;\r\n          proxyMethod = \"POST\";\r\n          proxyData = {\r\n            method: \"POST\",\r\n            body: postdata\r\n          }\r\n        }\r\n        $http({\r\n          method: proxyMethod,\r\n          url: url,\r\n          data: proxyData\r\n        }).\r\n        success(function(data, status, headers, config) {\r\n          $.unblockUI();\r\n          callback(data, status, headers, config);\r\n        }).\r\n        error(function(data, status, headers, config) {\r\n          //$.unblockUI();\r\n          //alert(\"Error in service call : \" + data + \" Status : \" + status);\r\n          if (status == 403) { //Ticket expired.. need to relogin\r\n            //$.blockUI();\r\n            $http.post(authUrl, authData).success(function(data, status, headers, config) {\r\n              if (!data.error) {\r\n                $rootScope.ticket = data.ticket;\r\n                $rootScope.getAPI($rootScope.middlewareServerUrl + \"/services/student/banneruserroles\", function(roles) {\r\n                  if (roles.error && roles.error == \"Could not get PIDM for the supplied remoteuser\") {\r\n                    data.roles = [];\r\n                    if (window.device) {\r\n                      navigator.notification.alert(\"Error due to incorrect user PIDM mapping.\");\r\n                    } else {\r\n                      apprise(\"Error due to incorrect user PIDM mapping.\", {\r\n                        'verify': false,\r\n                        'textYes': \"Ok\"\r\n                      }, function(r) {\r\n\r\n                      });\r\n                    }\r\n                  } else if (roles && roles.getuserroles && roles.getuserroles[0]) {\r\n                    var uroles = [];\r\n                    if (roles.getuserroles[0].GOVROLE_STUDENT_IND == \"Y\") {\r\n                      uroles.push(\"STUDENT\");\r\n                    }\r\n                    if (roles.getuserroles[0].GOVROLE_EMPLOYEE_IND == \"Y\") {\r\n                      uroles.push(\"EMPLOYEE\");\r\n                    }\r\n                    if (roles.getuserroles[0].GOVROLE_FACULTY_IND == \"Y\") {\r\n                      uroles.push(\"FACULTY\");\r\n                    }\r\n                    if (roles.getuserroles[0].ALUMNI_IND == \"Y\") {\r\n                      uroles.push(\"ALUMNI\");\r\n                    }\r\n                    if (roles.getuserroles[0].GOVROLE_FINANCE_IND == \"Y\") {\r\n                      uroles.push(\"FINANCE\");\r\n                    }\r\n                    if (roles.getuserroles[0].GOVROLE_FINAID_IND == \"Y\") {\r\n                      uroles.push(\"FINAID\");\r\n                    }\r\n                    data.roles = uroles;\r\n                  }\r\n                  authSuccess(data);\r\n                  $rootScope.postAPI(endpoint, postdata, callback);\r\n                });\r\n\r\n              } else {\r\n                authSuccess(data);\r\n              }\r\n              //authSuccess(data);\r\n\r\n            }).error(function(data, status, headers, config) {\r\n              $.unblockUI();\r\n              authError(data);\r\n\r\n            });\r\n            $.unblockUI();\r\n          }\r\n\r\n        });\r\n\r\n      });\r\n\r\n    };\r\n\r\n    $rootScope.getAPI = function(endpoint, callback) {\r\n      console.log(\"getapi - \" + $rootScope.loggedin + \" - \" + $rootScope.lastaccessed);\r\n      //$rootScope.lastaccessed = new Date(); \r\n      if ($rootScope.checktimeout()) {\r\n        console.log(\"timeout confirmed\");\r\n        return false;\r\n      } else {\r\n        //alert(\"getapi not timed out\");                \r\n        //\r\n      }\r\n      /*            console.log(\"$rootScope.ticket=\"+$rootScope.ticket);\r\n                  if (!$rootScope.ticket) {\r\n                      console.log(\"returning from getAPI to login page\");\r\n                      return;     \r\n                  }*/\r\n      $.blockUI({\r\n        message: '<div class=\"loader\" style=\"margin: 2px; vertical-align: middle; display: inline-block\"><!--<i class=\"icon-cog icon-spin icon-4x\"><\/i>--><h3>Loading...<\/h3><\/div>'\r\n      });\r\n      $rootScope.generateST($rootScope.ticket, endpoint, function(st) {\r\n        var serviceurl = endpoint + \"?ticket=\" + st;\r\n        var url = \"\";\r\n        var proxyMethod = \"GET\";\r\n        var proxyData = {};\r\n        if (window.device) {\r\n          url = serviceurl;\r\n        } else {\r\n          url = \"/websimulator/json?url=\" + encodeURIComponent(serviceurl);\r\n          proxyMethod = \"POST\";\r\n          proxyData = {\r\n            method: \"GET\"\r\n          }\r\n        }\r\n        $http({\r\n          method: proxyMethod,\r\n          url: url,\r\n          data: proxyData\r\n        }).\r\n        success(function(data, status, headers, config) {\r\n          $.unblockUI();\r\n          callback(data, status, headers, config);\r\n        }).\r\n        error(function(data, status, headers, config) {\r\n          //$.unblockUI();\r\n          //alert(\"Error in service call : \" + data + \" Status : \" + status);\r\n          if (status == 403) { //Ticket expired.. need to relogin\r\n            //$.blockUI();\r\n            $http.post(authUrl, authData).success(function(data, status, headers, config) {\r\n              if (!data.error) {\r\n                $rootScope.ticket = data.ticket;\r\n                $rootScope.getAPI($rootScope.middlewareServerUrl + \"/services/student/banneruserroles\", function(roles) {\r\n                  data.roles = [];\r\n                  if (roles.error && roles.error == \"Could not get PIDM for the supplied remoteuser\") {\r\n                    if (window.device) {\r\n                      navigator.notification.alert(\"Error due to incorrect user PIDM mapping.\");\r\n                    } else {\r\n                      apprise(\"Error due to incorrect user PIDM mapping.\", {\r\n                        'verify': false,\r\n                        'textYes': \"Ok\"\r\n                      }, function(r) {\r\n\r\n                      });\r\n                    }\r\n                  } else if (roles && roles.getuserroles && roles.getuserroles[0]) {\r\n                    var uroles = [];\r\n                    if (roles.getuserroles[0].GOVROLE_STUDENT_IND == \"Y\") {\r\n                      uroles.push(\"STUDENT\");\r\n                    }\r\n                    if (roles.getuserroles[0].GOVROLE_EMPLOYEE_IND == \"Y\") {\r\n                      uroles.push(\"EMPLOYEE\");\r\n                    }\r\n                    if (roles.getuserroles[0].GOVROLE_FACULTY_IND == \"Y\") {\r\n                      uroles.push(\"FACULTY\");\r\n                    }\r\n                    if (roles.getuserroles[0].ALUMNI_IND == \"Y\") {\r\n                      uroles.push(\"ALUMNI\");\r\n                    }\r\n                    if (roles.getuserroles[0].GOVROLE_FINANCE_IND == \"Y\") {\r\n                      uroles.push(\"FINANCE\");\r\n                    }\r\n                    if (roles.getuserroles[0].GOVROLE_FINAID_IND == \"Y\") {\r\n                      uroles.push(\"FINAID\");\r\n                    }\r\n                    data.roles = uroles;\r\n                  }\r\n                  authSuccess(data);\r\n                  $rootScope.getAPI(endpoint, callback);\r\n                });\r\n\r\n              } else {\r\n                authSuccess(data);\r\n              }\r\n              //authSuccess(data);\r\n\r\n            }).error(function(data, status, headers, config) {\r\n              $.unblockUI();\r\n              authError(data);\r\n\r\n            });\r\n            $.unblockUI();\r\n          }\r\n\r\n        });\r\n\r\n      });\r\n\r\n    };\r\n\r\n    $rootScope.postWSAPI = function(endpoint, postdata, callback) {\r\n      try {\r\n        $.blockUI({\r\n          message: '<div class=\"loader\" style=\"margin: 2px; vertical-align: middle; display: inline-block\"><!--<i class=\"icon-cog icon-spin icon-4x\"><\/i>--><h3>Loading...<\/h3><\/div>'\r\n        });\r\n        var serviceurl = endpoint + \"?ticket=\" + $rootScope.wsticket;\r\n        console.log(\"postWSAPI: wsticket=\" + $rootScope.wsticket)\r\n        var url = \"\";\r\n        var proxyMethod = \"POST\";\r\n        var proxyData = postdata;\r\n        if (window.device) {\r\n          url = serviceurl;\r\n        } else {\r\n          url = \"/websimulator/json?url=\" + serviceurl;\r\n          proxyMethod = \"POST\";\r\n          proxyData = {\r\n            method: \"POST\",\r\n            body: postdata\r\n          }\r\n        }\r\n        $http({\r\n          method: proxyMethod,\r\n          url: url,\r\n          data: proxyData\r\n        }).\r\n        success(function(data, status, headers, config) {\r\n          //alert(JSON.stringify(data));\r\n          $.unblockUI();\r\n          callback(data, status, headers, config);\r\n        }).\r\n        error(function(data, status, headers, config) {\r\n          $.unblockUI();\r\n          //alert(\"Error in service call : \" + data + \" Status : \" + status);\r\n          if (status == 403) { //Ticket expired.. need to relogin\r\n            //alert(\"ticket expired...need to relogin\");\r\n            //$.blockUI();\r\n            var username = $.jStorage.get('username');\r\n            var password = $.jStorage.get('password');\r\n            var url = $rootScope.WebStudyURL + \"/services/authenticate/RVCC/WebStudy\";\r\n            username = $rootScope.wsuserdomain + \"\\\\\" + username;\r\n            password = password.replace(\"&\", \"%26\");\r\n            var data;\r\n            if (window.device) {\r\n              data = \"username=\" + username + \"&password=\" + password;\r\n            } else {\r\n              url = \"/websimulator/json?url=\" + url;\r\n              data = {\r\n                method: \"POST\",\r\n                body: \"username=\" + username + \"&password=\" + password\r\n              };\r\n            }\r\n            $http({\r\n              url: url,\r\n              data: data,\r\n              method: \"POST\"\r\n            }).success(function(datares) {\r\n              if (datares.ticket) {\r\n                $rootScope.wsticket = datares.ticket;\r\n                $rootScope.postWSAPI(endpoint, postdata, callback);\r\n                //$.unblockUI();\r\n              } else {\r\n                $.unblockUI();\r\n                if (window.device) {\r\n                  navigator.notification.alert(\"Login failure. Please check your credentials and try again.\", null, 'Login Failure', 'Ok');\r\n                } else {\r\n                  alert(\"Login failure. Please check your credentials and try again.\");\r\n                }\r\n              }\r\n            }).error(function(data, status, headers, config) {\r\n              $.unblockUI();\r\n              $rootScope.wsticket = \"\";\r\n              if (window.device) {\r\n                navigator.notification.alert(\"An error occured. Please try after sometime.\", null, 'Error', 'Ok');\r\n              } else {\r\n                alert(\"An error occured. Please try after sometime.\");\r\n              }\r\n            });\r\n          } else {\r\n            if (window.device) {\r\n              navigator.notification.alert(\"An error occured. Please try after sometime.\", null, 'Error', 'Ok');\r\n            } else {\r\n              alert(\"An error occured. Please try after sometime.\");\r\n            }\r\n          }\r\n\r\n        });\r\n      } catch (e) {\r\n        alert(e)\r\n      }\r\n    };\r\n\r\n    $rootScope.logoutcb = function() {\r\n      /*$.jStorage.deleteKey('wsusername');\r\n      $.jStorage.deleteKey('wspassword');\r\n      $.jStorage.deleteKey('wsticket');\r\n      $.jStorage.deleteKey('wsuserroles');     \r\n      $rootScope.wsusername = \"\";\r\n      $rootScope.wspassword = \"\";\r\n      $rootScope.wsticket = \"\";\r\n      $rootScope.wsuserroles = \"\";  */\r\n      $rootScope.wsuserdomain = \"\";\r\n      $rootScope.wsticket = \"\";\r\n    }\r\n\r\n    $.blockUI({\r\n      message: '<div class=\"loader\" style=\"margin: 2px; vertical-align: middle; display: inline-block\"><!--<i class=\"icon-cog icon-spin icon-4x\"><\/i>--><h3>Authenticating<\/h3><\/div>'\r\n    });\r\n\r\n    /*$.jStorage.deleteKey('wsusername');\r\n    $.jStorage.deleteKey('wspassword');\r\n    $.jStorage.deleteKey('wsticket');\r\n    $.jStorage.deleteKey('wsuserroles'); \r\n    $rootScope.wsusername = \"\";\r\n    $rootScope.wspassword = \"\";\r\n    $rootScope.wsticket = \"\";\r\n    $rootScope.wsuserroles = \"\"; */\r\n\r\n    $rootScope.registerTimeoutFunctions = function() {\r\n      if (!$rootScope.timeoutadded) {\r\n        $rootScope.$on(\"$routeChangeStart\", function(event, next, current) {\r\n          console.log(\"routeChangeStart-------------------\");\r\n          console.log(\"loggedin=\" + $rootScope.loggedin);\r\n          $rootScope.lastaccessed = $.jStorage.get(\"lastaccessed\");\r\n          console.log(\"lastaccessed=\" + $rootScope.lastaccessed);\r\n          console.log(\"$routeChangeStart Ending-----------\");\r\n          //alert(\"in routehange - fired=\"+ $rootScope.timeoutfired + \" - logged=\"+$rootScope.loggedin + \" - last=\"+$rootScope.lastaccessed);                \r\n          if ($rootScope.loggedin && $rootScope.lastaccessed) {\r\n            var timediff = Math.floor((new Date() - new Date($rootScope.lastaccessed)) / 1000 / 60);\r\n            console.log(\"timediff=\" + timediff);\r\n            //alert(\"timediff=\"+timediff);\r\n            if (timediff >= 120) {\r\n              $rootScope.timeoutfired = true;\r\n              $rootScope.ticket = null;\r\n              $rootScope.loggedin = false;\r\n              var lastuname = $.jStorage.get('username');\r\n              $.jStorage.deleteKey('username');\r\n              $.jStorage.deleteKey('password');\r\n              $.jStorage.deleteKey('ticket');\r\n              $rootScope.username = \"\";\r\n              $rootScope.password = \"\";\r\n              $rootScope.ticket = \"\";\r\n\r\n              var dofocus = function() {\r\n                $(\"#loginUsername\").val(lastuname);\r\n                $(\"#loginPassword\").focus();\r\n              }\r\n              if (window.device) {\r\n                MyCampusApp.rootScope.setRoute(\"/login\");\r\n                navigator.notification.alert(\"Please login again.\", dofocus, 'Session Timeout', 'OK');\r\n              } else {\r\n                MyCampusApp.rootScope.setRoute(\"/login\");\r\n                console.log(\"called login scren from routechangeevent event\");\r\n                alert(\"Please login again.\");\r\n              }\r\n            } else {\r\n              $rootScope.lastaccessed = new Date();\r\n              $.jStorage.set(\"lastaccessed\", $rootScope.lastaccessed);\r\n              $rootScope.timeoutfired = false;\r\n            }\r\n          } else {\r\n            $rootScope.lastaccessed = new Date();\r\n            $.jStorage.set(\"lastaccessed\", $rootScope.lastaccessed);\r\n            $rootScope.timeoutfired = false;\r\n          }\r\n\r\n        });\r\n        //alert(\"timeoutadded = true after init auth \");\r\n        $rootScope.timeoutadded = true;\r\n      }\r\n    }\r\n\r\n    $http.post(url, data).success(function(data, status, headers, config) {\r\n      //alert(\"authenticating\");\r\n      if (!data.error) {\r\n        $rootScope.ticket = data.ticket;\r\n        $rootScope.getAPI($rootScope.middlewareServerUrl + \"/services/student/banneruserroles\", function(roles) {\r\n          $.unblockUI();\r\n          //alert(\"got roles\");\r\n          if (roles.error && roles.error == \"Could not get PIDM for the supplied remoteuser\") {\r\n            data.roles = [];\r\n            if (window.device) {\r\n              navigator.notification.alert(\"Error due to incorrect user PIDM mapping.\");\r\n            } else {\r\n              apprise(\"Error due to incorrect user PIDM mapping.\", {\r\n                'verify': false,\r\n                'textYes': \"Ok\"\r\n              }, function(r) {\r\n\r\n              });\r\n            }\r\n          } else if (roles && roles.getuserroles && roles.getuserroles[0]) {\r\n            var uroles = [];\r\n            if (roles.getuserroles[0].GOVROLE_STUDENT_IND == \"Y\") {\r\n              uroles.push(\"STUDENT\");\r\n            }\r\n            if (roles.getuserroles[0].GOVROLE_EMPLOYEE_IND == \"Y\") {\r\n              uroles.push(\"EMPLOYEE\");\r\n            }\r\n            if (roles.getuserroles[0].GOVROLE_FACULTY_IND == \"Y\") {\r\n              uroles.push(\"FACULTY\");\r\n            }\r\n            if (roles.getuserroles[0].ALUMNI_IND == \"Y\") {\r\n              uroles.push(\"ALUMNI\");\r\n            }\r\n            if (roles.getuserroles[0].GOVROLE_FINANCE_IND == \"Y\") {\r\n              uroles.push(\"FINANCE\");\r\n            }\r\n            if (roles.getuserroles[0].GOVROLE_FINAID_IND == \"Y\") {\r\n              uroles.push(\"FINAID\");\r\n            }\r\n            data.roles = uroles;\r\n          }\r\n          success(data);\r\n          console.log($rootScope);\r\n          $rootScope.registerTimeoutFunctions();\r\n        });\r\n\r\n      } else {\r\n        $.unblockUI();\r\n        success(data);\r\n        $rootScope.registerTimeoutFunctions();\r\n      }\r\n\r\n      //$.unblockUI();\r\n    }).error(function(data, status, headers, config) {\r\n      error(data);\r\n      $.unblockUI();\r\n    });\r\n\r\n  } catch (e) {\r\n    alert(\"Exception : \" + e);\r\n  }\r\n}",
  "forgotPasswordUrl": "http://www.pwreset.raritanval.edu/default.aspx",
  "reportissueEmail": "helpdesk@raritanval.edu",
  "iconWidth": 70,
  "pushconfig": {
    "ApplicationId": "21312d1e12e12d12",
    "RestAPIKey": "233r23rf233f23",
    "ClientKey": "23r23r23r"
  },
  "apps": 
  [
    {
      "id": 40883,
      "name": "Office36517",
      "displayname": "Lion Mail",
      "logo": "RVCC/Office36517.png",
      "logourl": "RVCC/Office36517.png",
      "description": "Office 365",
      "appFeatureType": "Services",
      "roles": null,
      "showInDock": false,
      "showInHome": false,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "Office36517",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorOffice36517(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  $.blockUI();\r\n  var cd = \"\";\r\n  var casurl = pagedef.casurl;\r\n  var qlssourl = pagedef.qlssourl;\r\n  //var launchurl = pagedef.casurl + \"/cas/login?service=\" + qlssourl;\r\n  var iabRef = window.open(qlssourl, \"_blank\", \"location=no,hidden=yes,clearcache=yes,enableViewportScale=yes,hardwareback=no,clearcache=yes\");\r\n  var iabClose = function(data) {\r\n    //window.location.href = \"index.html#home\";\r\n    $.unblockUI();\r\n  };\r\n  iabRef.addEventListener(\"exit\", iabClose);\r\n  var hideBlockUi = function() {\r\n    setTimeout(function() {\r\n      iabRef.show();\r\n      $.unblockUI();\r\n    }, 2000);\r\n  };\r\n  var username = $.jStorage.get(\"username\");\r\n  var password = $.jStorage.get(\"password\");\r\n\r\n  var cd = \"document.getElementById('userNameInput').value = '\" + username + \"';document.getElementById('passwordInput').value = '\" + password + \"';setTimeout(function(){   //document.getElementById('submitButton').click();},4000)\";\r\n\r\n  var cb = function(data) {\r\n    // alert(JSON.stringify(data))\r\n  };\r\n\r\n  var cb = function(data) {\r\n    //alert(data + \"   test data\");\r\n  };\r\n  var loadStop = function(data) {\r\n    iabRef.executeScript({\r\n      code: cd\r\n    }, cb);\r\n    if (data.url.indexOf(\"wsignin\") != -1) {\r\n      hideBlockUi();\r\n    }\r\n  };\r\n  iabRef.addEventListener(\"loadstop\", loadStop);\r\n  $location.path(\"/app/Banner3/Banner3\");\r\n}",
          "casurl": "https://lionsden.raritanval.edu",
          "qlssourl": "https://outlook.com/raritanval.edu"
        }
      ]
    },
    {
      "id": 48589,
      "name": "Athletics115",
      "displayname": "The Record",
      "logo": "RVCC/Athletics115.png",
      "logourl": "RVCC/Athletics115.png",
      "description": "Athletics",
      "appFeatureType": "Public",
      "roles": null,
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": false,
      "pages": 
      [
        {
          "pageid": "Athletics115",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorAthletics115(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {if (window.device) {$.blockUI();}var iabRef = window.open(pagedef.url, \"_blank\", \"location=no,hidden=no,enableViewportScale=yes,clearcache=yes\");var hideBlockUi = function() {$.unblockUI();iabRef.show();        };var iabClose = function(data) {$.unblockUI();iabRef.removeEventListener(\"exit\", iabClose);window.location.href = \"index.html#home\";};iabRef.addEventListener(\"exit\", iabClose);var loadStop = function(data) {hideBlockUi();iabRef.removeEventListener(\"loadstop\", loadStop);};iabRef.addEventListener(\"loadstop\", loadStop);}",
          "url": "http://www.rvcctherecord.com/"
        }
      ]
    },
    {
      "id": 48916,
      "name": "RegStatus",
      "displayname": "Registration Status",
      "logo": "RVCC/RegStatus.png",
      "logourl": "RVCC/RegStatus.png",
      "description": "Registration Status",
      "appFeatureType": "Services",
      "roles": "STUDENT",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "RegStatus",
          "pageTemplate": "<div><\/div>",
          "dropdownendpoint": "/services/student/bannertermsForClassLookup",
          "listendpoint": "/services/student/bannerregistrationstatus/termCode=",
          "datatemplate": "<style>\r\n  .panel {\r\n    margin-bottom: 0px;\r\n  }\r\n<\/style>\r\n<div class=\"\">\r\n    <div class=\"panel panel-info panel-inverse\" >\r\n        <div class=\"panel-heading panel-heading-inverse\" >\r\n            <select id=\"termselect\" ng-model=\"selectedvalue\" class=\"form-control\" ng-change=\"dropdownselect(this.value);\">\r\n                <option value=\"\">-- Select a Term --<\/option>\r\n                <option ng-selected=\"selectedvalue == term.TERM_CODE\" value=\"{{term.TERM_CODE}}\" ng-repeat=\"term in dropdown.termdropdown\">{{term.TERM_DESC}}<\/option>\r\n            <\/select>\r\n        <\/div>\r\n        <div class=\"panel-body\" style=\"background:transparent;padding-left:4px !important;padding-right:4px !important;\">\r\n\r\n          <div  ng-show=\"listdata\">\r\n                <div class=\"panel panel-primary\" >\r\n                    <div class=\"panel-heading\">\r\n                        <h3 class=\"panel-title\">\r\n                          Registration<span class=\"pull-right fa fa-times\" style=\"font-size:14px;color:red;\">&nbsp;<span style=\"color:#fff;\">Not Good<\/span><\/span><span class=\"pull-right fa fa-check\" style=\"font-size:14px;color:green;\">&nbsp;<span style=\"color:#fff;\">Good<\/span><\/span><\/h3>\r\n                    <\/div>\r\n                    <ul class=\"list-group\">\r\n                        <li class=\"list-group-item\">Student Status :\r\n                            <span class=\"pull-right fa fa-check fa-2x\" style=\"color: green;margin-top: -3px;\" ng-show=\"listdata.STUDENT_STATUS == 'Permit'\"><\/span>\r\n                            <span class=\"pull-right fa fa-times fa-2x\" style=\"color: red;margin-top: -3px;\" ng-show=\"listdata.STUDENT_STATUS != 'Permit'\"><\/span>\r\n\r\n                        <\/li>\r\n                        <li class=\"list-group-item\">Academic Standing :\r\n                            <span class=\"pull-right fa fa-check fa-2x\" style=\"color: green;margin-top: -3px;\" ng-show=\"listdata.ACADEMIC_STANDING == 'Permit'\"><\/span>\r\n                            <span class=\"pull-right fa fa-times fa-2x\" style=\"color: red;margin-top: -3px;\" ng-show=\"listdata.ACADEMIC_STANDING != 'Permit'\"><\/span>\r\n                        <\/li>\r\n                        <li class=\"list-group-item\">Holds :\r\n                            <span class=\"pull-right fa fa-check fa-2x\" style=\"color: green;margin-top: -3px;\" ng-show=\"listdata.HOLDS == 'Permit'\"><\/span>\r\n                            <span class=\"pull-right fa fa-times fa-2x\" style=\"color: red;margin-top: -3px;\" ng-show=\"listdata.HOLDS != 'Permit'\"><\/span>\r\n                        <\/li>\r\n                    <\/ul>\r\n                <\/div>\r\n                <div class=\"panel panel-primary\">\r\n                    <div class=\"panel-heading\" >\r\n                        <h3 class=\"panel-title\">Credit Information<\/h3>\r\n                    <\/div>\r\n                    <ul class=\"list-group\" ng-repeat=\"cinfo in listdata.CREDIT_INFORMATION\">\r\n                        <a class=\"list-group-item active panel-subgroup-link\">{{cinfo[0].CREDIT_TYPE}}<\/a>\r\n                        <li class=\"list-group-item\">Level : <span class=\"pull-right\">{{cinfo[0].LEVEL_DESC}}<\/span>\r\n                        <\/li>\r\n                        <li class=\"list-group-item\">Hours : <span class=\"pull-right\">{{cinfo[0].HOURS}}<\/span>\r\n                        <\/li>\r\n                    <\/ul>\r\n                <\/div>\r\n            <\/div>\r\n\r\n        <\/div>\r\n    <\/div>\r\n\r\n<\/div>",
          "pageprocessor": "function pageprocessorRegStatus(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    $rootScope.getAPI($rootScope.middlewareServerUrl + pagedef.dropdownendpoint, function (data) {\r\n       $scope.dropdown = data;\r\n      if(data.currenttermforclasslookup && data.currenttermforclasslookup.length > 0) {\r\n          $scope.selectedvalue = data.currenttermforclasslookup[0].CURRENT_TERM;\r\n          $scope.dropdownselect();\r\n      }\r\n    });    \r\n    $scope.dropdownselect = function (selectedvalue) {\r\n        $('#termselect').blur();\r\n        $rootScope.getAPI($rootScope.middlewareServerUrl + pagedef.listendpoint + $scope.selectedvalue, function (data) {\r\n          $scope.listdata = data;\r\n        });        \r\n    }\r\n}"
        }
      ]
    },
    {
      "id": 53971,
      "name": "Cafetest",
      "displayname": "Cafeteria",
      "logo": "RVCC/Cafetest.png",
      "logourl": "RVCC/Cafetest.png",
      "description": "Cafe-test",
      "appFeatureType": "Public",
      "roles": null,
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "Cafetest",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorCafetest(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  if (window.device) {\r\n    $.blockUI();\r\n  }\r\n  var iabRef = window.open(pagedef.url, \"_system\", \"location=no,hidden=yes,enableViewportScale=yes,clearcache=yes\");\r\n  var hideBlockUi = function() {\r\n    $.unblockUI();\r\n    iabRef.show();\r\n  };\r\n  var iabClose = function(data) {\r\n    $.unblockUI();\r\n    iabRef.removeEventListener(\"exit\", iabClose);\r\n    window.location.href = \"index.html#home\";\r\n  };\r\n  iabRef.addEventListener(\"exit\", iabClose);\r\n  var loadStop = function(data) {\r\n    hideBlockUi();\r\n    iabRef.removeEventListener(\"loadstop\", loadStop);\r\n  };\r\n  iabRef.addEventListener(\"loadstop\", loadStop);\r\n  var loadError = function(data) {\r\n    $.blockUI();\r\n    handleDocumentWithURL(\r\n      function() {\r\n\r\n        $.unblockUI();\r\n        window.location.href = \"index.html#home\";\r\n      },\r\n      function(error) {\r\n\r\n        if (error) {\r\n          navigator.notification.alert('You must have a PDF reader app to view Details');\r\n          $.unblockUI();\r\n        }\r\n      },\r\n      pagedef.url\r\n    );\r\n  };\r\n\r\n  iabRef.addEventListener('loaderror', loadError);\r\n\r\n\r\n\r\n\r\n\r\n}",
          "url": "https://commons.raritanval.edu/studentserv/dining/Documents/MenuCulinart.pdf"
        }
      ]
    },
    {
      "id": 68197,
      "name": "PaperCut",
      "displayname": "PaperCut",
      "logo": "RVCC/PaperCut.png",
      "logourl": "RVCC/PaperCut.png",
      "description": "PaperCut",
      "appFeatureType": "Services",
      "roles": null,
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "PaperCut",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorPaperCut(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {if (window.device) {$.blockUI();}var iabRef = window.open(pagedef.url, \"_blank\", \"location=no,hidden=no,enableViewportScale=yes,clearcache=yes\");var hideBlockUi = function() {$.unblockUI();iabRef.show();        };var iabClose = function(data) {$.unblockUI();iabRef.removeEventListener(\"exit\", iabClose);window.location.href = \"index.html#home\";};iabRef.addEventListener(\"exit\", iabClose);var loadStop = function(data) {hideBlockUi();iabRef.removeEventListener(\"loadstop\", loadStop);};iabRef.addEventListener(\"loadstop\", loadStop);}",
          "url": "http://printsrv:9191/user"
        }
      ]
    },
    {
      "id": 156222,
      "name": "StudentHandbook4",
      "displayname": "Student Handbook",
      "logo": "RVCC/StudentHandbook4.png",
      "logourl": "RVCC/StudentHandbook4.png",
      "description": "Student Handbook",
      "appFeatureType": "Public",
      "roles": null,
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": false,
      "pages": 
      [
        {
          "pageid": "StudentHandbook4",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorStudentHandbook4(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  if (window.device) {\r\n    $.blockUI();\r\n  }\r\n  var iabRef = window.open(pagedef.url, \"_system\", \"location=no,hidden=yes,enableViewportScale=yes,clearcache=yes\");\r\n  var hideBlockUi = function() {\r\n    $.unblockUI();\r\n    iabRef.show();\r\n  };\r\n  var iabClose = function(data) {\r\n    $.unblockUI();\r\n    iabRef.removeEventListener(\"exit\", iabClose);\r\n    window.location.href = \"index.html#home\";\r\n  };\r\n  iabRef.addEventListener(\"exit\", iabClose);\r\n  var loadStop = function(data) {\r\n    hideBlockUi();\r\n    iabRef.removeEventListener(\"loadstop\", loadStop);\r\n  };\r\n  iabRef.addEventListener(\"loadstop\", loadStop);\r\n  var loadError = function(data) {\r\n    $.blockUI();\r\n    handleDocumentWithURL(\r\n      function() {\r\n\r\n        $.unblockUI();\r\n        window.location.href = \"index.html#home\";\r\n      },\r\n      function(error) {\r\n\r\n        if (error) {\r\n          navigator.notification.alert('You must have a PDF reader app to view Details');\r\n          $.unblockUI();\r\n        }\r\n      },\r\n      pagedef.url\r\n    );\r\n  };\r\n\r\n  iabRef.addEventListener('loaderror', loadError);\r\n\r\n\r\n\r\n\r\n\r\n}",
          "url": "https://www.raritanval.edu/sites/default/files/PDF%20Files/8.x%20General%20Information/D0422_RVCC%20Student%20Handbook%202019-2010.pdf"
        }
      ]
    },
    {
      "id": 14692,
      "name": "RVCChome",
      "displayname": "RVCC home",
      "logo": "RVCC/RVCChome.png",
      "logourl": "RVCC/RVCChome.png",
      "description": "RVCC home",
      "appFeatureType": "Public",
      "roles": null,
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "RVCChome",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorRVCChome(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {if (window.device) {$.blockUI();}var iabRef = window.open(pagedef.url, \"_blank\", \"location=yes,hidden=no,enableViewportScale=yes,clearcache=yes\");var hideBlockUi = function() {$.unblockUI();iabRef.show();        };var iabClose = function(data) {$.unblockUI();iabRef.removeEventListener(\"exit\", iabClose);window.location.href = \"index.html#home\";};iabRef.addEventListener(\"exit\", iabClose);var loadStop = function(data) {hideBlockUi();iabRef.removeEventListener(\"loadstop\", loadStop);};iabRef.addEventListener(\"loadstop\", loadStop);}",
          "url": "http://www.raritanval.edu"
        }
      ]
    },
    {
      "id": 12670,
      "name": "Banner3",
      "displayname": "Services",
      "logo": "RVCC/Banner3.png",
      "logourl": "RVCC/Banner3.png",
      "description": "Banner",
      "appFeatureType": "Services",
      "roles": null,
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "Banner3",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorBanner3(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n\r\n  var appnames = pagedef.appnames.split(\",\");\r\n  var results = [];\r\n  for (var i = 0; i < appnames.length; i++) {\r\n    for (var j = 0; j < $rootScope.apps.length; j++) {\r\n      if ($rootScope.apps[j].displayname == appnames[i]) {\r\n        results.push($rootScope.apps[j]);\r\n      }\r\n    }\r\n  }\r\n  $scope.groupapps = results;\r\n  var data1 = $compile($(pagedef.datatemplate))($scope);\r\n  $(\"#appContent\").append(data1);\r\n\r\n  var homedata = $(\"#homedata\");\r\n  var loadpage = function() {\r\n    $(\"#appContent\").html(\"\");\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    var homedata = $(\"#homedata\");\r\n    var iconwidth = 30;\r\n    var sampleicon = $('#sampleicon');\r\n    var calculated = sampleicon.outerWidth(true);\r\n    if (calculated != 0) {\r\n      iconwidth = sampleicon.outerWidth(true) + 24;\r\n    }\r\n    var width = $(window).width() > 780 ? $(window).width() - 280 : $(window).width();\r\n    var cols = Math.floor(width / iconwidth);\r\n    var rows = Math.floor(($(window).height() - 200) / iconwidth);\r\n    var icon;\r\n    for (_i = 0, _len = $scope.groupapps.length; _i < _len; _i++) {\r\n      icon = $scope.groupapps[_i];\r\n      var markup = '<li><a href=\"#app/' + icon.name + \"/\" + icon.name + '?from=Banner3\"><img src=\"' + icon.logo + '\" class=\"icon\"><\/img><\/a>' +\r\n        '<div class=\"campuseai-Info text-center\" style=\"width:' + calculated + 'px;overflow:hidden;text-overflow: ellipsis;\">' + icon.displayname + '<\/div><\/li>';\r\n      homedata.append(markup);\r\n    }\r\n\r\n    //AK added for promptumenu\r\n    $(\"#homedata\").promptumenu({\r\n      width: (width - 24),\r\n      height: ($(window).height() - 200),\r\n      rows: rows,\r\n      columns: cols,\r\n      direction: 'horizontal',\r\n      pages: true\r\n    });\r\n\r\n  };\r\n\r\n  loadpage();\r\n  var handleEmergencyOrientation = function() {\r\n    if (orientation == 0) {\r\n      setTimeout(function() {\r\n        loadpage()\r\n      }, 400);\r\n    } else if (orientation == 90) {\r\n      setTimeout(function() {\r\n        loadpage()\r\n      }, 400);\r\n    } else if (orientation == -90) {\r\n      setTimeout(function() {\r\n        loadpage()\r\n      }, 400);\r\n    } else if (orientation == 180) {\r\n      setTimeout(function() {\r\n        loadpage()\r\n      }, 400);\r\n    } else {}\r\n  }\r\n  window.handleOrientation = handleEmergencyOrientation;\r\n  window.addEventListener('orientationchange', handleEmergencyOrientation, false);\r\n  $scope.$on('$destroy', function() {\r\n    window.removeEventListener('orientationchange', handleEmergencyOrientation, false);\r\n    window.handleOrientation = null;\r\n  });\r\n\r\n \r\n\r\nfunction onBackKeyDown() {\r\n    window.location.href = \"index.html#home\";\r\n} \r\n  document.addEventListener(\"backbutton\", onBackKeyDown, false);\r\n\r\n}",
          "appnames": "Holds,Midterm Grades,Final Grades,Account Summary,Student Schedule,Academic Transcript,Lookup Classes,Add/Drop Classes,My Emergency Contacts,Address Update,Lion Mail,Library Databases,Password Manager,Password Reset",
          "datatemplate": "<div>\r\n    <ul id=\"homedata\"><\/ul>\r\n<\/div>\r\n\r\n\r\n<!--<div class=\"container\" style=\"padding-top:20px;\"><div class=\"col-xs-4 col-sm-1 col-md-6\" ng-repeat=\"app in groupapps\"><a href=\"#app/{{app.name}}/{{app.name}}\" class=\"thumbnail\" style=\"background:transparent;border:none;color:white;\"><img id=\"logo-{{app.name}}\" src=\"{{app.logo}}\" alt=\"...\" class=\"icon\"/><div style=\"text-align:center;\">{{app.displayname}}<\/div><\/a><\/div><\/div>-->"
        }
      ]
    },
    {
      "id": 13858,
      "name": "LibraryDatabases2",
      "displayname": "Library Databases",
      "logo": "RVCC/LibraryDatabases2.png",
      "logourl": "RVCC/LibraryDatabases2.png",
      "description": "Library Databases",
      "appFeatureType": "Services",
      "roles": null,
      "showInDock": false,
      "showInHome": false,
      "networkrequired": true,
      "analytics": false,
      "pages": 
      [
        {
          "pageid": "LibraryDatabases2",
          "pageTemplate": "<div><\/div>",
          "qlssourl": "https://lionsden.raritanval.edu/QuickLaunch/api/launch/19",
          "casurl": "https://lionsden.raritanval.edu",
          "pageprocessor": "function pageprocessorLibraryDatabases2(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  /*$.blockUI();\r\n  var casurl = pagedef.casurl;\r\n  var qlssourl = pagedef.qlssourl;\r\n  var baseUrl = casurl;\r\n  var url = baseUrl + \"/cas/v1/tickets/\";\r\n  $rootScope.generateCASST = function(tgt, service, callback) {\r\n    var url = baseUrl + \"/cas/v1/tickets/\";\r\n    var data = {};\r\n    if (window.device) {\r\n      data = \"service=\" + service;\r\n    } else {\r\n      url = \"/websimulator/text?url=\" + baseUrl + \"/cas/v1/tickets/\";\r\n      data = {\r\n        method: \"POST\",\r\n        body: \"service=\" + service\r\n      };\r\n    }\r\n    $.ajax({\r\n      url: url + tgt,\r\n      type: \"POST\",\r\n      async: true,\r\n      data: data,\r\n      error: function(response) {\r\n        $rootScope.generateTGT(function(tgt1) {\r\n          $rootScope.generateCASST(tgt1, service, callback);\r\n        });\r\n      },\r\n      success: function(data) {\r\n        callback(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  $rootScope.generateTGT = function() {\r\n    $.blockUI();\r\n    var uname = $.jStorage.get(\"username\");\r\n    var password = $.jStorage.get(\"password\");\r\n    //var uname = \"G00242805\";\r\n    //var password = \"rvcc@1234\";\r\n    var data = {};\r\n    if (window.device) {\r\n      data = \"username=\" + uname + \"&password=\" + password;\r\n    } else {\r\n      url = \"/websimulator/text?url=\" + url;\r\n      data = {\r\n        method: \"POST\",\r\n        body: \"username=\" + uname + \"&password=\" + password\r\n      };\r\n    }\r\n    $.ajax({\r\n      url: url,\r\n      type: \"POST\",\r\n      async: true,\r\n      data: data,\r\n      error: function(response) {\r\n        $.unblockUI();\r\n      },\r\n      success: function(data) {\r\n        $.unblockUI();\r\n      },\r\n      complete: function(response, textStatus) {\r\n        $.unblockUI();\r\n        if (textStatus == \"success\" && response.status == 201) {\r\n          var str = response.getResponseHeader(\"Location\");\r\n          var tgtTicket = str.substr(str.lastIndexOf(\"/\") + 1);\r\n          $rootScope.tgtticket = tgtTicket;\r\n          //callback(tgtTicket);\r\n          $rootScope.generateCASST($rootScope.tgtticket, qlssourl, function(st) {\r\n            window.open(qlssourl + \"?ticket=\" + st, \"_blank\", \"location=yes,enableViewportScale=yes\");\r\n            $.unblockUI();\r\n            $location.path(\"/home\");\r\n            $scope.$apply();\r\n          });\r\n        } else {\r\n          alert(\"Oops! Error occured while processing this request.\");\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  $rootScope.generateTGT();\r\n  /*$rootScope.generateCASST($rootScope.tgtticket, qlssourl, function(st) {\r\n      window.open(qlssourl + \"&ticket=\" + st, \"_blank\", \"location=yes,enableViewportScale=yes\");\r\n      $.unblockUI();\r\n      $location.path(\"/home\");\r\n      $scope.$apply();\r\n  });*/\r\n\r\n  var exitCallBack = function(data) {\r\n    $.unblockUI();\r\n    $location.path(\"/app/Banner3/Banner3\");\r\n  };\r\n  var hideBlockUi = function() {\r\n    inAppBrowserRef.show();\r\n    $.unblockUI();\r\n  };\r\n\r\n  var username = $.jStorage.get(\"username\");\r\n  var password = $.jStorage.get(\"password\");\r\n  var cd = \"document.getElementsByName('user')[0].value = '\" + username + \"';document.getElementsByName('pass')[0].value = '\" + password + \"';document.getElementsByTagName('button')[1].click();\";\r\n  var cb = function(data) {};\r\n  var loadStopCallBack = function(data) {\r\n    inAppBrowserRef.executeScript({\r\n      code: cd\r\n    }, cb);\r\n    if (data.url.indexOf(\"ezp.raritanval.edu/login\") != -1) {\r\n      $.blockUI();\r\n      inAppBrowserRef = window.open(qlssourl, \"_blank\", \"location=no,hidden=yes,hardwareback=no\");\r\n    } else {\r\n      hideBlockUi();\r\n    }\r\n\r\n  };\r\n\r\n  var inAppBrowserRef = window.open(\"http://library.raritanval.edu/az.php\", \"_blank\", \"location=no,enableViewportScale=yes\");\r\n  $location.path(\"/app/Banner3/Banner3\");\r\n\r\n  inAppBrowserRef.addEventListener('loadstop', loadStopCallBack);\r\n  inAppBrowserRef.addEventListener(\"exit\", exitCallBack);\r\n\r\n}"
        }
      ]
    },
    {
      "id": 11049,
      "name": "Grades5",
      "displayname": "Grades",
      "logo": "RVCC/Grades5.png",
      "logourl": "RVCC/Grades5.png",
      "description": "Grades",
      "appFeatureType": "WebStudy",
      "roles": null,
      "showInDock": false,
      "showInHome": false,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "Grades5",
          "pageTemplate": "<div><\/div>",
          "endpoint": "Notdefined",
          "datatemplate": "<div style=\"margin:4px;\" ng-show=\"!showDialog\">\r\n    <div>\r\n        <h2 style=\"color:#fff;text-shadow:2px 2px #000;font-family:Trebuchet MS,Arial;\"> Course Sessions: <h2>\r\n\t<\/div>\r\n\t<div class=\"panel panel-primary\" ng-repeat=\"course in courselist\">\r\n\t\t<div class=\"panel-heading\">\r\n\t\t\t<div class=\"panel-title\">{{course.Name}} <\/div>\r\n\t\t<\/div>\r\n\t\t<div class=\"list-group\">\r\n\t\t\t<div  class=\"list-group-item\" ng-repeat=\"crse in course.Items\"  ng-click=\"showDetails(crse,course.Name)\"> \r\n\t\t\t\t<div class=\"row clearfix\">\r\n\t\t\t\t\t<div class=\"col-xs-9 col-md-9\">\r\n\t\t\t\t\t\t{{crse.Name}}\r\n\t\t\t\t\t<\/div>\r\n                    \r\n\t\t\t\t\t<div class=\"col-xs-3 col-md-3\">\r\n\t\t\t\t\t\t<i class=\"fa fa-chevron-right pull-right\"><\/i>\r\n\t\t\t\t\t<\/div>\r\n                    \r\n\t\t\t\t<\/div>\r\n\t\t\t<\/div>\r\n\t\t<\/div>\r\n\t<\/div>\r\n<\/div>\r\n<div class=\"well\" ng-show=\"showDialog\" style=\"margin:6px;\">\r\n\t<div id=\"msgSection\">\r\n\t\t<p ng-bind-html=\"trusthtml(messages[msgIndex][1])\"><\/p>\r\n\t<\/div>\r\n\t<div class=\"list-group-item clearfix\">\r\n\t\t<div class=\"checkbox\">\r\n\t\t  <label><input type=\"checkbox\" ng-model=\"readMsg\" value=\"\">I confirm that I have read<\/label>\r\n\t\t<\/div>\r\n\t\t<div class=\"btn btn-default pull-right\" ng-click=\"iterateMsg();\">Next<\/div>\r\n\t<\/div>\r\n<\/div>",
          "pageprocessor": "function pageprocessorGrades5(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n\r\n    $scope.showDialog = false;\r\n    $scope.messages = [];\r\n    $scope.msgIndex = -1;\r\n    $scope.courselist = [];\r\n    $rootScope.courseid = \"\";\r\n    $rootScope.coursename = \"\";\r\n    $rootScope.category = \"\"; \r\n    $scope.courseid = \"\";\r\n    $scope.readMsg = false;    \r\n\r\n    if ($rootScope.lastPage) {\r\n        $rootScope.lastPage = \"\";\r\n        $scope.courselist = $rootScope.courselist;\r\n    } else {\r\n        var url = $rootScope.WebStudyURL + \"/services/data/RVCC/WebStudy/WebStudyCourses\";\r\n\r\n        $rootScope.postWSAPI(url, '', function(data) {\r\n            $.unblockUI();\r\n            //if (window.device) {\r\n                var formatres = JSON.parse(data.courseinfo);\r\n                data.courseinfo = formatres;\r\n            //}\r\n            if (data.courseinfo && data.courseinfo.Items.length > 0) {\r\n                $scope.courselist = data.courseinfo.Items;\r\n            } \r\n\r\n            \r\n            if (!data.courseinfo || data.courseinfo.Items.length == 0) {\r\n                var gotoHome = function() {\r\n                    $rootScope.$apply(function() {\r\n                        $location.path(\"/home\");\r\n                    });\r\n                };\r\n                if (window.device) {\r\n                    navigator.notification.alert(\"No course information found.\", gotoHome, 'My Courses', 'OK');\r\n                } else {\r\n                    apprise(\"No course information found.\", {\r\n                        'verify': false,\r\n                        'textYes': \"Ok\"\r\n                    }, function(r) {\r\n                        gotoHome();\r\n                    });\r\n                }\r\n            }  \r\n        });\r\n    }\r\n\r\n    $scope.sanitizeGradeInfo = function(data) {\r\n        var clength = data.category.length - 1;\r\n        angular.forEach(data.category, function(value,key) {\r\n            if (clength > key) {\r\n                var slength = value.gradeitems.length - data.category[key+1].gradeitems.length;\r\n                value.gradeitems.splice(slength);\r\n                //console.log(value.gradeitems);\r\n            }\r\n        });\r\n\r\n    }    \r\n\r\n    $scope.showDetails = function(crse,category) {\r\n        //console.log(crse);\r\n        $rootScope.courseid = crse.Id;\r\n        $rootScope.coursename = crse.Name;\r\n        $rootScope.category = category;\r\n        $scope.courseid = crse.Id;\r\n        var gurl = $rootScope.WebStudyURL + \"/services/data/RVCC/WebStudy/WebStudyCourseSyllabus\";\r\n        $rootScope.postWSAPI(gurl,\"courseid=\"+crse.Id,function(data) {           \r\n            if (data.msgsjson && data.msgsjson.data.length > 0) {\r\n                //needs confirmation. show dialog boxes\r\n                $scope.showDialog = true;\r\n                $scope.messages = data.msgsjson.data;\r\n                $scope.msgIndex = 0;\r\n                console.log($scope.messages[$scope.msgIndex][1]);\r\n            } else {\r\n                var gurl1 = $rootScope.WebStudyURL + \"/services/data/RVCC/WebStudy/WebStudyGrades\";\r\n                $rootScope.postWSAPI(gurl1,\"courseid=\"+crse.Id,function(data1) {\r\n                    if(data1.totalgradepoints.length == 0) {\r\n                        if (window.device) {\r\n                            navigator.notification.alert(\"You have no grades for the course.\", gotoHome, 'My Courses', 'OK');\r\n                        } else {\r\n                            apprise(\"You have no grades for the course.\", {\r\n                                'verify': false,\r\n                                'textYes': \"Ok\"\r\n                            }, function(r) {\r\n                                gotoHome();\r\n                            });\r\n                        }                \r\n                    } else {\r\n                        $scope.sanitizeGradeInfo(data1);\r\n                        $rootScope.gradeinfo = data1;\r\n                        $location.path(\"/app/Grades5/Grades5Page2\");\r\n                    }\r\n                });               \r\n            }\r\n\r\n        });        \r\n        /*\r\n        var gurl = \"https://kryptosmw.kryptosmobile.com/webadapter2/services/data/RVCC/WebStudy/WebStudyGrades\";\r\n        $rootScope.postWSAPI(gurl,\"courseid=\"+crse.Id,function(data) {\r\n            if(data.totalgradepoints.length == 0) {\r\n                if (window.device) {\r\n                    navigator.notification.alert(\"You have no grades for the course.\", gotoHome, 'My Courses', 'OK');\r\n                } else {\r\n                    apprise(\"You have no grades for the course.\", {\r\n                        'verify': false,\r\n                        'textYes': \"Ok\"\r\n                    }, function(r) {\r\n                        gotoHome();\r\n                    });\r\n                }                \r\n            }else{\r\n            $scope.sanitizeGradeInfo(data);\r\n            $rootScope.gradeinfo = data;\r\n            $location.path(\"/app/Grades5/Grades5Page2\");\r\n        }\r\n        });*/\r\n    }\r\n\r\n    $scope.trusthtml = function (data) {\r\n        return $sce.trustAsHtml(data);\r\n    }\r\n\r\n    $scope.iterateMsg = function() {\r\n        if (!$scope.readMsg) {\r\n            var gotoHome = function() {\r\n                return;\r\n            };\r\n            if (window.device) {\r\n                navigator.notification.alert(\"Please tick the checkbox 'I confirm that I have read' before proceeding.\", gotoHome, 'My Courses', 'OK');\r\n            } else {\r\n                apprise(\"Please tick the checkbox 'I confirm that I have read' before proceeding.\", {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function(r) {\r\n                    gotoHome();\r\n                });\r\n            }   \r\n            return;         \r\n        }        \r\n        var gurl = $rootScope.WebStudyURL + \"/services/data/RVCC/WebStudy/WebStudyCourseConfirmAnnouncement\";\r\n        var newsid = $scope.messages[$scope.msgIndex][0];\r\n        $rootScope.postWSAPI(gurl,\"newsid=\"+newsid,function(data) {\r\n             if ($scope.msgIndex < $scope.messages.length -1) {\r\n               $scope.msgIndex++;\r\n            } else {\r\n                var gurl1 = $rootScope.WebStudyURL + \"/services/data/RVCC/WebStudy/WebStudyGrades\";\r\n                $rootScope.postWSAPI(gurl1,\"courseid=\"+$scope.courseid,function(data1) {\r\n                    if (data1.totalgradepoints.length == 0) {\r\n                        if (window.device) {\r\n                            navigator.notification.alert(\"You have no grades for the course.\", gotoHome, 'My Courses', 'OK');\r\n                        } else {\r\n                            apprise(\"You have no grades for the course.\", {\r\n                                'verify': false,\r\n                                'textYes': \"Ok\"\r\n                            }, function(r) {\r\n                                gotoHome();\r\n                            });\r\n                        }                \r\n                    } else {\r\n                        $scope.sanitizeGradeInfo(data1);\r\n                        $rootScope.gradeinfo = data1;\r\n                        $location.path(\"/app/Grades5/Grades5Page2\");\r\n                    }\r\n                });                \r\n            }           \r\n        });         \r\n\r\n    }\r\n\r\n    $rootScope.back = function() {\r\n        if ($routeParams.from) {\r\n           if (window.device) {\r\n                if (device.platform == 'iOS') {\r\n                    history.go(-1);\r\n                } else {\r\n                    navigator.app.backHistory();\r\n                }\r\n           } else {\r\n             $location.path(\"/app/WebStudy/WebStudy\");\r\n           }           \r\n        } else {\r\n            window.location.href = \"index.html#home\";\r\n        }\r\n    }\r\n  \r\n\r\n}\r\n\r\n"
        },
        {
          "pageid": "Grades5Page2",
          "pageTemplate": "<div><\/div>",
          "datatemplate": "<div>\r\n  <div class=\"list-group-item\" style=\"background:#414a3e;color:#fff;border-bottom:none;\">\r\n    <div class=\"ng-binding\" style=\"font-size: 1.2em;font-family:Trebuchet MS, Arial;margin-bottom: 5px;\">\r\n      {{coursename}}\r\n    <\/div>\r\n    <i style=\"font-size:1em;\">{{category}}<\/i>\r\n  <\/div>\r\n  <div class=\"list-group-item\" style=\"background:#e3e3e3;min-height:20px;\">\r\n    <span>{{wsusername}}'s Grade Report <\/span>\r\n  <\/div>\r\n  <div class=\"list-group-item\" style=\"font-weight:bold;\">\r\n    Grade Summary: <span class=\"badge pull-right\" style=\"padding:8px;\">{{gradeinfo.totalgradepoints[0].totalgradepoints.join('').replace(',','')}} <\/span>\r\n  <\/div>\r\n  <div class=\"list-group-item\" ng-repeat=\"cat in gradeinfo.category\" ng-click=\"showGradeDetails(cat)\">\r\n    <div style=\"font-family:Trebuchet MS,Arial;font-size:1.2em;\">{{cat.cname}}<\/div>\r\n    <div style=\"font-size:1em;\"> Contribution:&nbsp;&nbsp; {{cat.contribution}}<\/div>\r\n    <div><i style=\"font-size:1.1em;color:blue;\">Grade:&nbsp;&nbsp; {{cat.totalGrades}} <\/i><\/div>\r\n  <\/div>\r\n<\/div>",
          "endpoint": "",
          "pageprocessor": "function pageprocessorGrades5Page2(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    $scope.gradeinfo = $rootScope.gradeinfo;\r\n    $scope.courseid = $rootScope.courseid;\r\n    $scope.coursename = $rootScope.coursename;\r\n    $scope.category = $rootScope.category;\r\n    $scope.wsusername =  $.jStorage.get('wsusername');\r\n    \r\n    $scope.showGradeDetails = function(cat) {\r\n        console.log(cat);\r\n        $rootScope.selcategory = cat;\r\n        $location.path(\"/app/Grades5/Grades5Page3\");\r\n    }\r\n}"
        },
        {
          "pageid": "Grades5Page3",
          "pageTemplate": "<div><\/div>",
          "endpoint": "",
          "pageprocessor": "function pageprocessorGrades5Page3(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n\r\n    $scope.gradeinfo = $rootScope.gradeinfo;\r\n    $scope.courseid = $rootScope.courseid;\r\n    $scope.coursename = $rootScope.coursename;\r\n    $scope.category = $rootScope.category;\r\n    $scope.wsusername = $.jStorage.get('wsusername');\r\n    $scope.selcategory = $rootScope.selcategory;\r\n\r\n    var str = \"\";\r\n    var n = \"\";\r\n    var n1 = \"\";\r\n    var s = \"\";\r\n\r\n\r\n    angular.forEach($scope.selcategory.gradeitems, function(value,key){\r\n    \tstr = value.comments;\r\n\r\n    \tvalue.fcomments = \"\";\r\n    \tif (str) {\r\n\t \t\tn = str.indexOf(\"<p>\");\r\n\t\t\tn1 = str.indexOf(\"<\/p>\");\r\n\t\t\ts = str.substring(n,n1);\r\n\t\t\tvalue.fcomments = s;  \r\n\t\t\tconsole.log(s);    \t\t\r\n    \t} \t\r\n    });\r\n\r\n    $scope.trusthtml = function (data) {\r\n        return $sce.trustAsHtml(data);\r\n    }    \t\r\n\r\n}",
          "datatemplate": "<style>\r\n\t.cell1 {\r\n\t\tpadding-left: 5px;\r\n\t\tpadding-right: 0px;\r\n\t}\r\n\t.cell2 {\r\n\t\ttext-align: center;\r\n\t}\r\n<\/style>\r\n<div >\r\n\t<div class=\"list-group-item\" style=\"background:#414a3e;color:#fff;border-bottom:none;\">\r\n\t\t<div class=\"ng-binding\" style=\"font-size: 1.2em;font-family:Trebuchet MS, Arial;margin-bottom: 5px;\">\r\n\t\t{{coursename}} \r\n\t\t<\/div>\t\t\r\n\t\t<i style=\"font-size:1em;\">{{category}}<\/i>\r\n\t<\/div>\t\r\n\t<div class=\"list-group-item\" style=\"background:#e3e3e3;min-height:20px;\">\r\n\t\t<span>{{wsusername}}'s Grade Report <\/span>\r\n\t<\/div>\r\n\t<div style=\"margin-top:10px;margin-left:4px;margin-right:4px;\">\r\n\t\t<div class=\"panel panel-primary\" ng-repeat=\"itm in selcategory.gradeitems\">\r\n\t\t\t<div class=\"panel-heading\">\r\n\t\t\t\t<div class=\"panel-title\">{{itm.name}}<\/div>\r\n\t\t\t<\/div>\r\n\t\t\t<div class=\"list-group-item\">\r\n\t\t\t\t<div class=\"row clearfix\">\r\n\t\t\t\t\t<div class=\"col-xs-7 cell1\">Item Type:<\/div>\r\n\t\t\t\t\t<div class=\"col-xs-5 cell2\">\r\n\t\t\t\t\t\t{{itm.type}}\r\n\t\t\t\t\t<\/div>\r\n\t\t\t\t<\/div>\r\n\t\t\t<\/div>\r\n\t\t\t<div class=\"list-group-item\" style=\"background:#e3e3e3;font-weight:bold;\">\r\n\t\t\t\t<i>Un-weighted Grade Calculation<\/i>\r\n\t\t\t<\/div>\r\n\t\t\t<div class=\"list-group-item\">\r\n\t\t\t\t<div class=\"row clearfix\">\r\n\t\t\t\t\t<div class=\"col-xs-7 cell1\">\r\n\t\t\t\t\t\tPoints Earned:\r\n\t\t\t\t\t<\/div>\r\n\t\t\t\t\t<div class=\"col-xs-5 cell2\">\r\n\t\t\t\t\t\t{{itm.pointsearned}}&nbsp;{{itm.totalpoints}}\r\n\t\t\t\t\t<\/div>\r\n\t\t\t\t<\/div>\r\n\t\t\t<\/div>\r\n\t\t\t<div class=\"list-group-item\">\r\n\t\t\t\t<div class=\"row clearfix\">\r\n\t\t\t\t\t<div class=\"col-xs-7 cell1\">\r\n\t\t\t\t\t\tPercentage Earned:\r\n\t\t\t\t\t<\/div>\r\n\t\t\t\t\t<div class=\"col-xs-5 cell2\">\r\n\t\t\t\t\t\t{{itm.percearned}}\r\n\t\t\t\t\t<\/div>\r\n\t\t\t\t<\/div>\r\n\t\t\t<\/div>\r\n\t\t\t<div class=\"list-group-item\" style=\"background:#e3e3e3;font-weight:bold;\">\r\n\t\t\t\t<i>Weighted Grade Calculation<\/i>\r\n\t\t\t<\/div>\r\n\t\t\t<div class=\"list-group-item\">\r\n\t\t\t\t<div class=\"row clearfix\">\r\n\t\t\t\t\t<div class=\"col-xs-7 cell1\">\r\n\t\t\t\t\t\t% earned in this category:\r\n\t\t\t\t\t<\/div>\r\n\t\t\t\t\t<div class=\"col-xs-5 cell2\">\r\n\t\t\t\t\t\t{{itm.percearnedcategory}}&nbsp;{{itm.percearnedcategorytotal}}\r\n\t\t\t\t\t<\/div>\r\n\t\t\t\t<\/div>\r\n\t\t\t<\/div>\r\n\t\t\t<div class=\"list-group-item\">\r\n\t\t\t\t<div class=\"row clearfix\">\r\n\t\t\t\t\t<div class=\"col-xs-7 cell1\">\r\n\t\t\t\t\t\t% earned toward final grade:\r\n\t\t\t\t\t<\/div>\r\n\t\t\t\t\t<div class=\"col-xs-5 cell2\">\r\n\t\t\t\t\t\t{{itm.percearnedfinalgrade}}&nbsp;{{itm.percearnedfinalgradetotal}}\r\n\t\t\t\t\t<\/div>\r\n\t\t\t\t<\/div>\r\n\t\t\t<\/div>\r\n\t\t\t<div class=\"list-group-item\">\r\n\t\t\t\t<div class=\"row clearfix\">\r\n\t\t\t\t\t<div class=\"col-xs-7 cell1\">\r\n\t\t\t\t\t\tGraded on:\r\n\t\t\t\t\t<\/div>\r\n\t\t\t\t\t<div class=\"col-xs-5 cell2\">\r\n\t\t\t\t\t\t{{itm.gradedon}}\r\n\t\t\t\t\t<\/div>\r\n\t\t\t\t<\/div>\r\n\t\t\t<\/div>\t\t\t\t\t\t\r\n\t\t\t<div class=\"list-group-item\" style=\"font-weight:bold;\">\r\n\t\t\t\t<div class=\"row clearfix\">\r\n\t\t\t\t\t<div class=\"col-xs-7 cell1\">\r\n\t\t\t\t\t\tUnweighted Grades:\r\n\t\t\t\t\t<\/div>\r\n\t\t\t\t\t<div class=\"col-xs-5 cell2\">\r\n\t\t\t\t\t\t{{itm.unweightedgrade}}\r\n\t\t\t\t\t<\/div>\r\n\t\t\t\t<\/div>\r\n\t\t\t<\/div>\r\n\t\t\t<div class=\"list-group-item\" style=\"font-weight:bold;padding-left:4px;\" ng-show=\"itm.fcomments\">\r\n\t\t\t\t<span>Comments:<\/span><\/br>\r\n\t\t\t\t<div ng-bind-html=\"trusthtml(itm.fcomments)\"><\/div>\r\n\t\t\t<\/div>\t\t\r\n\t\t<\/div>\r\n\t<\/div>\r\n<\/div>"
        }
      ]
    },
    {
      "id": 11114,
      "name": "WebEmail2",
      "displayname": "WS Mail",
      "logo": "RVCC/WebEmail2.png",
      "logourl": "RVCC/WebEmail2.png",
      "description": "Web Email",
      "appFeatureType": "WebStudy",
      "roles": null,
      "showInDock": false,
      "showInHome": false,
      "networkrequired": true,
      "analytics": false,
      "pages": 
      [
        {
          "pageid": "WebEmail2",
          "pageTemplate": "<div><\/div>",
          "casurl": "test",
          "pageprocessor": "function pageprocessorWebEmail2(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n\r\n\r\n  $.blockUI();\r\n  var launchurl = \"https://adfs.raritanval.edu/adfs/ls/IdpInitiatedSignOn.aspx\";\r\n  var iabRef = window.open(launchurl, \"_blank\", \"location=no,hidden=yes,clearcache=yes,enableViewportScale=yes,hardwareback=no\");\r\n  var iabClose = function(data) {\r\n    $.unblockUI();\r\n    $location.path(\"/app/WebStudy/WebStudy\");\r\n\r\n  };\r\n\r\n  /*var linksToGoogle = $('a[href=\"runMail.asp\"]');\r\nvar idMail = linksToGoogle.attr('id');\r\ndocument.getElementById(idMail).click();*/\r\n\r\n\r\n\r\n  iabRef.addEventListener(\"exit\", iabClose);\r\n  var hideBlockUi = function() {\r\n    setTimeout(function() {\r\n      iabRef.show();\r\n      $.unblockUI();\r\n    }, 1000);\r\n  };\r\n\r\n\r\n  var cd = \"document.getElementById('idp_OtherRpRadioButton').click(); document.getElementById('idp_RelyingPartyDropDownList').getElementsByTagName('option')[1].selected = 'selected'; document.getElementById('idp_SignInButton').click();\";\r\n  var cb = function(data) {};\r\n  var loadStop = function(data) {\r\n    iabRef.executeScript({\r\n      code: cd\r\n    }, cb);\r\n\r\n    var wsusername = $.jStorage.get(\"username\");\r\n\r\n    var password = $.jStorage.get(\"password\");\r\n    var wsRole = $rootScope.wsuserdomain;\r\n\r\n\r\n    //var username = wsRole + \"\\\\\" + wsusername;\r\n    var username = decodeURIComponent(wsRole + \"%5C%5C\" + wsusername);\r\n    var cd1 = \"document.getElementById('userNameInput').value = '\" + username + \"';document.getElementById('passwordInput').value = '\" + password + \"';document.getElementById('loginForm').submit()\";\r\n\r\n    iabRef.executeScript({\r\n      code: cd1\r\n    }, cb);\r\n\r\n    if (data.url.indexOf(\"defframes.asp\") != -1) {\r\n      hideBlockUi();\r\n      iabRef.executeScript({\r\n        code: \"window.location = 'https://incloud.webstudy.com/webcourses/jump/runMail.asp';\"\r\n      }, function() {\r\n        //alert(\"Redirected!\");\r\n      });\r\n      iabRef.removeEventListener(\"loadstop\", loadStop);\r\n      //iabRef = window.open(\"https://cms.webstudy.com/webcourses/jump/runMail.asp\", \"_blank\", \"location=yes,hidden=yes,clearcache=no,enableViewportScale=yes\");\r\n    }\r\n  };\r\n  $location.path(\"/app/WebStudy/WebStudy\");\r\n  iabRef.addEventListener(\"loadstop\", loadStop);\r\n\r\n\r\n\r\n}",
          "qlssourl": "test"
        }
      ]
    },
    {
      "id": 11783,
      "name": "HoldsB1",
      "displayname": "Holds",
      "logo": "RVCC/HoldsB1.png",
      "logourl": "RVCC/HoldsB1.png",
      "description": "Holds",
      "appFeatureType": "Services",
      "roles": "STUDENT",
      "showInDock": false,
      "showInHome": false,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "HoldsB1",
          "pageTemplate": "<div><\/div>",
          "datatemplate": "<style>\r\n#branding{display:none;}\r\n  .panel {\r\n    margin-bottom: 0px;\r\n  }\r\n<\/style>\r\n<div class=\"\">\r\n  <div class=\"panel\" style=\"background:transparent;border:none;\">\r\n        <div class=\"panel-body\" style=\"background:transparent;padding-left:4px !important;padding-right:4px !important;\">\r\n            <div  ng-repeat=\"hld in hold\">\r\n                <div class=\"panel panel-primary\">\r\n                    <div class=\"panel-heading\">\r\n                        <h5 class=\"panel-title\">{{hld.HOLD_DESCRIPTION}}<\/h5>\r\n                    <\/div>\r\n                    <div class=\"panel-body\">\r\n                        <div class=\"list-group\">\r\n                            <div class=\"list-group-item\">\r\n                                Hold Initiated By:<span class=\"pull-right\">{{hld.USERNAME}}<\/span>\r\n                            <\/div>                            \r\n                            <div class=\"list-group-item\">\r\n                                Start Date :<span class=\"pull-right\">{{hld.HOLD_START_DATE}}<\/span>\r\n                            <\/div>\r\n                            <div class=\"list-group-item\">\r\n                                End Date :<span class=\"pull-right\">{{hld.HOLD_END_DATE}}<\/span>\r\n                            <\/div>\r\n                            <div class=\"list-group-item\">\r\n                                Reason Code:<span class=\"pull-right\">{{hld.REASON}}<\/span>\r\n                            <\/div>\r\n                            <div class=\"list-group-item\">\r\n                                Amount Owed :<span class=\"pull-right\">{{hld.AMOUNT_OWED | currency:\"$\":2}}<\/span>\r\n                            <\/div>\r\n\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/div>\r\n            <\/div>\r\n        <\/div>\r\n    <\/div>\r\n<\/div>",
          "pageprocessor": "function pageprocessorHoldsB1(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n\r\n    $rootScope.getAPI($rootScope.middlewareServerUrl + pagedef.endpoint, function(data) {\r\n        if (data.hold.length == 0) {\r\n            if (window.device) {\r\n                navigator.notification.alert(\"You have no holds at this time.\", null, \"Holds\", null);\r\n            } else {\r\n                apprise(\"You have no holds at this time.\", {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function (r) {\r\n                    \r\n                });\r\n            }            \r\n            if ($routeParams.from) {\r\n            \r\n            if (device.platform == 'iOS') {\r\n                history.go(-1);\r\n            } else {\r\n                navigator.app.backHistory();\r\n            }\r\n        } else {\r\n            $location.path(\"/home\");\r\n        }\r\n        } else {\r\n\r\n            $scope.hold = data.hold;\r\n        }\r\n    });\r\n\r\n$rootScope.back = function() {\r\n        if ($routeParams.from) {\r\n            \r\n            if (device.platform == 'iOS') {\r\n                history.go(-1);\r\n            } else {\r\n                navigator.app.backHistory();\r\n            }\r\n        } else {\r\n            $location.path(\"/home\");\r\n        }\r\n    }\r\n\r\n}",
          "endpoint": "/services/student/bannerhold"
        }
      ]
    },
    {
      "id": 11786,
      "name": "MidTermGradeB1",
      "displayname": "Midterm Grades",
      "logo": "RVCC/MidTermGradeB1.png",
      "logourl": "RVCC/MidTermGradeB1.png",
      "description": "MidtermGrades",
      "appFeatureType": "Services",
      "roles": "STUDENT",
      "showInDock": false,
      "showInHome": false,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "MidTermGradeB1",
          "pageTemplate": "<div><\/div>",
          "datatemplate": "<style>\r\n    .panel {\r\n        margin-bottom: 0px;\r\n    }\r\n<\/style>\r\n<div class=\"\">\r\n    <div class=\"panel panel-info panel-inverse\">\r\n        <div class=\"panel-heading panel-heading-inverse\">\r\n            <select id=\"termsel\" ng-model=\"selterm\" class=\"form-control\" ng-change=\"termselect(this.value);\">\r\n                <option value=\"\">-- Select a Term --<\/option>\r\n                <option ng-selected=\"selterm == term.TERM_CODE\" value=\"{{term.TERM_CODE}}\" ng-repeat=\"term in gradesdropdown\">{{term.TERM_DESC}}<\/option>\r\n            <\/select>           \r\n        <\/div>\r\n        <div class=\"panel-body\" style=\"background:transparent;padding-left:4px !important;padding-right:4px !important;\">\r\n            <div ng-repeat=\"mt in midterm\">\r\n                <div class=\"panel panel-primary\" ng-hide=\"mt.MIDTERM_GRADE == '' || mt.MIDTERM_GRADE == null \">\r\n                    <div class=\"panel-heading\">\r\n                        <h5 class=\"panel-title\">{{mt.COURSE_TITLE}} <\/h5>\r\n                    <\/div>\r\n                    <div class=\"panel-body\" style=\"padding:0px;\">\r\n                        <div class=\"list-group\">\r\n                            <div class=\"list-group-item\">\r\n                                Course:<span class=\"pull-right\">{{mt.SUBJECT_CODE}}  {{mt.COURSE_NUMBER}}<\/span>\r\n                            <\/div>\r\n                            <div class=\"list-group-item\">\r\n                                CRN:<span class=\"pull-right\">{{mt.CRN}}<\/span>\r\n                            <\/div>\r\n                            <div class=\"list-group-item\">\r\n                                Campus:<span class=\"pull-right\">{{mt.CAMPUS}}<\/span>\r\n                            <\/div>\r\n                            <div class=\"list-group-item\">\r\n                                Credits:<span class=\"pull-right\">{{mt.CREDIT_HOURS}}<\/span>\r\n                            <\/div>\r\n                            <div class=\"list-group-item clearfix\" style=\"font-weight:bold;padding-top:6px;\">\r\n                                Midterm Grade :<span class=\"pull-right\" ng-if=\"mt.MIDTERM_GRADE == '-'\" style=\"width:50%;\">You have no grade to display.<\/span><span ng-if=\"mt.MIDTERM_GRADE != '-'\" class=\"pull-right badge badge-circle-sm\">{{mt.MIDTERM_GRADE}}<\/span>\r\n                            <\/div>\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/div>\r\n            <\/div>\r\n        <\/div>\r\n    <\/div>\r\n<\/div>",
          "endpoint": "/services/student/bannertermdropdown",
          "pageprocessor": "function pageprocessorMidTermGradeB1(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    $scope.selterm = \"\";\r\n    \r\n    $rootScope.getAPI($rootScope.middlewareServerUrl + pagedef.endpoint, function(data) {\r\n        $scope.gradesdropdown = data.dropdown;\r\n    });\r\n    $scope.termselect = function(selterm) {\r\n        $scope.midterm = \"\";\r\n        $('#termsel').blur();\r\n        $rootScope.getAPI($rootScope.middlewareServerUrl + \"/services/student/bannermidtermgrade/termCode=\" + $scope.selterm, function(data) {\r\n            $scope.midterm = data.midterm;\r\n            if (data.midterm.length == 0) {\r\n                if (window.device) {\r\n                    navigator.notification.alert(\"No midterm grades found for the selected term.\", null, \"Midterm Grades\", null);\r\n                } else {\r\n                    apprise(\"No midterm grades found for the selected term.\", {\r\n                        'verify': false,\r\n                        'textYes': \"Ok\"\r\n                    }, function(r) {\r\n\r\n                    });\r\n                }\r\n            }\r\n        });\r\n    }\r\n$rootScope.back = function() {\r\n        if ($routeParams.from) {\r\n            \r\n            if (device.platform == 'iOS') {\r\n                history.go(-1);\r\n            } else {\r\n                navigator.app.backHistory();\r\n            }\r\n        } else {\r\n            $location.path(\"/home\");\r\n        }\r\n    }\r\n\r\n}"
        }
      ]
    },
    {
      "id": 11789,
      "name": "FinalGradeB1",
      "displayname": "Final Grades",
      "logo": "RVCC/FinalGradeB1.png",
      "logourl": "RVCC/FinalGradeB1.png",
      "description": "Final Grade",
      "appFeatureType": "Services",
      "roles": "STUDENT",
      "showInDock": false,
      "showInHome": false,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "FinalGradeB1",
          "pageTemplate": "<div><\/div>",
          "datatemplate": "<style>\r\n    .panel {\r\n        margin-bottom: 0px;\r\n    }\r\n<\/style>\r\n<div class=\"\">\r\n    <div class=\"panel panel-info panel-inverse\">\r\n        <div class=\"panel-heading panel-heading-inverse\">\r\n            <select id=\"termsel\" ng-model=\"selterm\" class=\"form-control\" ng-change=\"termselect(this.value);\">\r\n                <option value=\"\">-- Select a Term --<\/option>\r\n                <option ng-selected=\"selterm == term.TERM_CODE\" value=\"{{term.TERM_CODE}}\" ng-repeat=\"term in gradesdropdown\">{{term.TERM_DESC}}<\/option>\r\n            <\/select>\r\n        <\/div>\r\n        <div class=\"panel-body\" style=\"background:transparent;padding-left:4px !important;padding-right:4px !important;\">\r\n            <div ng-repeat=\"fg in finalgrade\">\r\n                <div class=\"panel panel-primary\" ng-hide=\"fg.FINAL_GRADE == '' || fg.FINAL_GRADE == null\">\r\n                    <div class=\"panel-heading\">\r\n                        <h5 class=\"panel-title\">{{fg.COURSE_TITLE}} <\/h5>\r\n                    <\/div>\r\n                    <div class=\"panel-body\">\r\n                        <div class=\"list-group\">\r\n                            <div class=\"list-group-item\">\r\n                                Course:<span class=\"pull-right\">{{fg.SUBJECT_CODE}} {{fg.COURSE_NUMBER}}<\/span>\r\n                            <\/div>\r\n                            <div class=\"list-group-item\">\r\n                                CRN:<span class=\"pull-right\">{{fg.CRN}}<\/span>\r\n                            <\/div>\r\n                            <div class=\"list-group-item\">\r\n                                Campus:<span class=\"pull-right\">{{fg.CAMPUS}}<\/span>\r\n                            <\/div>\r\n                            <div class=\"list-group-item\">\r\n                                Credits:<span class=\"pull-right\">{{fg.CREDIT_HOURS}}<\/span>\r\n                            <\/div>\r\n                            <div class=\"list-group-item clearfix\" style=\"font-weight:bold;padding-top:6px;\">\r\n                                Final Grade:<span class=\"pull-right\" ng-if=\"fg.FINAL_GRADE == '-'\" style=\"width:50%;\">You have no grade to display.<\/span>\r\n                                <span ng-if=\"fg.FINAL_GRADE != '-'\" class=\"pull-right badge badge-circle-sm\">{{fg.FINAL_GRADE}}<\/span>\r\n                            <\/div>\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/div>\r\n            <\/div>\r\n        <\/div>\r\n    <\/div>\r\n<\/div>",
          "endpoint": "/services/student/bannerfinalgradetermdropdown",
          "pageprocessor": "function pageprocessorFinalGradeB1(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    $scope.selterm = \"\";\r\n    $.blockUI();\r\n    $rootScope.getAPI($rootScope.middlewareServerUrl + pagedef.endpoint, function(data) {\r\n        $scope.gradesdropdown = data.dropdown;\r\n        if (data.dropdown.length == 1) {\r\n            $scope.selterm = data.dropdown[0].TERM_CODE;\r\n            $scope.termselect($scope.selterm);\r\n        }\r\n    });\r\n\r\n\r\n    $scope.termselect = function(termcode) {\r\n        $.blockUI();\r\n        $('#termsel').blur();\r\n        $rootScope.getAPI($rootScope.middlewareServerUrl + \"/services/student/bannerfinalgrade/termCode=\" + $scope.selterm, function(data) {\r\n            $scope.finalgrade = data.finalgrade;\r\n            if (data.finalgrade.length == 0) {\r\n                if (window.device) {\r\n                    navigator.notification.alert(\"No Final grades found for the selected term.\", null, \"Final Grades\", null);\r\n                } else {\r\n                    apprise(\"No Final grades found for the selected term.\", {\r\n                        'verify': false,\r\n                        'textYes': \"Ok\"\r\n                    }, function(r) {\r\n\r\n                    });\r\n                }\r\n            }\r\n        });\r\n    }\r\n$rootScope.back = function() {\r\n        if ($routeParams.from) {\r\n            \r\n            if (device.platform == 'iOS') {\r\n                history.go(-1);\r\n            } else {\r\n                navigator.app.backHistory();\r\n            }\r\n        } else {\r\n            $location.path(\"/home\");\r\n        }\r\n    }\r\n\r\n}"
        }
      ]
    },
    {
      "id": 11792,
      "name": "ACCSummary",
      "displayname": "Account Summary",
      "logo": "RVCC/ACCSummary.png",
      "logourl": "RVCC/ACCSummary.png",
      "description": "Account Summary",
      "appFeatureType": "Services",
      "roles": "STUDENT",
      "showInDock": false,
      "showInHome": false,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "ACCSummary",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorACCSummary(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    $rootScope.getAPI($rootScope.middlewareServerUrl + pagedef.dropdownendpoint, function (data) {\r\n        $scope.dropdown = data;\r\n    });\r\n    $scope.dropdownselect = function (selectedvalue) {\r\n        $scope.listdata = null;\r\n        $('#termselect').blur();\r\n        $rootScope.getAPI($rootScope.middlewareServerUrl + pagedef.listendpoint + $scope.selectedvalue, function (data) {\r\n            $scope.listdata = data;\r\n            console.log($scope.listdata.accountbalance[0].ACCOUNT_BALANCE);\r\n        });\r\n    }\r\n$rootScope.back = function() {\r\n        if ($routeParams.from) {\r\n            \r\n            if (device.platform == 'iOS') {\r\n                history.go(-1);\r\n            } else {\r\n                navigator.app.backHistory();\r\n            }\r\n        } else {\r\n            $location.path(\"/home\");\r\n        }\r\n    }\r\n\r\n}",
          "dropdownendpoint": "/services/student/bannertermswithaccountsummary",
          "listendpoint": "/services/student/banneraccountsummary/termCode=",
          "datatemplate": "<style>\r\n  .panel {\r\n    margin-bottom: 0px;\r\n  }\r\n<\/style>\r\n<div class=\"\">\r\n  <div class=\"panel panel-info panel-inverse\" >\r\n        <div class=\"panel-heading panel-heading-inverse\" >\r\n            <select id=\"termselect\" ng-model=\"selectedvalue\" class=\"form-control\" ng-change=\"dropdownselect(this.value);\">\r\n                <option value=\"\">-- Select a Term --<\/option>\r\n                <option value=\"{{term.TERM_CODE}}\" ng-repeat=\"term in dropdown.termswithaccountsummary\">{{term.DESCRIPTION}}<\/option>\r\n            <\/select>\r\n        <\/div>\r\n        <div class=\"panel-body\" style=\"background:transparent;padding-left:2px !important;padding-right:2px !important;padding-top:2px !important;\">\r\n            <div  ng-show=\"listdata\">\r\n                <div class=\"panel panel-primary\" style=\"border:2px solid #fff;\">\r\n                    <div class=\"panel-heading\">\r\n                        <h3 class=\"panel-title\">\r\n                        Account Balance: <\/h3>\r\n                    <\/div>\r\n                    <ul class=\"list-group\">\r\n                        <li class=\"list-group-item\">Balance: <span class=\"pull-right\" style=\"font-weight:bold;\">{{listdata.accountbalance[0].ACCOUNT_BALANCE}}<\/span>\r\n                        <\/li>                                              \r\n                    <\/ul>\r\n                <\/div>\r\n                <div class=\"panel panel-primary\" style=\"border:2px solid #fff;\">\r\n                    <div class=\"panel-heading\">\r\n                        <h3 class=\"panel-title\">\r\n                        Term Balance: <\/h3>\r\n                    <\/div>\r\n                    <ul class=\"list-group\">\r\n                        <li class=\"list-group-item\">Balance: <span class=\"pull-right\" style=\"font-weight:bold;\">{{listdata.creditsandpayments[0].TERM_BALANCE}}<\/span>\r\n                        <\/li>                                              \r\n                    <\/ul>\r\n                <\/div>             \r\n                <div class=\"panel panel-primary\" >\r\n                    <div class=\"panel-heading\">\r\n                        <h3 class=\"panel-title\">\r\n                        Detail Summary:<\/h3>\r\n                    <\/div>\r\n                    <ul class=\"list-group\" ng-repeat=\"sum in listdata.summary\">\r\n                        <a class=\"list-group-item active panel-subgroup-link\" >{{sum.DESCRIPTION}}, {{sum.DETAIL_CODE}}<\/a>\r\n                        <li class=\"list-group-item\">Charge : <span class=\"pull-right\">{{sum.CHARGE}}<\/span>\r\n                        <\/li>\r\n                        <li class=\"list-group-item\">Payment : <span class=\"pull-right\">{{sum.PAYMENT}}<\/span>\r\n                        <\/li>\r\n                        <li class=\"list-group-item\">Balance : <span class=\"pull-right\">{{sum.BALANCE}}<\/span>\r\n                        <\/li>\r\n                    <\/ul>\r\n                <\/div>\r\n\r\n            <\/div>\r\n\r\n        <\/div>\r\n    <\/div>\r\n\r\n<\/div>"
        }
      ]
    },
    {
      "id": 11795,
      "name": "WAG",
      "displayname": "Student Schedule",
      "logo": "RVCC/WAG.png",
      "logourl": "RVCC/WAG.png",
      "description": "Week at Glance",
      "appFeatureType": "Services",
      "roles": "STUDENT",
      "showInDock": false,
      "showInHome": false,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "WAG",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorWAG(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    $scope.showDetail = false;\r\n\r\n    var todayDate = new Date();\r\n\r\n    $scope.weekdata = [{\r\n        style: \"\",\r\n        label: \"M\",\r\n        data: []\r\n    }, {\r\n        style: \"\",\r\n        label: \"T\",      \r\n        data: []\r\n    }, {\r\n        style: \"\",\r\n        label: \"W\",       \r\n        data: []\r\n    }, {\r\n        style: \"\",\r\n        label: \"T\",        \r\n        data: []\r\n    }, {\r\n        style: \"\",\r\n        label: \"F\",       \r\n        data: []\r\n    }, {\r\n        style: \"\",\r\n        label: \"S\",      \r\n        data: []\r\n    }, {\r\n        style: \"\",\r\n        label: \"S\",      \r\n        data: []\r\n    }];\r\n\r\n    $scope.selectDay = function(day) {\r\n        for (var i = 0; i < 7; i++) {\r\n            $scope.weekdata[i].style = \"\";\r\n        }\r\n        $scope.weekdata[day].style = \"btn-selected\";\r\n        if ($scope.weekdata[day].data.length == 0) {\r\n            $(\"#NoWeekClasses\").show();\r\n            $(\"#WeekClasses\").hide();\r\n        } else {            \r\n            $(\"#NoWeekClasses\").hide();\r\n            $(\"#WeekClasses\").show();\r\n        }\r\n        $scope.weekataglance = $scope.weekdata[day].data;\r\n        //console.log($scope.weekataglance);\r\n    }\r\n\r\n    $scope.toggleSchedule = function(wag) {\r\n        wag.toggle = !wag.toggle;\r\n        if (wag.toggle) {\r\n            wag.toggleclass = \"fa fa-plus-circle fa-2x\";\r\n        } else {\r\n            wag.toggleclass = \"fa fa-minus-circle fa-2x\";\r\n        }\r\n        console.log('#'+wag);\r\n    }\r\n\r\n    var curDayIndex = todayDate.getDay() == 0 ? 6 : todayDate.getDay() - 1;\r\n    $scope.weekdata[curDayIndex].style = \"btn-selected\";\r\n    $rootScope.getAPI($rootScope.middlewareServerUrl + pagedef.dropdownendpoint, function(data) {\r\n        $scope.dropdown = data;\r\n        //$scope.selectedvalue = data.termsStudentHasClasses[0].TERM_CODE;\r\n        //$scope.dropdownselect();\r\n    });\r\n\r\n    $scope.dropdownselect = function(selectedvalue) {\r\n        $('#termsel').blur();\r\n        $scope.classeswithouttime = [];\r\n        $scope.showDetail = true;\r\n        for (var i = 0; i < 7; i++) {\r\n            $scope.weekdata[i].data = [];\r\n        }\r\n        $rootScope.getAPI($rootScope.middlewareServerUrl + pagedef.listendpoint + $scope.selectedvalue, function(data) {\r\n            \r\n            var WeekAtGlanceTdyDate = new Date();\r\n            var WeekAtGlanceStartDate = new Date();\r\n            var WeekAtGlanceEndDate = new Date();\r\n            WeekAtGlanceStartDate.setDate(WeekAtGlanceTdyDate.getDate() - WeekAtGlanceTdyDate.getDay());\r\n            WeekAtGlanceEndDate.setDate(WeekAtGlanceTdyDate.getDate() + (6 - WeekAtGlanceTdyDate.getDay()));\r\n\r\n            angular.forEach(data.weekataglance, function(value, key) {\r\n                var ClassStartDate = new Date(value.START_DATE);\r\n                var ClassEndDate = new Date(value.END_DATE);\r\n                var daysExist = false;\r\n                value.visible = false;\r\n                //value.visible = true;\r\n                value.toggleclass = \"fa fa-plus-circle fa-2x\";\r\n                value.toggle = true;   \r\n\r\n                if ((ClassStartDate <= WeekAtGlanceStartDate && ClassEndDate >= WeekAtGlanceEndDate) ||\r\n                    (ClassStartDate <= WeekAtGlanceEndDate && ClassStartDate >= WeekAtGlanceStartDate) ||\r\n                    (ClassEndDate <= WeekAtGlanceEndDate && ClassEndDate >= WeekAtGlanceStartDate)) {\r\n                    value.visible = true;\r\n                    value.toggleclass = \"fa fa-plus-circle fa-2x\";\r\n                    value.toggle = true;\r\n\r\n                    //                    \r\n                    if (value.MON_DAY != \"\" && value.MON_DAY != null) {\r\n                        this[0].data.push(value);\r\n                        daysExist = true;\r\n                    }\r\n                    if (value.TUE_DAY != \"\" && value.TUE_DAY != null) {\r\n                        this[1].data.push(value);\r\n                        daysExist = true;\r\n                    }\r\n                    if (value.WED_DAY != \"\" && value.WED_DAY != null) {\r\n                        this[2].data.push(value);\r\n                        daysExist = true;\r\n                    }\r\n                    if (value.THU_DAY != \"\" && value.THU_DAY != null) {\r\n                        this[3].data.push(value);\r\n                        daysExist = true;\r\n                    }\r\n                    if (value.FRI_DAY != \"\" && value.FRI_DAY != null) {\r\n                        this[4].data.push(value);\r\n                        daysExist = true;\r\n                    }\r\n                    if (value.SAT_DAY != \"\" && value.SAT_DAY != null) {\r\n                        this[5].data.push(value);\r\n                        daysExist = true;\r\n                    }\r\n                    if (value.SUN_DAY != \"\" && value.SUN_DAY != null) {\r\n                        this[6].data.push(value);\r\n                        daysExist = true;\r\n                    }\r\n                }\r\n                if (value.PLACE == '' || value.PLACE == null || value.PLACE == ' ') {\r\n                    value.PLACE = 'TBA';\r\n                }\r\n                if (value.CLASS_TIME == '' || value.CLASS_TIME == null) {\r\n                    value.CLASS_TIME = 'TBA';\r\n                } else if (value.CLASS_TIME.trim() == '-') {\r\n                    value.CLASS_TIME = 'TBA';\r\n                }                \r\n                value.showweekclasses = daysExist;\r\n/*                if (value.visible) {\r\n                    $scope.classeswithouttime.push(value);\r\n                }*/\r\n            }, $scope.weekdata);\r\n\r\n            $scope.listdata = data.weekataglance;\r\n            console.log('listdata');\r\n            console.log($scope.listdata);\r\n            //console.log('classeswithouttime:');\r\n            //console.log($scope.classeswithouttime);\r\n            $scope.selectDay(curDayIndex);\r\n        });\r\n    }\r\n$rootScope.back = function() {\r\n        if ($routeParams.from) {\r\n            \r\n            if (device.platform == 'iOS') {\r\n                history.go(-1);\r\n            } else {\r\n                navigator.app.backHistory();\r\n            }\r\n        } else {\r\n            $location.path(\"/home\");\r\n        }\r\n    }\r\n\r\n}",
          "dropdownendpoint": "/services/student/bannertermsStudentHasClasses",
          "listendpoint": "/services/student/bannerweekataglance/termCode=",
          "datatemplate": "<style>\r\n    .btn-group > .btn-default.active {\r\n      color: #fff !important;\r\n      background: rgb(0,154,72) !important; \r\n      background: -moz-linear-gradient(top,  rgba(0,154,72,1) 0%, rgba(0,73,0,1) 100%) !important; \r\n      background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(0,154,72,1)), color-stop(100%,rgba(0,73,0,1))) !important; \r\n      background: -webkit-linear-gradient(top,  rgba(0,154,72,1) 0%,rgba(0,73,0,1) 100%) !important; \r\n      background: -o-linear-gradient(top,  rgba(0,154,72,1) 0%,rgba(0,73,0,1) 100%) !important; \r\n      background: -ms-linear-gradient(top,  rgba(0,154,72,1) 0%,rgba(0,73,0,1) 100%) !important; \r\n      background: linear-gradient(to bottom,  rgba(0,154,72,1) 0%,rgba(0,73,0,1) 100%) !important; \r\n      filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#009a48', endColorstr='#004900',GradientType=0 ) !important;       \r\n      /*background-color: #A90329 !important; */\r\n      border-color:#072520 !important;\r\n    }\r\n    .btn-selected {\r\n        color: #fff !important;\r\n          background: rgb(0,154,72) !important; \r\n          background: -moz-linear-gradient(top,  rgba(0,154,72,1) 0%, rgba(0,73,0,1) 100%) !important; \r\n          background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(0,154,72,1)), color-stop(100%,rgba(0,73,0,1))) !important; \r\n          background: -webkit-linear-gradient(top,  rgba(0,154,72,1) 0%,rgba(0,73,0,1) 100%) !important; \r\n          background: -o-linear-gradient(top,  rgba(0,154,72,1) 0%,rgba(0,73,0,1) 100%) !important; \r\n          background: -ms-linear-gradient(top,  rgba(0,154,72,1) 0%,rgba(0,73,0,1) 100%) !important; \r\n          background: linear-gradient(to bottom,  rgba(0,154,72,1) 0%,rgba(0,73,0,1) 100%) !important; \r\n          filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#009a48', endColorstr='#004900',GradientType=0 ) !important;          \r\n        /*background-color: #A90329 !important;*/\r\n        border-color: #072520 !important;\r\n        -webkit-transition:all 1s ease;\r\n        transition: all 1s ease;\r\n    }\r\n\r\n    .btn-rounded {        \r\n        width: 40px;\r\n        height: 40px;\r\n        border:1px solid #ccc !important;\r\n        border-radius: 50px;\r\n        padding-top:9px;\r\n        outline:none !important; \r\n        font-weight: bolder;\r\n        -webkit-transition:all 1s ease;\r\n        transition: all 1s ease;              \r\n    }\r\n    .list-group-classes {\r\n          background: rgb(0,154,72) !important; \r\n          background: -moz-linear-gradient(top,  rgba(0,154,72,1) 0%, rgba(0,73,0,1) 100%) !important; \r\n          background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(0,154,72,1)), color-stop(100%,rgba(0,73,0,1))) !important; \r\n          background: -webkit-linear-gradient(top,  rgba(0,154,72,1) 0%,rgba(0,73,0,1) 100%) !important; \r\n          background: -o-linear-gradient(top,  rgba(0,154,72,1) 0%,rgba(0,73,0,1) 100%) !important; \r\n          background: -ms-linear-gradient(top,  rgba(0,154,72,1) 0%,rgba(0,73,0,1) 100%) !important; \r\n          background: linear-gradient(to bottom,  rgba(0,154,72,1) 0%,rgba(0,73,0,1) 100%) !important; \r\n          filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#009a48', endColorstr='#004900',GradientType=0 ) !important;         \r\n        /*background: #A90329;*/\r\n        border-radius: 4px;\r\n        -webkit-border-radius:4px;\r\n        padding-bottom:5px;\r\n    }\r\n\r\n    .list-group-accordian {\r\n        padding: 5px;\r\n        padding-bottom: 0px;\r\n    }\r\n\r\n\r\n    .list-group-item-accordian {\r\n      border-radius: 4px !important;\r\n      -webkit-border-radius : 4px !important;\r\n      background: rgba(0,0,0,0.4);\r\n      color: #fff;\r\n      border-bottom: 1px solid #666666;\r\n      box-shadow: 0px 6px 10px -8px #000;        \r\n    }\r\n\r\n    .list-group-item-head-text {\r\n        font-size: 1.4em;\r\n        color:#fff;\r\n    }\r\n    .text-wrap {\r\n      white-space: nowrap;\r\n      width: 100%;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;        \r\n    }\r\n    .detail-list-group-item {\r\n        /*background:rgba(255,255,255,0.6);*/\r\n        -webkit-transition:all 1s ease;\r\n        transition:all 1s ease;\r\n    }\r\n\r\n<\/style>\r\n<div style=\"overflow-x:hidden;overflow-y:hidden;\">\r\n    <div class=\"panel panel-info panel-inverse\" style=\"overflow-x:hidden;overflow-y:hidden;\">\r\n        <div class=\"panel-heading panel-heading-inverse\" >\r\n            <select id=\"termsel\" ng-model=\"selectedvalue\" class=\"form-control\" ng-change=\"dropdownselect(this.value);\">\r\n                <option value=\"\">-- Select a Term --<\/option>\r\n                <option ng-selected=\"selectedvalue == term.TERM_CODE\" value=\"{{term.TERM_CODE}}\" ng-repeat=\"term in dropdown.termsStudentHasClasses\">{{term.TERM_DESC}}<\/option>\r\n            <\/select>\r\n        <\/div>\r\n        <div class=\"panel-body\" style=\"width:100%;padding:0px;background:transparent;overflow-x:hidden;overflow-y:hidden;\">\r\n            <div class=\"1container\" style=\"margin-left:2px;margin-right:2px;margin-top:10px;\" ng-show=\"showDetail\">\r\n                <div class=\"btn-group justified nav-tabs\" style=\"background:#181F3C; color:#fff; border:1px solid; border-radius:4px;height:30px;\">\r\n                    <a class=\"btn btn-default\" href=\"#Tab1\" toggle=\"on\" active-class=\"active\" >\r\n                        <i class=\"fa fa-calendar fa-2x\"><\/i> <\/br>Weekly Schedule<\/a>\r\n                    <a class=\"btn btn-default\" href=\"#Tab2\" toggle=\"on\" active-class=\"active\">\r\n                        <i class=\"fa fa-list fa-2x\"><\/i> <\/br>Full Schedule<\/a>\r\n                <\/div>\r\n                <div class=\"tab-content\" style=\"margin-top:5px;\">\r\n                    <div class=\"tab-pane\" toggleable active-class=\"active\" default=\"active\" id=\"Tab1\" exclusion-group=\"myTabs\">\r\n                        <div style=\"background:#F9F9F9;border-radius:5px;\">\r\n                            <div class=\"btn-group\" style=\"margin:5px;padding:0;margin-bottom:14px;padding:0;text-align:center;width:100%;\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-xs-12 col-md-12\" style=\"padding-left:2px;padding-right:2px;overflow-x:hidden;\">\r\n                                        <div class=\"list-group-item\" style=\"background:transparent;border:none;\">\r\n                                            <div class=\"pull-left\" style=\"width:14%;\" ng-repeat=\"week in weekdata\">\r\n                                                <div class=\"btn-mini btn-default btn-rounded\"  ng-class=\"week.style\" ng-click=\"selectDay($index)\">{{week.label}}<\/div>\r\n                                            <\/div> \r\n                                        <\/div>\r\n                                       \r\n                                    <\/div>\r\n                                <\/div>\r\n                            <\/div> \r\n                        <\/div>    \r\n\r\n                        <div id=\"WeekClasses\" class=\"list-group-classes\">\r\n                            <div class=\"list-group list-group-accordian\" id=\"accordionTwo\" ng-repeat=\"wag in weekataglance\" >\r\n                                <div class=\"list-group-item list-group-item-accordian\">\r\n                                    <div class=\"row\">\r\n                                        <div class=\"col-xs-9 col-md-10\" style=\"overflow:hidden;\">\r\n                                            <p class=\"text-left list-group-item-head-text\" >{{wag.DESCRIPTION}}<\/p>\r\n                                            <span class=\"text-wrap\">{{wag.PLACE}} <span ng-show=\"wag.ROOM != '' && wag.ROOM != null\">Room {{wag.ROOM}}<\/span><\/span><br/>\r\n                                            Time:&nbsp; {{wag.CLASS_TIME}} <\/br>\r\n                                            Days:&nbsp;&nbsp;{{wag.MON_DAY == null || wag.MON_DAY == ''? '' : 'Mon' }}&nbsp; \r\n                                            {{wag.TUE_DAY == null || wag.TUE_DAY == ''? '' : 'Tue'}}&nbsp;\r\n                                            {{wag.WED_DAY == null || wag.WED_DAY == ''? '' : 'Wed'}}&nbsp;\r\n                                            {{wag.THU_DAY == null || wag.THU_DAY == ''? '' : 'Thu'}}&nbsp;\r\n                                            {{wag.FRI_DAY == null || wag.FRI_DAY == ''? '' : 'Fri'}}&nbsp;\r\n                                            {{wag.SAT_DAY == null || wag.SAT_DAY == ''? '' : 'Sat'}}&nbsp;\r\n                                            {{wag.SUN_DAY == null || wag.SUN_DAY == ''? '' : 'Sun'}}    \r\n                                        <\/div>\r\n                                        <div class=\"col-xs-3 col-md-2\" style=\"text-align: center;padding-top:15px;\">\r\n                                            <div style=\"position: relative;vertical-align: middle;display:inline-block;text-align: center;margin: 0px;padding: 0px;\">\r\n                                                <a ng-class=\"wag.toggleclass\" class=\"pull-right\" ng-click=\"toggleSchedule(wag)\"  style=\"vertical-align: middle;color:#fff;text-decoration:none;\">\r\n                                                <\/a>\r\n                                            <\/div>\r\n                                        <\/div>\r\n                                    <\/div>\r\n                                <\/div>       \r\n                                <div class=\"list-group-item detail-list-group-item\" ng-hide=\"wag.toggle\">\r\n                                    <div class=\"list-group\">\r\n                                        <div class=\"list-group-item\">\r\n                                            CRN: <span class=\"pull-right\">{{wag.CRN}}<\/span>\r\n                                        <\/div>\r\n                                        <div class=\"list-group-item\">\r\n                                            Title: <span class=\"pull-right\">{{wag.TITLE}}<\/span>\r\n                                        <\/div> \r\n                                        <div class=\"list-group-item\">\r\n                                            Class Type: <span class=\"pull-right\">{{wag.CLASS_TYPE}}<\/span>\r\n                                        <\/div>                                         \r\n                                        <div class=\"list-group-item\">\r\n                                            Campus: <span class=\"pull-right\">{{wag.CAMPUS}}<\/span>\r\n                                        <\/div>   \r\n                                        <div class=\"list-group-item\">\r\n                                            Credits: <span class=\"pull-right\">{{wag.CREDITS}}<\/span>\r\n                                        <\/div>  \r\n                                        <div class=\"list-group-item\">\r\n                                            Level: <span class=\"pull-right\">{{wag.LEVEL_CODE}}<\/span>\r\n                                        <\/div> \r\n                                        <div class=\"list-group-item\">\r\n                                            Start Date: <span class=\"pull-right\">{{wag.START_DATE}}<\/span>\r\n                                        <\/div> \r\n                                        <div class=\"list-group-item\">\r\n                                            End Date: <span class=\"pull-right\">{{wag.END_DATE}}<\/span>\r\n                                        <\/div> \r\n\r\n                                    <\/div>\r\n                                <\/div>\r\n                            <\/div>\r\n                        <\/div>\r\n                        <div style='color:#fff;font-weight:bold;text-shadow:none;margin-top:10px;' ng-show=\"weekataglance.length == 0\" id='NoWeekClasses'>You have no classes for the day.<\/div>\r\n                    <\/div>\r\n                    <div class=\"tab-pane\" toggleable active-class=\"active\" id=\"Tab2\" exclusion-group=\"myTabs\">\r\n                        <div id=\"FullWeekClasses\" class=\"list-group-classes\" >\r\n                            <div class=\"list-group list-group-accordian\"  ng-repeat=\"wag in listdata\" >\r\n                                <div class=\"list-group-item list-group-item-accordian\">\r\n                                    <div class=\"row\">\r\n                                        <div class=\"col-xs-9 col-md-10\" style=\"overflow:hidden;\">\r\n                                            <p class=\"text-left list-group-item-head-text\" >{{wag.DESCRIPTION}}<\/p>\r\n                                            <span class=\"text-wrap\">{{wag.PLACE}} <span ng-show=\"wag.ROOM != '' && wag.ROOM != null\">Room {{wag.ROOM}}<\/span><\/span><br/>\r\n                                            Time: {{wag.CLASS_TIME}}<\/br>\r\n                                            Days:&nbsp;&nbsp;{{wag.MON_DAY == null || wag.MON_DAY == ''? '' : 'Mon' }}&nbsp; \r\n                                            {{wag.TUE_DAY == null || wag.TUE_DAY == ''? '' : 'Tue'}}&nbsp;\r\n                                            {{wag.WED_DAY == null || wag.WED_DAY == ''? '' : 'Wed'}}&nbsp;\r\n                                            {{wag.THU_DAY == null || wag.THU_DAY == ''? '' : 'Thu'}}&nbsp;\r\n                                            {{wag.FRI_DAY == null || wag.FRI_DAY == ''? '' : 'Fri'}}&nbsp;\r\n                                            {{wag.SAT_DAY == null || wag.SAT_DAY == ''? '' : 'Sat'}}&nbsp;\r\n                                            {{wag.SUN_DAY == null || wag.SUN_DAY == ''? '' : 'Sun'}}    \r\n                                        <\/div>\r\n                                        <div class=\"col-xs-3 col-md-2\" style=\"text-align: center;\">\r\n                                            <div class=\"\" style=\"padding-left:0px;\" ng-show=\"!wag.visible\">\r\n                                                <span class=\"badge badge-warning\">Inactive<\/span>\r\n                                            <\/div> <\/br>                                           \r\n                                            <div style=\"position: relative;vertical-align: middle;display:inline-block;text-align: center;margin: 0px;padding: 0px;\">\r\n                                                <a ng-class=\"wag.toggleclass\" class=\"pull-right\" ng-click=\"toggleSchedule(wag)\"  style=\"vertical-align: middle;color:#fff;text-decoration:none;\">\r\n                                                <\/a>\r\n                                            <\/div>\r\n                                        <\/div>\r\n                                    <\/div>\r\n                                <\/div>       \r\n                                <div class=\"list-group-item detail-list-group-item\" ng-hide=\"wag.toggle\">\r\n                                    <div class=\"list-group\">\r\n                                        <div class=\"list-group-item\">\r\n                                            CRN: <span class=\"pull-right\">{{wag.CRN}}<\/span>\r\n                                        <\/div>\r\n<!--                                         <div class=\"list-group-item\">\r\n                                            Title: <span class=\"pull-right\">{{wag.TITLE}}<\/span>\r\n                                        <\/div>  -->\r\n                                        <div class=\"list-group-item\">\r\n                                            Class Type: <span class=\"pull-right\">{{wag.CLASS_TYPE}}<\/span>\r\n                                        <\/div>                                         \r\n                                        <div class=\"list-group-item\">\r\n                                            Campus: <span class=\"pull-right\">{{wag.CAMPUS}}<\/span>\r\n                                        <\/div>   \r\n                                        <div class=\"list-group-item\">\r\n                                            Credits: <span class=\"pull-right\">{{wag.CREDITS}}<\/span>\r\n                                        <\/div>  \r\n                                        <div class=\"list-group-item\">\r\n                                            Level: <span class=\"pull-right\">{{wag.LEVEL_CODE}}<\/span>\r\n                                        <\/div> \r\n                                        <div class=\"list-group-item\">\r\n                                            Start Date: <span class=\"pull-right\">{{wag.START_DATE}}<\/span>\r\n                                        <\/div> \r\n                                        <div class=\"list-group-item\">\r\n                                            End Date: <span class=\"pull-right\">{{wag.END_DATE}}<\/span>\r\n                                        <\/div> \r\n\r\n                                    <\/div>\r\n                                <\/div>\r\n                            <\/div>\r\n                           \r\n                        <\/div>   \r\n                        <div style='color:#fff;font-weight:bold;text-shadow:none;margin-top:10px;' ng-show=\"listdata.length == 0\" id='NoWeekClasses'>You have no classes.<\/div>                     \r\n                    <\/div>\r\n                <\/div>\r\n            <\/div>\r\n        <\/div>\r\n    <\/div>\r\n<\/div>\r\n"
        }
      ]
    },
    {
      "id": 11798,
      "name": "AccTranscript",
      "displayname": "Academic Transcript",
      "logo": "RVCC/AccTranscript.png",
      "logourl": "RVCC/AccTranscript.png",
      "description": "Academic Transcript",
      "appFeatureType": "Services",
      "roles": "STUDENT",
      "showInDock": false,
      "showInHome": false,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "AccTranscript",
          "pageTemplate": "<div><\/div>",
          "datatemplate": "<style>\r\n    ul.list-group > li.list-group-item:nth-child(2n-1) {\r\n        background: #EBEBEB;\r\n    }\r\n    \r\n    li.active > a {\r\n      background: rgb(0,154,72) !important; \r\n      background: -moz-linear-gradient(top,  rgba(0,154,72,1) 0%, rgba(0,73,0,1) 100%) !important; \r\n      background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(0,154,72,1)), color-stop(100%,rgba(0,73,0,1))) !important; \r\n      background: -webkit-linear-gradient(top,  rgba(0,154,72,1) 0%,rgba(0,73,0,1) 100%) !important; \r\n      background: -o-linear-gradient(top,  rgba(0,154,72,1) 0%,rgba(0,73,0,1) 100%) !important; \r\n      background: -ms-linear-gradient(top,  rgba(0,154,72,1) 0%,rgba(0,73,0,1) 100%) !important; \r\n      background: linear-gradient(to bottom,  rgba(0,154,72,1) 0%,rgba(0,73,0,1) 100%) !important; \r\n      filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#009a48', endColorstr='#004900',GradientType=0 ) !important;          \r\n\r\n      border: 1px solid #072520 !important;\r\n      color: #ffffff !important;        \r\n    }\r\n    \r\n   /* .nav-tabs .active {\r\n        background: #C9D0DA !important;\r\n    }*/\r\n\r\n    .btn-group > .btn-default.active {\r\n        color: #fff !important;\r\n          background: rgb(0,154,72) !important; \r\n          background: -moz-linear-gradient(top,  rgba(0,154,72,1) 0%, rgba(0,73,0,1) 100%) !important; \r\n          background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(0,154,72,1)), color-stop(100%,rgba(0,73,0,1))) !important; \r\n          background: -webkit-linear-gradient(top,  rgba(0,154,72,1) 0%,rgba(0,73,0,1) 100%) !important; \r\n          background: -o-linear-gradient(top,  rgba(0,154,72,1) 0%,rgba(0,73,0,1) 100%) !important; \r\n          background: -ms-linear-gradient(top,  rgba(0,154,72,1) 0%,rgba(0,73,0,1) 100%) !important; \r\n          background: linear-gradient(to bottom,  rgba(0,154,72,1) 0%,rgba(0,73,0,1) 100%) !important; \r\n          filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#009a48', endColorstr='#004900',GradientType=0 ) !important;          \r\n          border-color:#072520 !important;\r\n\r\n    }\r\n    .btn-selected {\r\n        color: #fff !important;\r\n        background-color: #4B4271 !important;\r\n        border-color: #2C1D47 !important;\r\n        -webkit-transition:all 1s ease;\r\n        transition: all 1s ease;\r\n    }\r\n\r\n<\/style>\r\n<div class=\"1container\" style=\"margin-left:5px;margin-right:5px;overflow-x:hidden;\">\r\n    <div class=\"row\">\r\n        <div class=\"col-sm-12\">\r\n            <div class=\"form-group\">\r\n                <label><\/label>\r\n                <select id=\"level\" ng-model=\"selectedvalue\" class=\"form-control\" ng-change=\"dropdownselect(this.value);\">\r\n                    <option value=\"\">-- Select a Transcript Level --<\/option>\r\n                    <option ng-selected=\"selectedvalue == level.LEVEL_CODE\" value=\"{{level.LEVEL_CODE}}\" ng-repeat=\"level in dropdown.transcriptleveldropdown\">{{level.LEVEL_DESC}}<\/option>\r\n                <\/select>\r\n            <\/div>\r\n        <\/div>\r\n    <\/div>\r\n    <div class=\"row\">\r\n        <div class=\"col-sm-12\">\r\n            <div class=\"form-group\">\r\n                <label><\/label>\r\n                <select id=\"credittype\" ng-model=\"creditselectedvalue\" class=\"form-control\" ng-change=\"creditselect(this.value);\">\r\n                    <option value=\"\">-- Select Credit Type --<\/option>\r\n                    <option ng-selected=\"creditselectedvalue == crtype.TRANSCRIPT_CODE\" value=\"{{crtype.TRANSCRIPT_CODE}}\" ng-repeat=\"crtype in dropdown.transcripttypedropdown\">{{crtype.TRANSCRIPT_DESC}}<\/option>\r\n                <\/select>\r\n            <\/div>\r\n        <\/div>\r\n    <\/div>\r\n    <div ng-show=\"selectedvalue != null && selectedvalue != ''\">\r\n        <div class=\"btn-group justified nav-tabs\" style=\"background:#181F3C; color:#fff; border:1px solid; border-radius:4px;margin-bottom:10px;\">\r\n            <a class=\"btn btn-default\" href=\"#Tab1\" toggle=\"on\" active-class=\"active\">Institution<\/br> Credit<\/a>\r\n            <a class=\"btn btn-default\" href=\"#Tab2\" toggle=\"on\" active-class=\"active\">Transfer<\/br> Credit<\/a>\r\n            <a class=\"btn btn-default\" href=\"#Tab3\" toggle=\"on\" active-class=\"active\">Transcript<\/br> Totals<\/a>\r\n\r\n        <\/div>\r\n        <!--<ul class=\"nav nav-tabs\" style=\"background:#181F3C; color:#fff; border:1px solid; border-radius:4px;\">\r\n            <li><a href=\"#Tab1\" style=\"color:#fff;text-align:center;\" toggle=\"on\" parent-active-class=\"active\">Transfer<\/br>Credit<\/a>\r\n            <\/li>\r\n            <li><a href=\"#Tab2\" style=\"color:#fff;text-align:center;border-radius:0px;\" toggle=\"on\" parent-active-class=\"active\">Institution<\/br>Credit<\/a>\r\n            <\/li>\r\n            <li><a href=\"#Tab3\" style=\"color:#fff;text-align:center;border-radius:0px;\" toggle=\"on\" parent-active-class=\"active\">Transcript<\/br>Totals<\/a>\r\n            <\/li>\r\n        <\/ul>-->\r\n        <div class=\"tab-content\" style=\"margin-top:5px;\">\r\n            <div class=\"tab-pane\" toggleable active-class=\"active\" default=\"active\" id=\"Tab1\" exclusion-group=\"myTabs\">\r\n                <div>\r\n                    <div class=\"row\" ng-repeat=\"inst in listdata.institutioncredits\">\r\n                        <div class=\"col-sm-12\">\r\n                            <div class=\"panel panel-primary\" style=\"border:2px solid #fff;\">\r\n                                <div class=\"panel-heading\" style=\"min-height:35px;padding:10px;\">\r\n                                    <h3 class=\"panel-title\">\r\n                                      {{inst.SHRTCKN_SUBJ_CODE}} {{inst.SHRTCKN_CRSE_NUMB}}-{{inst.SHRTCKN_SEQ_NO}}\r\n                                    <\/h3>\r\n                                    <p style=\"margin-bottom:0px;\">{{inst.SHRTCKN_CRSE_TITLE}}<\/p>\r\n                                <\/div>\r\n                                <ul class=\"list-group\">\r\n                                    <li class=\"list-group-item\">Grade :\r\n                                        <span class=\"pull-right\">{{inst.SHRTCKG_GRDE_CODE_FINAL}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">Credit Hours :\r\n                                        <span class=\"pull-right\">{{inst.SHRTCKG_CREDIT_HOURS}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">Quality Pts :\r\n                                        <span class=\"pull-right\">{{inst.SHRTCKG_QUAL_PTS}}<\/span>\r\n                                    <\/li>\r\n                                <\/ul>\r\n                            <\/div>\r\n                        <\/div>\r\n                    <\/div>\r\n                    <div class=\"row\">\r\n                        <div class=\"col-sm-12\">\r\n                            <div class=\"panel panel-primary\" style=\"border:2px solid #fff;\">\r\n                                <div class=\"panel-heading\" style=\"min-height:35px;padding:10px;\">\r\n                                    <h3 class=\"panel-title\">\r\n                                      Total Institution\r\n                                    <\/h3>\r\n                                <\/div>\r\n                                <ul class=\"list-group\">\r\n                                    <li class=\"list-group-item\">Attempted Hours:\r\n                                        <span class=\"pull-right\">{{insttotal.ah | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">Passed Hours:\r\n                                        <span class=\"pull-right\">{{insttotal.ph | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">Earned Hours:\r\n                                        <span class=\"pull-right\">{{insttotal.eh | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">GPA Hours:\r\n                                        <span class=\"pull-right\">{{insttotal.gpah | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">Quality Pts:\r\n                                        <span class=\"pull-right\">{{insttotal.qp | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">GPA:\r\n                                        <span class=\"pull-right\">{{listdata.transcripttotal[0].GPA | number:3}}<\/span>\r\n                                    <\/li>\r\n                                <\/ul>\r\n                            <\/div>\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/div>\r\n            <\/div>\r\n            <div class=\"tab-pane\" toggleable active-class=\"active\"  id=\"Tab2\" exclusion-group=\"myTabs\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-sm-12\">\r\n                        <div class=\"panel panel-primary\" >\r\n                            <div class=\"panel-heading\" >\r\n                                <h3 class=\"panel-title\">\r\n                                        Total Transfer<\/h3>\r\n                            <\/div>\r\n                            <ul class=\"list-group\">\r\n                                <li class=\"list-group-item\">Attempted Hrs:\r\n                                    <span class=\"pull-right\">{{transfer.attempted}}<\/span>\r\n                                <\/li>\r\n                                <li class=\"list-group-item\">Passed Hrs:\r\n                                    <span class=\"pull-right\">{{transfer.passed}}<\/span>\r\n                                <\/li>\r\n                                <li class=\"list-group-item\">Earned Hrs:\r\n                                    <span class=\"pull-right\">{{transfer.earned}}<\/span>\r\n                                <\/li>\r\n                                <li class=\"list-group-item\">GPA Hrs:\r\n                                    <span class=\"pull-right\">{{transfer.gpa}}<\/span>\r\n                                <\/li>\r\n                                <li class=\"list-group-item\">Quality Pts:\r\n                                    <span class=\"pull-right\">{{transfer.credit}}<\/span>\r\n                                <\/li>\r\n\r\n                            <\/ul>\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/div>\r\n            <\/div>            \r\n            <div class=\"tab-pane\" toggleable active-class=\"active\" id=\"Tab3\" exclusion-group=\"myTabs\">\r\n                <div>\r\n                    <div class=\"row\" ng-show=\"totalinst\">\r\n                        <div class=\"col-sm-12\">\r\n                            <div class=\"panel panel-primary\" style=\"border:2px solid #fff;\">\r\n                                <div class=\"panel-heading\" style=\"min-height:35px;padding:10px;\">\r\n                                    <h3 class=\"panel-title\">\r\n                                        Total Institution<\/h3>\r\n                                <\/div>\r\n                                <ul class=\"list-group\">\r\n                                    <li class=\"list-group-item\">Attempted Hrs:\r\n                                        <span class=\"pull-right\">{{totalinst.ATTEMPT_HOURS | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">Passed Hrs:\r\n                                        <span class=\"pull-right\">{{totalinst.PASSED_HOURS | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">Earned Hrs:\r\n                                        <span class=\"pull-right\">{{totalinst.EARNED_HOURS | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">GPA Hrs:\r\n                                        <span class=\"pull-right\">{{totalinst.GPA_HOURS | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">Quality Pts:\r\n                                        <span class=\"pull-right\">{{totalinst.QUALITY_POINTS | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">GPA:\r\n                                        <span class=\"pull-right\">{{totalinst.GPA | number:3}}<\/span>\r\n                                    <\/li>\r\n\r\n                                <\/ul>\r\n                            <\/div>\r\n                        <\/div>\r\n                    <\/div>\r\n                    <div class=\"row\">\r\n                        <div class=\"col-sm-12\">\r\n                            <div class=\"panel panel-primary\" style=\"border:2px solid #fff;\">\r\n                                <div class=\"panel-heading\" style=\"min-height:35px;padding:10px;\">\r\n                                    <h3 class=\"panel-title\">\r\n                                        Total Transfer<\/h3>\r\n                                <\/div>\r\n                                <ul class=\"list-group\">\r\n                                    <li class=\"list-group-item\">Attempted Hrs:\r\n                                        <span class=\"pull-right\">{{totaltrans.ATTEMPT_HOURS | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">Passed Hrs:\r\n                                        <span class=\"pull-right\">{{totaltrans.PASSED_HOURS | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">Earned Hrs:\r\n                                        <span class=\"pull-right\">{{totaltrans.EARNED_HOURS | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">GPA Hrs:\r\n                                        <span class=\"pull-right\">{{totaltrans.GPA_HOURS | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">Quality Pts:\r\n                                        <span class=\"pull-right\">{{totaltrans.QUALITY_POINTS | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">GPA:\r\n                                        <span class=\"pull-right\">{{totaltrans.GPA | number:3}}<\/span>\r\n                                    <\/li>\r\n                                <\/ul>\r\n                            <\/div>\r\n                        <\/div>\r\n                    <\/div>\r\n                    <div class=\"row\">\r\n                        <div class=\"col-sm-12\">\r\n                            <div class=\"panel panel-primary\" style=\"border:2px solid #fff;\">\r\n                                <div class=\"panel-heading\" style=\"min-height:35px;padding:10px;\">\r\n                                    <h3 class=\"panel-title\">\r\n                                        Cumulative<\/h3>\r\n                                <\/div>\r\n                                <ul class=\"list-group\">\r\n                                    <li class=\"list-group-item\">Attempted Hrs:\r\n                                        <span class=\"pull-right\">{{cumulative.ATTEMPT_HOURS | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">Passed Hrs:\r\n                                        <span class=\"pull-right\">{{cumulative.PASSED_HOURS | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">Earned Hrs:\r\n                                        <span class=\"pull-right\">{{cumulative.EARNED_HOURS | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">GPA Hrs:\r\n                                        <span class=\"pull-right\">{{cumulative.GPA_HOURS | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">Quality Pts:\r\n                                        <span class=\"pull-right\">{{cumulative.QUALITY_POINTS | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">GPA:\r\n                                        <span class=\"pull-right\">{{cumulative.GPA | number:3}}<\/span>\r\n                                    <\/li>\r\n                                <\/ul>\r\n                            <\/div>\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/div>\r\n            <\/div>\r\n        <\/div>\r\n    <\/div>\r\n\r\n\r\n\r\n\r\n<\/div>",
          "dropdownendpoint": "/services/student/bannertranscriptdropdown",
          "pageprocessor": "function pageprocessorAccTranscript(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n\r\n    $rootScope.getAPI($rootScope.middlewareServerUrl + \"/services/student/bannerblockTranscriptsGrades\", function(data) {\r\n        if (data.blockTranscriptsGrades.length > 0 ) {\r\n             if (data.blockTranscriptsGrades[0].BLOCKTRANSCRIPTS == 'Y' || data.blockTranscriptsGrades[0].BLOCKGRADES == 'Y' ) {\r\n                if (window.device) {\r\n                    var doNothing = function() {\r\n                        $rootScope.$apply(function() {\r\n                            $location.path(\"/home\");\r\n                        });\r\n                    };\r\n                    navigator.notification.alert(\"Your transcript is not available due to holds on your record.\", doNothing, 'Alert', 'Ok');\r\n                } else {\r\n                    apprise(\"Your transcript is not available due to holds on your record.\", {\r\n                        'verify': false,\r\n                        'textYes': \"Ok\"\r\n                    }, function(r) {\r\n                        $rootScope.$apply(function() {\r\n                            $location.path(\"/home\");\r\n                        });\r\n                    });\r\n                }\r\n             } else {\r\n                $rootScope.getAPI($rootScope.middlewareServerUrl + pagedef.dropdownendpoint, function(data1) {\r\n                    $scope.dropdown = data1;\r\n                    if ($scope.dropdown.transcripttypedropdown.length > 0) {\r\n                        $scope.creditselectedvalue = $scope.dropdown.transcripttypedropdown[0].TRANSCRIPT_CODE;\r\n                        $('#credittype').blur();\r\n                    }                     \r\n/*                    if ($scope.dropdown.transcriptleveldropdown.length == 1) {\r\n                        $scope.selectedvalue = $scope.dropdown.transcriptleveldropdown[0].LEVEL_CODE;\r\n                        $scope.dropdownselect($scope.selectedvalue);\r\n                    }*/\r\n                });            \r\n             }\r\n        } else {\r\n            $rootScope.getAPI($rootScope.middlewareServerUrl + pagedef.dropdownendpoint, function(data1) {\r\n                $scope.dropdown = data1;\r\n                if ($scope.dropdown.transcripttypedropdown.length > 0) {\r\n                    $scope.creditselectedvalue = $scope.dropdown.transcripttypedropdown[0].TRANSCRIPT_CODE;\r\n                    $('#credittype').blur();\r\n\r\n                }                 \r\n/*                if ($scope.dropdown.transcriptleveldropdown.length == 1) {\r\n                    $scope.selectedvalue = $scope.dropdown.transcriptleveldropdown[0].LEVEL_CODE;\r\n                    $scope.dropdownselect($scope.selectedvalue);\r\n                } */               \r\n            });             \r\n        }\r\n\r\n\r\n    });\r\n\r\n    $scope.dropdownselect = function(selectedvalue) {\r\n        $rootScope.getAPI($rootScope.middlewareServerUrl + pagedef.listendpoint + $scope.selectedvalue, function(data) {\r\n            $scope.listdata = data;\r\n            $scope.creditselect($scope.creditselectedvalue);\r\n            $('#level').blur();\r\n        });\r\n    }\r\n    $scope.creditselect = function(selectedvalue) {\r\n        $scope.transfer = null;\r\n        $scope.institution = null;\r\n        $scope.transcripts = null;\r\n        // if ($scope.creditselectedvalue == \"transfer\") {\r\n            var transfer = {\r\n                attempted: 0,\r\n                passed: 0,\r\n                earned: 0,\r\n                gpa: 0,\r\n                credit: 0\r\n            };\r\n            transfer.attempted = angular.isUndefined($scope.listdata.transfer_data_total[0][0].ATTEMPTED_HOURS) ? 0 : $scope.listdata.transfer_data_total[0][0].ATTEMPTED_HOURS;\r\n            transfer.passed = angular.isUndefined($scope.listdata.transfer_data_total[0][0].PASSED_HOURS) ? 0 : $scope.listdata.transfer_data_total[0][0].PASSED_HOURS;\r\n            transfer.earned = angular.isUndefined($scope.listdata.transfer_data_total[0][0].EARNED_HOURS) ? 0 : $scope.listdata.transfer_data_total[0][0].EARNED_HOURS;\r\n            transfer.gpa = angular.isUndefined($scope.listdata.transfer_data_total[0][0].GPA_HOURS) ? 0 : $scope.listdata.transfer_data_total[0][0].GPA_HOURS;\r\n            transfer.credit = angular.isUndefined($scope.listdata.transfer_data_total[0][0].QUALITY_POINTS) ? 0 : $scope.listdata.transfer_data_total[0][0].QUALITY_POINTS;\r\n            $scope.transfer = transfer;\r\n        // } else if ($scope.creditselectedvalue == \"institution\") {\r\n            $scope.institution = \"data\";\r\n            var totalinst = {\r\n                ah: 0,\r\n                ph: 0,\r\n                eh: 0,\r\n                gpah: 0,\r\n                qp: 0\r\n            };\r\n            angular.forEach($scope.listdata.institutioncredits, function(value, key) {\r\n                this.ah += parseFloat(value.ATTEMPTED_HOURS);\r\n                this.ph += parseFloat(value.SHRTCKG_PASS_HOURS);\r\n                this.eh += parseFloat(value.SHRTCKG_EARN_HOURS);\r\n                this.gpah += parseFloat(value.SHRTCKG_GPA_HOURS);\r\n                this.qp += parseFloat(value.SHRTCKG_QUAL_PTS);\r\n            }, totalinst);\r\n            $scope.insttotal = totalinst;\r\n\r\n        // } else if ($scope.creditselectedvalue == \"transcripts\") {\r\n            $scope.transcripts = \"data\";\r\n            angular.forEach($scope.listdata.transcripttotal, function(value, key) {\r\n                if (value.TRANSCRIPT_TYPE == \"I\") {\r\n                    $scope.totalinst = value;\r\n                } else if (value.TRANSCRIPT_TYPE == \"T\") {\r\n                    $scope.totaltrans = value;\r\n                } else if (value.TRANSCRIPT_TYPE == \"Z\") {\r\n                    $scope.cumulative = value;\r\n                }\r\n            });\r\n        // }\r\n\r\n    }\r\n$rootScope.back = function() {\r\n        if ($routeParams.from) {\r\n            \r\n            if (device.platform == 'iOS') {\r\n                history.go(-1);\r\n            } else {\r\n                navigator.app.backHistory();\r\n            }\r\n        } else {\r\n            $location.path(\"/home\");\r\n        }\r\n    }\r\n\r\n}",
          "listendpoint": "/services/student/bannertranscripts/levl="
        }
      ]
    },
    {
      "id": 11801,
      "name": "LookupClasses",
      "displayname": "Lookup Classes",
      "logo": "RVCC/LookupClasses.png",
      "logourl": "RVCC/LookupClasses.png",
      "description": "Lookup Classes",
      "appFeatureType": "Services",
      "roles": "STUDENT,FACULTY",
      "showInDock": false,
      "showInHome": false,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "LookupClassesDetails",
          "pageTemplate": "<div><\/div>",
          "endpoint": null,
          "datatemplate": "<div class=\"1container 1well\" style=\"background:none;border:none;overflow-x:hidden;padding:0px;margin-left:5px;margin-right:5px;margin-top:8px;\" >\r\n  <div class=\"row\" ng-repeat=\"course in classes\">\r\n        <div class=\"col-sm-12\">\r\n                <div class=\"panel panel-primary\" style=\"border:2px solid #fff;border-radius:2px;\">\r\n                  <div class=\"panel-heading\" >\r\n                  <h5 class=\"panel-title\">{{course.TITLE}} <\/h5>\r\n                        <span>{{course.COURSE_ID}}<\/span>\r\n                <\/div>\r\n                <ul class=\"list-group\">\r\n                    <li class=\"list-group-item\"><strong>CRN :<\/strong>\r\n                        <span class=\"badge badge-message\" style=\"border-radius:5px;\">{{course.CRN}}<\/span>\r\n                        <br/>Credits :\r\n                        <span class=\"pull-right\">{{course.CREDIT_HOURS}}<\/span>\r\n                    <\/li>\r\n                    <li class=\"list-group-item\" style=\"padding:5px !important;border-bottom-left-radius:4px;border-bottom-right-radius:4px;\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-xs-4 col-md-4 col-text-center\" style=\"color:#000111;\">\r\n                                Capacity\r\n                                <br/><span class=\"text-center badge badge-message badge-circle\" style=\"border:1px solid orange\" >{{course.CAPACITY}}<\/span>\r\n                            <\/div>\r\n                            <div class=\"col-xs-4 col-md-4 col-text-center \" style=\"color:#000111;\">\r\n                                Remaining\r\n                                <br/><span class=\"text-center badge badge-message badge-circle\" style=\"border:1px solid orange\" >{{course.REMAINING}}<\/span>\r\n                            <\/div>\r\n                            <div class=\"col-xs-4 col-md-4 col-text-center \" style=\"color:#000111;\">\r\n                                Occupied\r\n                                <br/><span class=\"text-center badge badge-message badge-circle\" style=\"border:1px solid orange\">{{course.ACTUAL}}<\/span>\r\n                            <\/div>\r\n                        <\/div>\r\n                    <\/li> \r\n                    <li class=\"list-group-item\" style=\"background:rgba(0,0,0,0.1);line-height:10px;font-style:italic;\">\r\n                        <strong>Schedule:<\/strong>\r\n                    <\/li>                                        \r\n                    <li class=\"list-group-item\" ng-repeat=\"sch in course.schedule\">\r\n                        <strong> Duration: <span class=\"pull-right\">{{sch.DURATION}}<\/span> <\/strong><br/>\r\n                        <strong> Time: <span class=\"pull-right\">{{sch.TIME_DISPLAY}}<\/span> <\/strong><br/>\r\n                        <span>Instructor: <span class=\"pull-right\">{{sch.INSTRUCTOR}}<\/span><\/span><br/>\r\n                        <span>Location: <span class=\"pull-right\">{{sch.LOCATION}}<\/span><\/span>\r\n                        <ul class=\"list-group\">\r\n                            <li class=\"list-group-item\"  style=\"padding:0px;margin-top:5px;\">\r\n                                <div class=\"btn-group btn-group-xs\" style=\"box-shadow:0 0 30px grey;\">\r\n                                    <button type=\"button\" ng-class=\"day.DISP_CLASS\" class=\"btn btn-default\" ng-repeat=\"day in sch.WEEK_DATA \">{{day.LABEL}}<\/button>\r\n                                <\/div>\r\n                            <\/li>                            \r\n                        <\/ul>                      \r\n                    <\/li>\r\n                    <li class=\"list-group-item\" >\r\n                      <div class=\"pull-left btn-success \" style=\"height:15px;width:15px;border:1px solid;margin-right:5px \"><\/div>Available Days\r\n                    <\/li>\r\n\r\n                <\/ul>\r\n            <\/div>\r\n        <\/div>\r\n    <\/div>\r\n<\/div>\r\n",
          "pageprocessor": "function pageprocessorLookupClassesDetails(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n        var prevValue = \"\";\r\n        var vindex = 0;\r\n\r\n        $scope.classes = [];\r\n\r\n        $scope.classforregister = $rootScope.classlookup;\r\n        angular.forEach($scope.classforregister, function (value, key) {\r\n\r\n            if (value[0].TIME.length > 8) {\r\n                value[0].TIME_DISPLAY = value[0].SSRMEET_START_TIME + \" - \" +value[0].SSRMEET_END_TIME;\r\n            } else {\r\n                value[0].TIME_DISPLAY = \"TBA\";\r\n            }\r\n            value[0].ONLINE_COURSE = false;\r\n            if ( (value[0].SSRMEET_START_TIME == '' || value[0].SSRMEET_START_TIME == null) && \r\n                 (value[0].SSRMEET_END_TIME == '' || value[0].SSRMEET_END_TIME == null) &&\r\n                 (value[0].TIME == \"TBA\")) {\r\n                value[0].ONLINE_COURSE = true;\r\n                //console.log(value[0].CRN+\" is online course.\")\r\n            }\r\n\r\n            var days = value[0].TIME.indexOf(\" \") != -1 ? value[0].TIME.split(\" \")[0] : \"\";\r\n            value[0].WEEK_DATA = [{\r\n                \"LABEL\": \"Mon\",\r\n                \"AVAIL\": days.indexOf(\"M\") != -1,\r\n                \"DISP_CLASS\": days.indexOf(\"M\") != -1 ? \"btn-success\" : \"btn-default\"\r\n            }, {\r\n                \"LABEL\": \"Tue\",\r\n                \"AVAIL\": days.indexOf(\"T\") != -1,\r\n                \"DISP_CLASS\": days.indexOf(\"T\") != -1 ? \"btn-success\" : \"btn-default\"\r\n            }, {\r\n                \"LABEL\": \"Wed\",\r\n                \"AVAIL\": days.indexOf(\"W\") != -1,\r\n                \"DISP_CLASS\": days.indexOf(\"W\") != -1 ? \"btn-success\" : \"btn-default\"\r\n            }, {\r\n                \"LABEL\": \"Thu\",\r\n                \"AVAIL\": days.indexOf(\"R\") != -1,\r\n                \"DISP_CLASS\": days.indexOf(\"R\") != -1 ? \"btn-success\" : \"btn-default\"\r\n            }, {\r\n                \"LABEL\": \"Fri\",\r\n                \"AVAIL\": days.indexOf(\"F\") != -1,\r\n                \"DISP_CLASS\": days.indexOf(\"F\") != -1 ? \"btn-success\" : \"btn-default\"\r\n            }, {\r\n                \"LABEL\": \"Sat\",\r\n                \"AVAIL\": days.indexOf(\"S\") != -1,\r\n                \"DISP_CLASS\": days.indexOf(\"S\") != -1 ? \"btn-success\" : \"btn-default\"\r\n            }, {\r\n                \"LABEL\": \"Sun\",\r\n                \"AVAIL\": days.indexOf(\"U\") != -1,\r\n                \"DISP_CLASS\": days.indexOf(\"U\") != -1 ? \"btn-success\" : \"btn-default\"\r\n            }];\r\n            if (!value[0].schedule){\r\n                value[0].schedule = [];\r\n            }\r\n            value[0].schedule.push( {\r\n                \"DURATION\": value[0].DURATION,\r\n                \"INSTRUCTOR\": value[0].INSTRUCTOR,\r\n                \"TIME_DISPLAY\": value[0].TIME_DISPLAY,\r\n                \"TIME\": value[0].TIME,\r\n                \"LOCATION\": value[0].LOCATION,\r\n                \"WEEK_DATA\": value[0].WEEK_DATA\r\n            });\r\n            //console.log(value[0].schedule);\r\n            //\r\n            if (prevValue == \"\") {\r\n                $scope.classes.push(value[0]); \r\n                prevValue = value[0];\r\n            } else if (prevValue.CRN == value[0].CRN && \r\n                       prevValue.TERM_CODE == value[0].TERM_CODE &&\r\n                       prevValue.SUBJECT_CODE == value[0].SUBJECT_CODE &&\r\n                       prevValue.CREDIT_HOURS == value[0].CREDIT_HOURS &&\r\n                       prevValue.COURSE_ID == value[0].COURSE_ID) {\r\n                $scope.classes[vindex].schedule.push(value[0].schedule[0]);\r\n            } else {\r\n                vindex++;\r\n                $scope.classes.push(value[0]); \r\n                prevValue = value[0];                \r\n            } \r\n\r\n                   \r\n        });\r\n    console.log($scope.classes);\r\n}"
        },
        {
          "pageid": "LookupClasses",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorLookupClasses(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    $scope.selectedSubject = \"\";\r\n    $scope.courseNumber = \"\";\r\n    $scope.partTermCode = \"\";\r\n    $scope.selectedInstructor = \"\";\r\n    $scope.courseTitle = \"\";\r\n    $scope.creditFrom = \"\";\r\n    $scope.creditTo = \"\";\r\n    $scope.selectedvalue = \"\";\r\n\r\n    var termdropdownURL = \"/services/student/bannertermsForClassLookup\";\r\n    $rootScope.getAPI($rootScope.middlewareServerUrl + termdropdownURL, function (data) {\r\n        $scope.termdropdown = data.termdropdown;\r\n    });\r\n\r\n    $scope.dropdownselect = function (selectedvalue) {\r\n        var otherSearchParamsURL = \"/services/student/bannergetOtherClassSearchParams/termCode=\";\r\n        $('#termid').blur();\r\n        $rootScope.getAPI($rootScope.middlewareServerUrl + otherSearchParamsURL + $scope.selectedvalue, function (data) {\r\n            $scope.listdata = data;\r\n        });\r\n    }\r\n\r\n    $scope.search = function () {\r\n        if ($scope.selectedvalue == \"\") {\r\n            if (window.device) {\r\n                navigator.notification.alert(\"Please select term code !\", null, \"Lookup Classes\", null);\r\n            } else {\r\n                apprise(\"Please select term code\", {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function (r) {\r\n\r\n                });\r\n            }\r\n            return;\r\n        }\r\n        if ($scope.selectedSubject == \"\" && $scope.selectedInstructor == \"\") {\r\n            if (window.device) {\r\n                navigator.notification.alert(\"Please select Subject or Instructor !\", null, \"Lookup Classes\", null);\r\n            } else {\r\n                apprise(\"Please select Subject or Instructor\", {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function (r) {\r\n\r\n                });\r\n            }\r\n            return;\r\n        }\r\n        var searchURL = \"/services/student/bannerclasslookup/termCode=\" + $scope.selectedvalue +\r\n            \"&subjectCode=\" + $scope.selectedSubject +\r\n            \"&courseNumber=\" + $scope.courseNumber +\r\n            \"&partTermCode=\" + $scope.partTermCode +\r\n            \"&facultyPidm=\" + $scope.selectedInstructor +\r\n            \"&courseTitle=\" + $scope.courseTitle +\r\n            \"&creditFrom=\" + $scope.creditFrom +\r\n            \"&creditTo=\" + $scope.creditTo;\r\n        $rootScope.getAPI($rootScope.middlewareServerUrl + searchURL, function (data) {\r\n            if (data.CLASSLOOKUP.length == 0) {\r\n                if (window.device) {\r\n                    navigator.notification.alert(\"No Classes found !\", null, \"Lookup Classes\", null);\r\n                } else {\r\n                    apprise(\"No classes found.\", {\r\n                        'verify': false,\r\n                        'textYes': \"Ok\"\r\n                    }, function (r) {\r\n\r\n                    });\r\n                }\r\n            } else {\r\n                $rootScope.classlookup = data.CLASSLOOKUP;\r\n                $location.path(\"/app/LookupClasses/LookupClassesDetails\");\r\n            }\r\n        });\r\n    }\r\n$rootScope.back = function() {\r\n        if ($routeParams.from) {\r\n            \r\n            if (device.platform == 'iOS') {\r\n                history.go(-1);\r\n            } else {\r\n                navigator.app.backHistory();\r\n            }\r\n        } else {\r\n            $location.path(\"/home\");\r\n        }\r\n    }\r\n\r\n}",
          "endpoint": null,
          "datatemplate": "<style>\r\n    #branding {\r\n        display: none;\r\n    }\r\n    \r\n    input[type=\"text\"] {\r\n        min-height: 30px !important;\r\n        border-radius: 5px !important;\r\n    }\r\n    \r\n    .btn-primary:focus {\r\n        padding: 10px 5px;\r\n        width: 160px;\r\n        margin: 4px;\r\n        border-radius: 50px !important;\r\n    }\r\n<\/style>\r\n<div>\r\n    <div class=\"1container\" style=\"margin-left:5px;margin-right:5px;overflow-x:hidden;\">\r\n        <div class=\"row\">\r\n            <div class=\"col-xs-12 col-md-12 form-horizontal ng-pristine ng-valid\">\r\n                <fieldset>\r\n\r\n                    <!-- Name input-->\r\n                    <div class=\"form-group\" style=\"margin-top:10px;\">\r\n\r\n                        <div class=\"col-xs-12 col-md-12\">\r\n                            <select id=\"termid\" ng-model=\"selectedvalue\" class=\"form-control\" ng-change=\"dropdownselect(this.value);\">\r\n                                <option value=\"\">-- Search By Term --<\/option>\r\n                                <option value=\"{{term.TERM_CODE}}\" ng-repeat=\"term in termdropdown\">{{term.TERM_DESC}}<\/option>\r\n                            <\/select>\r\n                        <\/div>\r\n                    <\/div>\r\n\r\n                    <!-- Email input-->\r\n                    <div class=\"form-group\">\r\n                        <div class=\"col-xs-12 col-md-12\">\r\n                            <select id=\"subjid\" ng-model=\"selectedSubject\" class=\"form-control\">\r\n                                <option value=\"\">-- Search Subject --<\/option>\r\n                                <option value=\"{{subj.SUBJECT_CODE}}\" ng-repeat=\"subj in listdata.subjectDropDown\">{{subj.SUBJECT_DESC}}<\/option>\r\n                            <\/select>\r\n\r\n                        <\/div>\r\n                    <\/div>\r\n\r\n                    <div class=\"form-group\">\r\n                        <label for=\"name\" class=\"col-xs-6 col-md-6 control-label\" style=\"color:#fff;\">Course Number<\/label>\r\n                        <div class=\"col-xs-6 col-md-6\">\r\n                            <input type=\"text\" class=\"form-control\" name=\"courseNumber\" id=\"courseNumber\" ng-model=\"courseNumber\">\r\n                        <\/div>\r\n                    <\/div>\r\n\r\n\r\n                    <div class=\"form-group\">\r\n                        <label for=\"name\" class=\"col-xs-4 col-md-4 control-label\" style=\"color:#fff;\">Title<\/label>\r\n                        <div class=\"col-xs-8 col-md-8\">\r\n                            <input type=\"text\" class=\"form-control\" placeholder=\"\" name=\"courseTitle\" id=\"courseTitle\" ng-model=\"courseTitle\">\r\n                        <\/div>\r\n                    <\/div>\r\n\r\n                    <div class=\"form-group\">\r\n                        <label for=\"name\" class=\"col-xs-4 col-md-4 control-label\" style=\"color:#fff;\">Credit Range<\/label>\r\n                        <div class=\"col-xs-3 col-md-3\">\r\n                            <input type=\"text\" class=\"form-control\" placeholder=\"\" name=\"creditFrom\" id=\"creditFrom\" ng-model=\"creditFrom\">\r\n                        <\/div>\r\n                        <label for=\"name\" class=\"col-xs-2 col-md-2 control-label\" style=\"color:#fff;\">To<\/label>\r\n                        <div class=\"col-xs-3 col-md-3\">\r\n                            <input type=\"text\" class=\"form-control\" placeholder=\"\" name=\"creditTo\" id=\"creditTo\" ng-model=\"creditTo\">\r\n                        <\/div>\r\n\r\n                    <\/div>\r\n                    <div class=\"form-group\">\r\n                        <div class=\"col-md-12 col-xs-12\">\r\n                            <select ng-model=\"selectedInstructor\" class=\"form-control\">\r\n                                <option value=\"\">-- Search Instructor --<\/option>\r\n                                <option value=\"{{inst.SPRIDEN_PIDM}}\" ng-repeat=\"inst in listdata.instructorDropDown\">{{inst.SPRIDEN_LAST_NAME}}, {{inst.SPRIDEN_FIRST_NAME}} <\/option>\r\n                            <\/select>\r\n                        <\/div>\r\n                    <\/div>\r\n\r\n                    <!-- Form actions -->\r\n                    <div class=\"form-group\">\r\n                        <div class=\"list-group-item\" style=\"background:transparent;border:none;text-align:center;\">\r\n                            <div ng-click=\"search();\" class=\"btn btn-primary btn-sm\" style=\"padding: 10px 5px;width: 160px;margin: 4px;border-radius:50px;\">\r\n                                <i class=\"fa fa-search\" style=\"padding:6px;\"><\/i> Search Classes<\/div>\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/fieldset>\r\n            <\/div>\r\n        <\/div>\r\n    <\/div>\r\n<\/div>"
        }
      ]
    },
    {
      "id": 12208,
      "name": "RegistrationCart",
      "displayname": "Add/Drop Classes",
      "logo": "RVCC/RegistrationCart.png",
      "logourl": "RVCC/RegistrationCart.png",
      "description": "RegistrationCart",
      "appFeatureType": "Services",
      "roles": null,
      "showInDock": false,
      "showInHome": false,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "RegistrationCart",
          "pageTemplate": "<div><\/div>",
          "datatemplate": "<style>\r\n    #branding {\r\n        display: none;\r\n    }\r\n    \r\n    #appContent {\r\n        height: 100%;\r\n        width: 100%;\r\n        background: #fff;\r\n        overflow-x: hidden;\r\n    }\r\n    \r\n    input[type=\"text\"] {\r\n        min-height: 30px !important;\r\n        border-radius: 5px !important;\r\n    }\r\n    \r\n    .btn-info:focus {\r\n        padding: 10px 5px;\r\n        width: 160px;\r\n        margin: 4px;\r\n        border-radius: 50px !important;\r\n    }\r\n    \r\n    .toolbar-top {\r\n        margin: 0px;\r\n        min-height: 40px;\r\n    }\r\n    \r\n    .my-nav-tabs {\r\n        background: #181F3C;\r\n        color: #fff;\r\n    }\r\n    \r\n    .nav-tabs {\r\n        min-height: 4em;\r\n    }\r\n    \r\n    .btn-top {\r\n        border-radius: 0px !important;\r\n    }\r\n    \r\n    .btn-group.justified>.btn.active {\r\n        color: #fff !important;\r\n        /*background-color: #2C1D47 !important;\r\n        */\r\n        background: linear-gradient(to bottom, rgba(0,154,72,1) 0%,rgba(0,73,0,1) 100%) !important;\r\n        border-bottom: 4px solid orange !important;\r\n        border:none;\r\n\r\n\r\n    }\r\n    \r\n    .btn-selected {\r\n        color: #fff !important;\r\n        /*background-color: #2C1D47 !important;*/\r\n        background: linear-gradient(to bottom, rgba(0,154,72,1) 0%,rgba(0,73,0,1) 100%) !important;\r\n        border-bottom: 4px solid #2C1D47 !important;\r\n        border:none;\r\n    }\r\n    \r\n    .badge-top {\r\n        position: absolute;\r\n        border-radius: 50%;\r\n        background: orange;\r\n        line-height: 20px;\r\n        width: 20px;\r\n        height: 20px;\r\n        top: 8%;\r\n        right: 6%;\r\n        padding-left: 2px;\r\n        -webkit-box-shadow: 2px 2px 5px 0px grey;\r\n        -moz-box-shadow: 2px 2px 5px 0px grey;\r\n        box-shadow: 2px 2px 5px 0px grey;\r\n    }\r\n    \r\n    .btn-selected {\r\n        color: #fff !important;\r\n        background-color: #2C1D47 !important;\r\n        border-color: #2C1D47 !important;\r\n        -webkit-transition: all 1s ease;\r\n        transition: all 1s ease;\r\n    }\r\n    \r\n    .btn-oval {\r\n        padding: 10px 5px;\r\n        margin: 4px;\r\n        min-width: 160px;\r\n        border-radius: 50px;\r\n        border: 1px solid rgba(100, 100, 100, 0.5) !important;\r\n        box-shadow: 2px 2px darkgrey;\r\n    }\r\n    \r\n    .btn-rounded {\r\n        width: 40px;\r\n        height: 40px;\r\n        border: 1px solid #ccc !important;\r\n        border-radius: 50px;\r\n        padding-top: 9px;\r\n        outline: none !important;\r\n        font-weight: bolder;\r\n        -webkit-transition: all 1s ease;\r\n        transition: all 1s ease;\r\n    }\r\n    \r\n    .label-setting {\r\n        padding: 0px;\r\n        margin-top: 6px;\r\n    }\r\n    \r\n    .footer-button {\r\n        position: absolute;\r\n        right: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: 40px;\r\n        border-radius: 0px;\r\n        z-index: 9000;\r\n        margin: 0;\r\n        top: auto;\r\n        bottom: 0px;\r\n        overflow: hidden;\r\n    }\r\n    \r\n    .in-cart-course {\r\n        /*background: #00693F !important;*/\r\n        box-shadow: 0 0 10px black;\r\n        -webkit-transition: box-shadow linear 0.5s;\r\n        transition: box-shadow linear 0.5s;\r\n    }\r\n    \r\n    .ribbon-parent {\r\n        position: relative;\r\n        overflow: hidden;\r\n    }\r\n    \r\n    .corner-ribbon {\r\n        width: 120px;\r\n        line-height: 18px;\r\n        top: 5px;\r\n        right: -20px;\r\n        position: absolute !important;\r\n        text-align: center;\r\n        letter-spacing: 1px;\r\n        color: #f0f0f0;\r\n        transform: rotate(40deg);\r\n        -webkit-transform: rotate(40deg);\r\n    }\r\n    \r\n    .corner-ribbon.shadow {\r\n        box-shadow: 0 0 3px rgba(0, 0, 0, .3);\r\n    }\r\n    \r\n    .corner-ribbon.cart {\r\n        background: #39d;\r\n        -moz-box-shadow: 0 0 0 4px #39d, 2px 1px 4px 4px rgba(10, 10, 0, .5);\r\n        -webkit-box-shadow: 0 0 0 4px #39d, 2px 1px 4px 4px rgba(10, 10, 0, .5);\r\n        box-shadow: 0 0 0 4px #39d, 2px 1px 6px 4px rgba(10, 10, 0, .5);\r\n        border-top: 1px dashed #fff;\r\n        border-bottom: 1px dashed #fff;\r\n    }\r\n    \r\n    .corner-ribbon.registered {\r\n        background: #FF7C00;\r\n        -moz-box-shadow: 0 0 0 4px #FF7C00, 2px 1px 4px 4px rgba(10, 10, 0, .5);\r\n        -webkit-box-shadow: 0 0 0 4px #FF7C00, 2px 1px 4px 4px rgba(10, 10, 0, .5);\r\n        box-shadow: 0 0 0 4px #FF7C00, 2px 1px 6px 4px rgba(10, 10, 0, .5);\r\n        border-top: 1px dashed #fff;\r\n        border-bottom: 1px dashed #fff;\r\n    }\r\n<\/style>\r\n<div style=\"overflow-x:hidden\">\r\n    <div class=\"tab-content\">\r\n        <div class=\"tab-pane\" toggleable active-class=\"active\" default=\"active\" id=\"Tab1\" exclusion-group=\"myTabs\">\r\n            <div id=\"search-pane\" class=\"1well\" ng-show=\"inSearchWindow\" style=\"border-radius:0px;margin:0px;padding:10px;\">\r\n                <div class=\"panel panel-primary\">\r\n                    <div class=\"panel-heading\">\r\n                        <h4 style=\"margin-bottom:0px;\">Search Classes:<\/h4>\r\n                    <\/div>\r\n                    <div class=\"panel-body\" style=\"padding:8px;\">\r\n                        <div>Select term and subject from the drop down and press search. Use advanced search if you want to narrow down your search.<\/div>\r\n                        <div class=\"list-group-item\">\r\n                            <select id=\"termselect\" ng-model=\"selectedvalue\" class=\"form-control\" ng-change=\"dropdownselect(this.value);\">\r\n                                <option value=\"\">-- Select Term --<\/option>\r\n                                <option ng-selected=\"selectedvalue == term.TERM_CODE\" value=\"{{term.TERM_CODE}}\" ng-repeat=\"term in termdropdown\">{{term.TERM_DESC}}<\/option>\r\n                            <\/select>\r\n                        <\/div>\r\n                        <div class=\"list-group-item\">\r\n                            <select ng-model=\"selectedSubject\" class=\"form-control\">\r\n                                <option value=\"\">-- Search Subject --<\/option>\r\n                                <option value=\"{{subj.SUBJECT_CODE}}\" ng-repeat=\"subj in listdata.subjectDropDown\">{{subj.SUBJECT_DESC}}<\/option>\r\n                            <\/select>\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/div>\r\n                <div class=\"panel panel-primary\" style=\"margin-bottom:40px !important;\">\r\n                    <div class=\"panel-heading\">\r\n                        <div ng-init=\"open = false;\" ng-click=\"advancedClick()\">Advanced Search\r\n                            <span ng-class=\"open == true ? 'fa-chevron-circle-right' : 'fa-chevron-circle-down'\" class=\"fa pull-right fa-2x\" style=\"margin-top:-3px;\"> <\/span>\r\n                        <\/div>\r\n                    <\/div>\r\n                    <div ng-show=\"open == true\">\r\n                        <div class=\"list-group-item clearfix\">\r\n                            <div class=\"form-group \">\r\n                                <label for=\"courseNumber\" class=\"col-xs-5 col-md-5 control-label label-setting\">Course Number:<\/label>\r\n                                <div class=\"col-xs-7 col-md-7 \" style=\"padding:0px;\">\r\n                                    <input type=\"text\" class=\"form-control\" name=\"courseNumber\" id=\"courseNumber\" ng-model=\"courseNumber\">\r\n                                <\/div>\r\n                            <\/div>\r\n                        <\/div>\r\n                        <div class=\"list-group-item clearfix\">\r\n                            <div class=\"form-group \">\r\n                                <label for=\"courseTitle\" class=\"col-xs-5 col-md-5 control-label label-setting\">Title:<\/label>\r\n                                <div class=\"col-xs-7 col-md-7\" style=\"padding:0px;\">\r\n                                    <input type=\"text\" class=\"form-control\" name=\"courseTitle\" id=\"courseTitle\" ng-model=\"courseTitle\">\r\n                                <\/div>\r\n                            <\/div>\r\n                        <\/div>\r\n                        <div class=\"list-group-item clearfix\">\r\n                            <div class=\"form-group \">\r\n                                <label for=\"name \" class=\"col-xs-4 col-md-4 control-label label-setting\">Credit Range<\/label>\r\n                                <div class=\"col-xs-3 col-md-3 \">\r\n                                    <input type=\"text\" class=\"form-control\" placeholder=\"\" name=\"creditFrom\" id=\"creditFrom\" ng-model=\"creditFrom\">\r\n                                <\/div>\r\n                                <label for=\"name\" class=\"col-xs-2 col-md-2 control-label label-setting\" style=\"text-align:center;\">To<\/label>\r\n                                <div class=\"col-xs-3 col-md-3 \">\r\n                                    <input type=\"text\" class=\"form-control\" placeholder=\"\" name=\"creditTo\" id=\"creditTo\" ng-model=\"creditTo\">\r\n                                <\/div>\r\n                            <\/div>\r\n                        <\/div>\r\n                        <div class=\"list-group-item clearfix\">\r\n                            <div class=\"form-group \">\r\n                                <div class=\"col-md-12 col-xs-12\">\r\n                                    <select ng-model=\"selectedInstructor\" class=\"form-control \">\r\n                                        <option value=\"\">-- Search Instructor --<\/option>\r\n                                        <option value=\"{{inst.SPRIDEN_PIDM}} \" ng-repeat=\"inst in lovData.instructorDropDown\">{{inst.SPRIDEN_LAST_NAME}} <\/option>\r\n                                    <\/select>\r\n                                <\/div>\r\n                            <\/div>\r\n                        <\/div>\r\n                        <div class=\"list-group-item clearfix\">\r\n                            <div class=\"form-group \">\r\n                                <div class=\"col-md-12 col-xs-12\">\r\n                                    <select ng-model=\"selectedCampus\" class=\"form-control \">\r\n                                        <option value=\"\">-- Search Campus --<\/option>\r\n                                        <option value=\"{{camp.CAMP_CODE}} \" ng-repeat=\"camp in lovData.campDropDown\">{{camp.CAMP_DESC}} <\/option>\r\n                                    <\/select>\r\n                                <\/div>\r\n                            <\/div>\r\n                        <\/div>\r\n                        <div class=\"list-group-item clearfix\">\r\n                            <div class=\"list-group-item clearfix\" style=\"background:#e3e3e3;line-height:12px;\">\r\n                                <label for=\"days\" class=\"col-xs-12 col-md-12 control-label label-setting\">Days:<\/label>\r\n                            <\/div>\r\n                            <div class=\"btn-group\" style=\"margin:5px;padding:0;margin-bottom:14px;padding:0;text-align:center;width:100%;\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-xs-12 col-md-12\" style=\"padding-left:2px;padding-right:2px;overflow-x:hidden;\">\r\n                                        <div class=\"list-group-item\" style=\"background:transparent;border:none;\">\r\n                                            <div class=\"pull-left\" style=\"width:14%;\" ng-repeat=\"week in weekdata\">\r\n                                                <div class=\"btn-mini btn-default btn-rounded\" ng-class=\"week.style\" ng-click=\"selectDay($index)\">{{week.label}}<\/div>\r\n                                            <\/div>\r\n                                        <\/div>\r\n\r\n                                    <\/div>\r\n                                <\/div>\r\n                            <\/div>\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/div>\r\n                <div class=\"btn btn-block btn-warning \" ng-click=\"showResults()\" id=\"classSearchBtn\"> <i class=\"fa fa-search\" style=\"padding:6px;\"><\/i>SEARCH<\/div>\r\n                <div style=\"margin-bottom:40px !important;\"><\/br><\/div>\r\n            <\/div>\r\n            <div id=\"altpin-window\" ng-show=\"!inSearchWindow && showaltpin\" style=\"border-radius:0px;margin:0px;padding:10px;\">\r\n                <h4>Alternate PIN:<\/h4>\r\n                <span>You need to enter the alternate PIN provided to you in the below box for adding/dropping classes for this term. If you have any questions, please contact the registration department.<\/span>\r\n                <div class=\"list-group-item clearfix\">\r\n                    <div class=\"form-group \">\r\n                        <div class=\"col-xs-12 col-md-12\" style=\"padding1:0px;\">\r\n                            <input type=\"text\" class=\"form-control\" name=\"altpin\" id=\"altpin\" pattern=\"[0-9]*\" required=\"required\" placeholder='PIN' ng-model=\"altpin\">\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/div>\r\n                <div class=\"list-group-item clearfix\">\r\n                    <div class=\"form-group \">\r\n                        <div class=\"col-xs-12 col-md-12\" style=\"padding1:0px;\">\r\n                            <div class=\"btn btn-info\" ng-click=\"altPinProcess()\">SUBMIT<\/div>\r\n                            <div class=\"btn btn-info\" ng-click=\"cancelAltPin()\">Cancel<\/div>\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/div>\r\n            <\/div>\r\n            <div id=\"results-pane\" ng-hide=\"inSearchWindow || showaltpin\" style=\"border-radius:0px;margin:0px;padding:10px;\">\r\n                <div class=\"list-group-item clearfix\">\r\n                    <h4>Search Results:<\/h4>\r\n                    <span>Select the cart icon right to a class to add that class to the cart. To go back to the search window, select the \"New Search\" button below. <\/span>\r\n                    <span class=\"pull-right\" style=\"margin-top: 6px;margin-bottom: 6px;\">\r\n                 <div class=\"btn btn-info btn-oval\" ng-click=\"resetSearch()\">New Search<\/div>\r\n              <\/span>\r\n                <\/div>\r\n                <div class=\"row clearfix\" ng-repeat=\"course in classes\">\r\n                    <div class=\"col-sm-12\">\r\n                        <div class=\"panel panel-primary\" style=\"border:2px solid #fff;border-radius:2px;\">\r\n                            <div class=\"panel-heading ribbon-parent\" ng-class=\"{'in-cart-course' : course.addedToCart}\">\r\n                                <div class=\"row clearfix\">\r\n                                    <div class=\"col-xs-9\">\r\n                                        <h5 class=\"panel-title\">{{course.TITLE}} <\/h5>\r\n                                        <span>{{course.COURSE_ID}}<\/span>\r\n                                    <\/div>\r\n                                    <div class=\"col-xs-3\" style=\"text-align:center;padding:0px;margin:0px;\">\r\n                                        <div class=\"corner-ribbon cart\" ng-show=\"course.addedToCart\"><span style=\"margin-left1:-26% !important;\">&nbsp;&nbsp;Cart<\/span><\/div>\r\n                                        <div class=\"corner-ribbon registered\" ng-show=\"course.REGISTERED\"><span style=\"margin-left1:-26% !important;\">&nbsp;&nbsp;Reg.<\/span><\/div>\r\n                                        <div class=\"btn btn-default btn-rounded\" ng-hide=\"course.addedToCart || course.REGISTERED\" ng-click=\"addToCart(course.CRN)\" style=\"box-shadow:2px 2px rgba(10,10,10,0.7);\">\r\n                                            <i class=\"fa fa-shopping-cart fa-2x\" style=\"margin-left:-6px;margin-top:-4px;\"><\/i>\r\n                                        <\/div>\r\n\r\n                                    <\/div>\r\n                                <\/div>\r\n\r\n                            <\/div>\r\n                            <ul class=\"list-group\">\r\n                                <li class=\"list-group-item\"><strong>CRN :<\/strong>\r\n                                    <span class=\"badge badge-message\" style=\"border-radius:5px;\">{{course.CRN}}<\/span>\r\n                                    <br/>Credits :\r\n                                    <span class=\"pull-right\">{{course.CREDIT_HOURS}}<\/span>\r\n                                <\/li>\r\n                                <li class=\"list-group-item\" style=\"padding:5px !important;border-bottom-left-radius:4px;border-bottom-right-radius:4px;\">\r\n                                    <div class=\"row\">\r\n                                        <div class=\"col-xs-4 col-md-4 col-text-center\" style=\"color:#000111;\">\r\n                                            Capacity\r\n                                            <br/><span class=\"text-center badge badge-message badge-circle\" style=\"border:1px solid orange\">{{course.CAPACITY}}<\/span>\r\n                                        <\/div>\r\n                                        <div class=\"col-xs-4 col-md-4 col-text-center \" style=\"color:#000111;\">\r\n                                            Remaining\r\n                                            <br/><span class=\"text-center badge badge-message badge-circle\" style=\"border:1px solid orange\">{{course.REMAINING}}<\/span>\r\n                                        <\/div>\r\n                                        <div class=\"col-xs-4 col-md-4 col-text-center \" style=\"color:#000111;\">\r\n                                            Occupied\r\n                                            <br/><span class=\"text-center badge badge-message badge-circle\" style=\"border:1px solid orange\">{{course.ACTUAL}}<\/span>\r\n                                        <\/div>\r\n                                    <\/div>\r\n                                <\/li>\r\n                                <li class=\"list-group-item\" style=\"background:rgba(0,0,0,0.1);line-height:10px;font-style:italic;\">\r\n                                    <strong>Meeting Information:<\/strong>\r\n                                <\/li>\r\n                                <li class=\"list-group-item\" ng-repeat=\"sch in course.schedule\">\r\n                                    <strong> Duration: <span class=\"pull-right\">{{sch.DURATION}}<\/span> <\/strong>\r\n                                    <br/>\r\n                                    <strong> Time: <span class=\"pull-right\">{{sch.TIME_DISPLAY}}<\/span> <\/strong>\r\n                                    <br/>\r\n                                    <span>Instructor: <span class=\"pull-right\">{{sch.INSTRUCTOR}}<\/span><\/span>\r\n                                    <br/>\r\n                                    <span>Location: <span class=\"pull-right\">{{sch.LOCATION}}<\/span><\/span>\r\n                                    <ul class=\"list-group\">\r\n                                        <li class=\"list-group-item\" style=\"padding:0px;margin-top:5px;\">\r\n                                            <div class=\"btn-group btn-group-xs\" style=\"box-shadow:0 0 30px grey;\">\r\n                                                <button type=\"button\" ng-class=\"day.DISP_CLASS\" class=\"btn btn-default\" ng-repeat=\"day in sch.WEEK_DATA\">{{day.LABEL}}<\/button>\r\n                                            <\/div>\r\n                                        <\/li>\r\n                                    <\/ul>\r\n                                <\/li>\r\n                                <ul class=\"list-group\" ng-show=\"course.OLR_COURSE == 'Y'\">\r\n                                    <li class=\"list-group-item\">\r\n                                        <div class=\"row\" style=\"margin-bottom:6px;\">\r\n                                            <div class=\"col-xs-4\" style=\"padding:0px;\">\r\n                                                Start Date:\r\n                                            <\/div>\r\n                                            <div class=\"col-xs-8\">\r\n                                                <input type=\"date\" placeholder=\"Start Date\" ng-model=\"course.START_DATE\" />\r\n                                            <\/div>\r\n                                        <\/div>\r\n                                        <div class=\"row\">\r\n                                            <div class=\"col-xs-4\" style=\"padding:0px;\">\r\n                                                End Date:\r\n                                            <\/div>\r\n                                            <div class=\"col-xs-8\">\r\n                                                <input type=\"date\" placeholder=\"End Date\" ng-model=\"course.END_DATE\" />\r\n                                            <\/div>\r\n                                        <\/div>\r\n                                    <\/li>\r\n                                <\/ul>\r\n                                <li class=\"list-group-item\">\r\n                                    <div class=\"pull-left btn-success\" style=\"height:15px;width:15px;border:1px solid;margin-right:5px \"><\/div>Available Days\r\n                                <\/li>\r\n\r\n                            <\/ul>\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/div>\r\n                <div style=\"margin-bottom:40px !important;\"><\/br><\/div>\r\n            <\/div>\r\n\r\n        <\/div>\r\n        <div class=\"tab-pane \" toggleable active-class=\"active \" id=\"Tab2 \" exclusion-group=\"myTabs\">\r\n            <div id=\"cart-pane\" class=\"1well\" ng-hide=\"showmessage\" style=\"border-radius:0px;margin:0px;padding:10px;\">\r\n                <div class=\"list-group-item clearfix\">\r\n                    <h4>My Cart &nbsp;&nbsp;({{cart.length}})<\/h4>\r\n                <\/div>\r\n                <div class=\"list-group-item clearfix\" style=\"margin-bottom:5px;\">\r\n                    <span>Select the trash icon right to a class to remove that class from the cart. Verify your classes and select REGISTER CLASSES button to submit the cart for registration. <\/span>\r\n                <\/div>\r\n                <div class=\"row clearfix\" ng-repeat=\"course in cart\">\r\n                    <div class=\"col-sm-12\">\r\n                        <div class=\"panel panel-primary\" style=\"border:2px solid #fff;border-radius:2px;\">\r\n                            <div class=\"panel-heading\">\r\n                                <div class=\"row clearfix\">\r\n                                    <div class=\"col-xs-9\">\r\n                                        <h5 class=\"panel-title\">{{course.TITLE}} <\/h5>\r\n                                        <span>{{course.COURSE_ID}}<\/span>\r\n                                    <\/div>\r\n                                    <div class=\"col-xs-3\" style=\"text-align:center;\">\r\n                                        <div class=\"btn btn-default btn-rounded\" ng-click=\"removeFromCart(course.CRN)\" style=\"box-shadow:2px 2px rgba(10,10,10,0.7);\">\r\n                                            <i class=\"fa fa-trash-o fa-2x\" style=\"margin-left:-4px;margin-top:-4px;\"><\/i>\r\n                                        <\/div>\r\n                                    <\/div>\r\n                                <\/div>\r\n\r\n                            <\/div>\r\n                            <ul class=\"list-group\">\r\n                                <li class=\"list-group-item\"><strong>CRN :<\/strong>\r\n                                    <span class=\"badge badge-message\" style=\"border-radius:5px;\">{{course.CRN}}<\/span>\r\n                                    <br/>Credits :\r\n                                    <span class=\"pull-right\">{{course.CREDIT_HOURS}}<\/span>\r\n                                <\/li>\r\n                                <li class=\"list-group-item\" style=\"padding:5px !important;border-bottom-left-radius:4px;border-bottom-right-radius:4px;\">\r\n                                    <div class=\"row\">\r\n                                        <div class=\"col-xs-4 col-md-4 col-text-center\" style=\"color:#000111;\">\r\n                                            Capacity\r\n                                            <br/><span class=\"text-center badge badge-message badge-circle\" style=\"border:1px solid orange\">{{course.CAPACITY}}<\/span>\r\n                                        <\/div>\r\n                                        <div class=\"col-xs-4 col-md-4 col-text-center \" style=\"color:#000111;\">\r\n                                            Remaining\r\n                                            <br/><span class=\"text-center badge badge-message badge-circle\" style=\"border:1px solid orange\">{{course.REMAINING}}<\/span>\r\n                                        <\/div>\r\n                                        <div class=\"col-xs-4 col-md-4 col-text-center \" style=\"color:#000111;\">\r\n                                            Occupied\r\n                                            <br/><span class=\"text-center badge badge-message badge-circle\" style=\"border:1px solid orange\">{{course.ACTUAL}}<\/span>\r\n                                        <\/div>\r\n                                    <\/div>\r\n                                <\/li>\r\n                                <li class=\"list-group-item\" style=\"background:rgba(0,0,0,0.1);line-height:10px;font-style:italic;\">\r\n                                    <strong>Meeting Information:<\/strong>\r\n                                <\/li>\r\n                                <li class=\"list-group-item\" ng-repeat=\"sch in course.schedule\">\r\n                                    <strong> Duration: <span class=\"pull-right\">{{sch.DURATION}}<\/span> <\/strong>\r\n                                    <br/>\r\n                                    <strong> Time: <span class=\"pull-right\">{{sch.TIME_DISPLAY}}<\/span> <\/strong>\r\n                                    <br/>\r\n                                    <span>Instructor: <span class=\"pull-right\">{{sch.INSTRUCTOR}}<\/span><\/span>\r\n                                    <br/>\r\n                                    <span>Location: <span class=\"pull-right\">{{sch.LOCATION}}<\/span><\/span>\r\n                                    <ul class=\"list-group\">\r\n                                        <li class=\"list-group-item\" style=\"padding:0px;margin-top:5px;\">\r\n                                            <div class=\"btn-group btn-group-xs\" style=\"box-shadow:0 0 30px grey;\">\r\n                                                <button type=\"button\" ng-class=\"day.DISP_CLASS\" class=\"btn btn-default\" ng-repeat=\"day in sch.WEEK_DATA \">{{day.LABEL}}<\/button>\r\n                                            <\/div>\r\n                                        <\/li>\r\n                                    <\/ul>\r\n                                <\/li>\r\n                                <ul class=\"list-group\" ng-show=\"course.OLR_COURSE == 'Y'\">\r\n                                    <li class=\"list-group-item\">\r\n                                        <div class=\"row\" style=\"margin-bottom:6px;\">\r\n                                            <div class=\"col-xs-4\" style=\"padding:0px;\">\r\n                                                Start Date:\r\n                                            <\/div>\r\n                                            <div class=\"col-xs-8\">\r\n                                                <input type=\"date\" readOnly placeholder=\"Start Date\" ng-model=\"course.START_DATE\" />\r\n                                            <\/div>\r\n                                        <\/div>\r\n                                        <div class=\"row\">\r\n                                            <div class=\"col-xs-4\" style=\"padding:0px;\">\r\n                                                End Date:\r\n                                            <\/div>\r\n                                            <div class=\"col-xs-8\">\r\n                                                <input type=\"date\" readOnly placeholder=\"End Date\" ng-model=\"course.END_DATE\" />\r\n                                            <\/div>\r\n                                        <\/div>\r\n                                    <\/li>\r\n                                <\/ul>\r\n                                <li class=\"list-group-item\">\r\n                                    <div class=\"pull-left btn-success \" style=\"height:15px;width:15px;border:1px solid;margin-right:5px \"><\/div>Available Days\r\n                                <\/li>\r\n\r\n                            <\/ul>\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/div>\r\n                <div style=\"margin-bottom:20px !important;\"><\/div>\r\n                <div class=\"btn btn-block btn-warning \" ng-click=\"submitCart()\" id=\"submitCartBtn\"> <i class=\"fa fa-floppy-o\" style=\"padding:6px; \"><\/i>&nbsp;&nbsp;&nbsp;REGISTER CLASSES<\/div>                \r\n                <div style=\"margin-bottom:40px !important;\"><\/br><\/div>\r\n\r\n            <\/div>\r\n            <div id=\"messages\" ng-show=\"showmessage\" style=\"border-radius:0px;margin:0px;padding:10px;\">\r\n                <div class=\"alert alert-danger\" ng-show=\"regResults.summary && regResults.summary.error\">{{regResults.summary && regResults.summary.error}}<\/div>\r\n                <div class=\"alert\" ng-class=\"{'alert-success': result.status == 'S', 'alert-danger' : result.status == 'E' }\" ng-show=\"regResults.summary\" ng-repeat=\"result in regResults.summary.results\">\r\n                    CRN&nbsp;{{result.crn}}&nbsp;:&nbsp;{{result.comments}}\r\n                <\/div>\r\n            <\/div>\r\n        <\/div>\r\n        <div class=\"tab-pane \" toggleable active-class=\"active \" id=\"Tab3\" exclusion-group=\"myTabs\">\r\n            <h3 class=\"page-header\" style=\"margin-bottom:0px;padding-left:10px;\">Current Schedule:<\/h3>\r\n            <div id=\"schedule-pane\" ng-hide=\"showmessage2\" class=\"1well\" style=\"border-radius:0px;margin:0px;padding:10px;margin-bottom:40px;\">\r\n                <li class=\"list-group-item\" style=\"margin-top:-10px;\">\r\n                    <strong>Term:&nbsp;&nbsp;<\/strong><span class=\"\">{{getTermDescription(selectedvalue)}}<\/span>\r\n                <\/li>\r\n                <div class=\"row clearfix\" ng-repeat=\"schedule in currentSchedule\">\r\n                    <div class=\"col-sm-12\">\r\n                        <div class=\"panel panel-primary\" style=\"border:2px solid #fff;border-radius:2px;\">\r\n                            <div class=\"panel-heading\">\r\n                                <div class=\"row clearfix\">\r\n                                    <div class=\"col-xs-9\">\r\n                                        <h5 class=\"panel-title\">{{schedule.TITLE}} <\/h5>\r\n                                    <\/div>\r\n                                    <div class=\"col-xs-3\" style=\"text-align:center;\">\r\n\r\n                                    <\/div>\r\n                                <\/div>\r\n\r\n                            <\/div>\r\n                            <div class=\"panel-body\">\r\n                                <ul class=\"list-group\">\r\n                                    <li class=\"list-group-item\"><strong>CRN :<\/strong>\r\n                                        <span class=\"badge badge-message\" style=\"border-radius:5px;\">{{schedule.SFTREGS_CRN}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">\r\n                                        <strong>{{schedule.STVRSTS_DESC}} on {{schedule.SFTREGS_RSTS_DATE}}<\/strong>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">\r\n                                        <strong>Course:<span class=\"pull-right\">{{schedule.SSBSECT_SUBJ_CODE}}-{{schedule.SSBSECT_CRSE_NUMB}}-{{schedule.SSBSECT_SEQ_NUMB}}<\/span><\/strong>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">\r\n                                        Credits: <span class=\"pull-right\">{{schedule.SFTREGS_CREDIT_HR}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item clearfix\" ng-hide=\"!schedule.scheduleActions\">\r\n                                        <div class=\"col-md-12 col-xs-12\">\r\n                                            <select ng-model=\"schedule.action\" class=\"form-control\">\r\n                                                <option value=\"\">-- Select Action --<\/option>\r\n                                                <option value=\"{{act.RSTS_CODE}}\" ng-repeat=\"act in schedule.scheduleActions\">{{act.RSTS_DESC}} <\/option>\r\n                                            <\/select>\r\n                                        <\/div>\r\n                                    <\/li>\r\n                                <\/ul>\r\n                            <\/div>\r\n                        <\/div>\r\n\r\n\r\n                    <\/div>\r\n                <\/div>\r\n                <div class=\"panel panel-primary\" style=\"border:2px solid #fff;border-radius:2px;\">\r\n                    <div class=\"panel-heading\">\r\n                        <h5>Summary:<\/h5>\r\n                    <\/div>\r\n                    <ul class=\"list-group\">\r\n                        <li class=\"list-group-item\">\r\n                            Total Credit Hours: <span class=\"pull-right\">{{scheduleSummary.TOTAL_CREDIT_HOURS | number : 3}} <\/span>\r\n                        <\/li>\r\n                        <li class=\"list-group-item\">\r\n                            Billing Hours: <span class=\"pull-right\">{{scheduleSummary.BILLING_HOURS | number: 3}} <\/span>\r\n                        <\/li>\r\n<!--                         <li class=\"list-group-item\">\r\n                            <ACRONYM title=\"Continuing Education Units\">CEU<\/ACRONYM>: <span class=\"pull-right\">{{scheduleSummary.CEU}} <\/span>\r\n                        <\/li> -->\r\n                        <li class=\"list-group-item\">\r\n                            Minimum Hours: <span class=\"pull-right\">{{scheduleSummary.MIN_HOURS | number: 3}} <\/span>\r\n                        <\/li>\r\n                        <li class=\"list-group-item\">\r\n                            Maximum Hours: <span class=\"pull-right\">{{scheduleSummary.MAX_HOURS | number: 3}} <\/span>\r\n                        <\/li>\r\n                    <\/ul>\r\n                <\/div>\r\n                <\/br>\r\n                <div class=\"btn btn-block btn-warning \" ng-click=\"submitDrops()\" id=\"submitDrop\"> <i class=\"fa fa-trash-o\" style=\"padding:6px; \"><\/i>SUBMIT<\/div>\r\n                <div style=\"margin-bottom:40px !important;\"><\/br><\/div>\r\n            <\/div>\r\n            <div id=\"messages2\" ng-show=\"showmessage2\" style=\"border-radius:0px;margin:0px;padding:10px;\">\r\n                <div class=\"alert alert-danger\" ng-show=\"regResults2.error\">{{regResults2.summary && regResults2.summary.error}}<\/div>\r\n                <div class=\"alert\" ng-class=\"{'alert-success': result.status == 'S', 'alert-danger' : result.status == 'E' }\" ng-show=\"regResults2.summary\" ng-repeat=\"result in regResults2.summary.results\">\r\n                    CRN&nbsp;{{result.crn}}&nbsp;:&nbsp;{{result.comments}}\r\n                <\/div>\r\n                <div class=\"list-group-item\">\r\n                    <div class=\"btn btn-info btn-oval\" ng-click=\"showmessage2 = !showmessage2\">OK <\/div>\r\n                <\/div>\r\n            <\/div>\r\n        <\/div>\r\n\r\n    <\/div>\r\n\r\n\r\n<\/div>",
          "pageprocessor": "function pageprocessorRegistrationCart(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    \r\n\r\n    $rootScope.back = function() {\r\n\r\n        var onConfirm = function (buttonIndex) {\r\n            if (buttonIndex == 1) {                \r\n                window.location.href = \"index.html#home\";\r\n                 /*\r\n                 if (window.device) {\r\n                    if (device.platform == 'iOS') {\r\n                        history.go(-1);\r\n                    } else {\r\n                        navigator.app.backHistory();\r\n                    }\r\n                } else {\r\n                    history.go(-1);\r\n                }  */             \r\n            }\r\n        };\r\n        if ($scope.cart.length > 0) {\r\n            if (window.device) {\r\n                navigator.notification.confirm(\r\n                    'This will clear the cart. Continue ?', // message\r\n                    onConfirm, // callback to invoke with index of button pressed\r\n                    'Add/Drop Classes', // title\r\n                    ['Yes', 'No'] // buttonLabels\r\n                );\r\n            } else {\r\n                apprise(\"This will clear the cart. Continue ?\", {\r\n                    'verify': true,\r\n                    'textYes': \"Yes\",\r\n                    'textNo': \"No\"\r\n                }, function (r) {\r\n                    if (r) {\r\n                        window.location.href = \"index.html#home\";\r\n                    }\r\n                });\r\n            }             \r\n        } else {\r\n            window.location.href = \"index.html#home\";\r\n        }\r\n       \r\n        \r\n    }\r\n\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n\r\n    $scope.tempvar = false;\r\n    $scope.termdropdown = \"\";\r\n    $scope.selectedvalue = \"\";\r\n    $scope.inSearchWindow = true;\r\n    $scope.altpin = \"\";\r\n    $scope.showaltpin = false;\r\n    $scope.servererror = false;    \r\n    $scope.showmessage = false;\r\n    $scope.showmessage2 = false;\r\n    $scope.currentSchedule = \"\";\r\n    $scope.scheduleSummary = \"\";\r\n    $scope.scheduleActions = \"\";\r\n    $scope.classes = [];\r\n    var prevValue = [];\r\n    var monthName = [\"JAN\",\"FEB\",\"MAR\",\"APR\",\"MAY\",\"JUN\",\"JUL\",\"AUG\",\"SEP\",\"OCT\",\"NOV\",\"DEC\"];\r\n    //Cart variables\r\n    $scope.cart = [];\r\n    $scope.weekdata = [{\r\n        style: \"\",  label: \"M\", selected: \"\"\r\n    }, {\r\n        style: \"\",  label: \"T\", selected: \"\"\r\n    }, {\r\n        style: \"\",  label: \"W\", selected: \"\"\r\n    }, {\r\n        style: \"\",  label: \"T\", selected: \"\"\r\n    }, {\r\n        style: \"\",  label: \"F\", selected: \"\"\r\n    }, {\r\n        style: \"\",  label: \"S\", selected: \"\"\r\n    }, {\r\n        style: \"\",  label: \"S\", selected: \"\"\r\n    }]; \r\n\r\n    $scope.displayMessage = function(message) {\r\n        if (window.device) {\r\n            navigator.notification.alert(message, null, \"Add/Drop Classes\", null);\r\n        } else {\r\n            apprise(message, {\r\n                'verify': false,\r\n                'textYes': \"Ok\"\r\n            }, function(r) {\r\n\r\n            });\r\n        }         \r\n    }    \r\n\r\n    $scope.clearCart = function() {\r\n        $scope.classes = [];\r\n        $scope.cart = [];\r\n        $scope.altpin = \"\";\r\n        $scope.showaltpin = false;\r\n        $scope.servererror = false;\r\n        $scope.selectedSubject = \"\";\r\n        $scope.courseNumber = \"\";\r\n        $scope.courseTitle = \"\";\r\n        $scope.partTermCode = \"\";\r\n        $scope.creditFrom = \"\";\r\n        $scope.creditTo = \"\";\r\n        $scope.selectedInstructor = \"\";\r\n        $scope.selectedCampus = \"\";        \r\n        $scope.weekdata = [{\r\n            style: \"\",  label: \"M\", selected: \"\"\r\n        }, {\r\n            style: \"\",  label: \"T\", selected: \"\"\r\n        }, {\r\n            style: \"\",  label: \"W\", selected: \"\"\r\n        }, {\r\n            style: \"\",  label: \"T\", selected: \"\"\r\n        }, {\r\n            style: \"\",  label: \"F\", selected: \"\"\r\n        }, {\r\n            style: \"\",  label: \"S\", selected: \"\"\r\n        }, {\r\n            style: \"\",  label: \"S\", selected: \"\"\r\n        }];     \r\n    }\r\n\r\n    $scope.clearSearch = function() {\r\n        $scope.courseNumber = \"\";\r\n        $scope.courseTitle = \"\";\r\n        $scope.partTermCode = \"\";\r\n        $scope.creditFrom = \"\";\r\n        $scope.creditTo = \"\";\r\n        $scope.selectedInstructor = \"\";\r\n        $scope.selectedCampus = \"\";\r\n        $scope.weekdata = [{\r\n            style: \"\",  label: \"M\", selected: \"\"\r\n        }, {\r\n            style: \"\",  label: \"T\", selected: \"\"\r\n        }, {\r\n            style: \"\",  label: \"W\", selected: \"\"\r\n        }, {\r\n            style: \"\",  label: \"T\", selected: \"\"\r\n        }, {\r\n            style: \"\",  label: \"F\", selected: \"\"\r\n        }, {\r\n            style: \"\",  label: \"S\", selected: \"\"\r\n        }, {\r\n            style: \"\",  label: \"S\", selected: \"\"\r\n        }];     \r\n    }\r\n\r\n    var termdropdownURL = \"/services/student/bannertermsForRegCart\";    \r\n    $rootScope.getAPI($rootScope.middlewareServerUrl + termdropdownURL, function(data) {\r\n        $scope.termdropdown = data.termdropdown;\r\n        $scope.clearCart();\r\n        if (angular.isArray($scope.termdropdown) && $scope.termdropdown.length > 0) {\r\n            $scope.selectedvalue = $scope.termdropdown[0].TERM_CODE;\r\n            $scope.dropdownselect($scope.selectedvalue);\r\n        }\r\n    });        \r\n\r\n    $scope.getTermDescription = function(tcode) {\r\n        var tdesc = \"\";\r\n        angular.forEach($scope.termdropdown, function(value,key) {\r\n            if (value.TERM_CODE == tcode) {\r\n                tdesc = value.TERM_DESC;\r\n                return;\r\n            }\r\n        });\r\n        return tdesc;\r\n    }\r\n\r\n    $scope.selectDay = function(day) {\r\n        if ($scope.weekdata[day].style == \"btn-selected\") {\r\n            $scope.weekdata[day].style = \"\";\r\n            $scope.weekdata[day].selected = \"\";\r\n        } else {\r\n            $scope.weekdata[day].style = \"btn-selected\";\r\n            $scope.weekdata[day].selected = \"Y\";\r\n        }\r\n    }    \r\n\r\n    $scope.refreshCurrentSchedule = function() {\r\n         $scope.currentSchedule = \"\";\r\n        $scope.scheduleSummary = \"\";\r\n        //$scope.scheduleActions = \"\";  \r\n        $scope.showmessage2 = false;      \r\n        var currUrl = $rootScope.middlewareServerUrl + \"/services/student/bannerregistrationcartcurrentschedule/termCode=\" + $scope.selectedvalue;\r\n        $rootScope.getAPI(currUrl, function(schdata) {\r\n            console.log(schdata); \r\n            var sumresult = \"\";\r\n            var scheduleresult = \"\";\r\n            if (window.device) {\r\n                sumresult = JSON.parse(schdata.p_summary_out[0].summary);\r\n                scheduleresult = JSON.parse(schdata.p_schedule_out[0].currentschedule);\r\n                schdata.p_schedule_out[0].currentschedule = scheduleresult;               \r\n            } else {\r\n                sumresult = JSON.parse(schdata.p_summary_out[0].summary);\r\n                scheduleresult = JSON.parse(JSON.stringify(schdata.p_schedule_out[0].currentschedule));\r\n                schdata.p_schedule_out[0].currentschedule = scheduleresult;                \r\n            }\r\n\r\n            $scope.currentSchedule = schdata.currentschedule;\r\n            $scope.scheduleSummary = sumresult;\r\n\r\n            //$scope.scheduleActions = schdata.p_schedule_out[0].currentschedule;\r\n            angular.forEach($scope.currentSchedule, function(value,key) {\r\n                value.action = \"\";\r\n                //console.log(\"value=\"+value.SFTREGS_CRN);\r\n                angular.forEach(schdata.p_schedule_out[0].currentschedule[0].schedule, function(valschedule,keyschedule) {\r\n                    if (valschedule.CRN == value.SFTREGS_CRN) {\r\n                        value.scheduleActions = valschedule.ACTIONS;\r\n                        //console.log(\"Actions=\"+value.scheduleActions.length);\r\n                    }\r\n                });\r\n            });      \r\n            //console.log($scope.currentSchedule);      \r\n            if ($scope.tempvar) {\r\n                 $.blockUI({\r\n                    message: '<div class=\"loader\" style=\"margin: 2px; vertical-align: middle; display: inline-block\"><\/div>'\r\n                });               \r\n            }\r\n        });  \r\n\r\n    }\r\n\r\n  $scope.fetchAdditionalServices = function() {\r\n        $scope.tempvar = true;\r\n        var url = \"/services/student/bannergetRegCartOtherLOV/termCode=\"+$scope.selectedvalue;\r\n        $rootScope.getAPI($rootScope.middlewareServerUrl + url, function(data) {                       \r\n            $scope.listdata = data;\r\n            $scope.tempvar = true;                        \r\n            //$scope.scheduleActions = \"\"; \r\n            //$scope.refreshCurrentSchedule();   \r\n            $scope.tempvar = false;          \r\n        });\r\n        $scope.currentSchedule = \"\";\r\n        $scope.scheduleSummary = \"\";\r\n        $scope.refreshCurrentSchedule();\r\n  }\r\n\r\n  $scope.altPinProcess = function() {\r\n    if (!$scope.altpin) {\r\n        //\r\n    }\r\n    if (/^[0-9]*$/.test($scope.altpin) == false) {\r\n        if (window.device) {\r\n            navigator.notification.alert(\"Only numeric values are allowed as PIN !\", null, \"Add/Drop Classes\", null);\r\n        } else {\r\n            apprise(\"Only numeric values are allowed as PIN !\", {\r\n                'verify': false,\r\n                'textYes': \"Ok\"\r\n            }, function(r) {\r\n\r\n            });\r\n        }        \r\n        return;\r\n    }\r\n        var pinUrl = $rootScope.middlewareServerUrl + \"/services/student/bannervalidateAddlPin\";\r\n        var postdata = \"termCode=\" + $scope.selectedvalue + \"&pin=\" + $scope.altpin;\r\n        $rootScope.postAPI(pinUrl, postdata, function(data) {\r\n            if (data.validateAddlPin.length >= 1) {\r\n                if (data.validateAddlPin[0].SUCCESS == \"true\") {\r\n                    $scope.showaltpin = false;\r\n                    $scope.fetchAdditionalServices();\r\n                } else {\r\n                    $scope.displayMessage(\"The Pin you have entered is invalid. Please enter a valid Pin.\");\r\n                }\r\n            } else {\r\n                $scope.displayMessage(\"The Pin you have entered is invalid. Please enter a valid Pin.\");\r\n            }\r\n        });    \r\n  }\r\n\r\n   $scope.getAltPinRequired = function() {    \r\n        angular.forEach($scope.termdropdown, function(value,key) {\r\n            if (value.TERM_CODE == $scope.selectedvalue) {\r\n                return value.ALTPIN;\r\n            }\r\n        });  \r\n        return 'N';      \r\n   }\r\n\r\n\r\n  $scope.dropdownselect = function (termcode) {\r\n        //cart will be cleared. Confirmation should be asked to user. \r\n        $scope.listdata = [];\r\n        $scope.lovData = [];\r\n        $scope.open = false;\r\n        $scope.tempvar = false;\r\n        $scope.clearCart();\r\n        $scope.showmessage2 = false;\r\n        if (!$scope.selectedvalue) {\r\n            return;\r\n        }\r\n        //check for AltPIN\r\n        var altpinrequired = $scope.getAltPinRequired();\r\n        $scope.servererror = false;\r\n\r\n        if (altpinrequired == 'Y') {\r\n            // Ask for student pin and validate\r\n            $scope.showaltpin = true;\r\n        } else {\r\n            $scope.showaltpin = false;\r\n            $scope.fetchAdditionalServices();           \r\n        }\r\n        /*\r\n        var pinUrl = \"/services/student/banneraddlPinReqd/termCode=\" + $scope.selectedvalue;\r\n        $rootScope.getAPI($rootScope.middlewareServerUrl + pinUrl, function(data) {\r\n            if (data.error) {\r\n                //some issue with service.\r\n                $scope.servererror = true;\r\n                if (window.device) {\r\n                    navigator.notification.alert(\"Internal server issue. Please contact administrator.\", null, \"Add/Drop Classes\", null);\r\n                } else {\r\n                    apprise(\"Internal server issue. Please contact administrator.\", {\r\n                        'verify': false,\r\n                        'textYes': \"Ok\"\r\n                    }, function(r) {\r\n\r\n                    });\r\n                }                 \r\n            } else if (data.addlPinReqd && data.addlPinReqd.length >= 1) {\r\n                $scope.servererror = false;\r\n                if ( data.addlPinReqd[0].REQUIRED == \"true\") {\r\n                    $scope.showaltpin = true;\r\n                } else {\r\n                    $scope.showaltpin = false;\r\n                    $scope.fetchAdditionalServices();\r\n                }\r\n            } else {\r\n                $scope.servererror = false;\r\n                $scope.showaltpin = false;\r\n                $scope.fetchAdditionalServices();\r\n            }\r\n\r\n        });    \r\n        */    \r\n             \r\n    }    \r\n\r\n   $scope.advancedClick = function() {\r\n        if (!$scope.open && !$scope.selectedvalue) {\r\n             if (window.device) {\r\n                navigator.notification.alert(\"Please select a term first !\", null, \"Add/Drop Classes\", null);\r\n            } else {\r\n                apprise(\"Please select a term first !\", {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function(r) {\r\n\r\n                });\r\n            }\r\n            return;            \r\n        }        \r\n        if (!$scope.open) {            \r\n            $scope.lovData= [];\r\n            var lovUrl = \"/services/student/bannergetRegCartAdditionalLOV/termCode=\"+$scope.selectedvalue;\r\n            $rootScope.getAPI($rootScope.middlewareServerUrl + lovUrl, function(lovdata) {\r\n                $scope.lovData = lovdata;\r\n            });           \r\n        }\r\n        $scope.open = !$scope.open;\r\n\r\n   }\r\n\r\n  $scope.cancelAltPin = function() {\r\n    $scope.selectedvalue = \"\";\r\n    $scope.dropdownselect($scope.selectedvalue);\r\n  }    \r\n\r\n    $scope.resetSearch = function() {\r\n        $scope.inSearchWindow = !$scope.inSearchWindow;\r\n        $scope.clearSearch();\r\n        $scope.showmessage = false;\r\n    }\r\n     \r\n     $scope.addToCart = function(crn) {     \r\n        angular.forEach($scope.classes,function(value,key) {\r\n            if (value.CRN == crn) {\r\n                if (value.OLR_COURSE == 'Y') {\r\n                    if (!value.START_DATE && !value.END_DATE) {\r\n                        if (window.device) {\r\n                            navigator.notification.alert(\"Start Date or End Date should be mentioned for OLR courses.\", null, \"Add/Drop Classes\", null);\r\n                        } else {\r\n                            apprise(\"Start Date or End Date should be mentioned for OLR courses.\", {\r\n                                'verify': false,\r\n                                'textYes': \"Ok\"\r\n                            }, function(r) {\r\n\r\n                            });\r\n                        }  \r\n                        return;                      \r\n                    }\r\n                    if (value.START_DATE && value.END_DATE) {\r\n                        if (window.device) {\r\n                            navigator.notification.alert(\"Only one of start or end dates may be entered.\", null, \"Add/Drop Classes\", null);\r\n                        } else {\r\n                            apprise(\"Only one of start or end dates may be entered.\", {\r\n                                'verify': false,\r\n                                'textYes': \"Ok\"\r\n                            }, function(r) {\r\n\r\n                            });\r\n                        }  \r\n                        return;                      \r\n                    }  \r\n                    var cStartDate, cEndDate;\r\n                    if (value.START_DATE) {\r\n                        var dStartDate = new Date(value.START_DATE);\r\n                        cStartDate = dStartDate.getDate() + \"-\" + monthName[dStartDate.getMonth()] + \"-\" + dStartDate.getFullYear();\r\n                    } \r\n                    if (value.END_DATE) {\r\n                        var dEndDate = new Date(value.END_DATE);\r\n                        cEndDate = dEndDate.getDate() + \"-\" + monthName[dEndDate.getMonth()] + \"-\" + dEndDate.getFullYear();\r\n                    }                                                      \r\n                }                \r\n\r\n                value.addedToCart = true;\r\n                value.formatClass = \"in-cart-course\";\r\n                $scope.cart.push(value);\r\n                console.log($scope.cart);\r\n                return;\r\n            }\r\n        });\r\n        \r\n     }\r\n\r\n     $scope.removeFromCart = function(crn) {\r\n        for(var i = 0; i <= $scope.cart.length-1; i++){\r\n            if ($scope.cart[i].CRN === crn) {\r\n                $scope.cart.splice(i, 1);\r\n            }\r\n        }       \r\n        angular.forEach($scope.classes,function(value,key){\r\n            if (value.CRN == crn) {\r\n                value.addedToCart = false;\r\n                value.formatClass = \"\";\r\n                console.log($scope.cart);\r\n            }\r\n        });\r\n        console.log($scope.cart);\r\n     }   \r\n\r\n     $scope.submitCart = function() {\r\n        if ($scope.cart.length == 0) {\r\n            if (window.device) {\r\n                navigator.notification.alert(\"No classes added to cart.\", null, \"Add/Drop Classes\", null);\r\n            } else {\r\n                apprise(\"No classes added to cart.\", {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function(r) {\r\n\r\n                });\r\n            }  \r\n            return;          \r\n        }\r\n        //build param map for registration service\r\n        var endpoint = $rootScope.middlewareServerUrl + \"/services/student/banneraddDropClasses\";\r\n        var postdata = \"\"; \r\n        var termCode = \"\";\r\n        var crns = \"\";\r\n        var regCodes = \"\";\r\n        var action = \"A\";\r\n        var startDates = \"\";\r\n        var endDates = \"\";\r\n        var firstTime = true;\r\n        $scope.regResults = \"\";\r\n\r\n        angular.forEach($scope.cart,function(value,key) {\r\n            termCode = $scope.selectedvalue;\r\n            if (!firstTime) {\r\n                crns = crns + \",\";\r\n                regCodes = regCodes + \",\";\r\n                startDates = startDates + \",\";\r\n                endDates = endDates + \",\";\r\n            }\r\n            crns = crns + value.CRN;\r\n            regCodes = regCodes + \"RW\";\r\n            if (value.START_DATE) {\r\n                var dStartDate = new Date(value.START_DATE);\r\n                cStartDate = (dStartDate.getDate() + 1) + \"-\" + monthName[dStartDate.getMonth()] + \"-\" + dStartDate.getFullYear() ;            \r\n                startDates = startDates + cStartDate;                \r\n            }\r\n            if (value.END_DATE) {\r\n                var dEndDate = new Date(value.END_DATE);\r\n                cEndDate = (dEndDate.getDate() +1) + \"-\" + monthName[dEndDate.getMonth() ] + \"-\" + dEndDate.getFullYear();            \r\n                endDates = endDates + cEndDate;                \r\n            }\r\n            firstTime = false;\r\n        }); \r\n        postdata = \"termCode=\" + termCode + \"&crns=\" + crns + \"&regCodes=\" + regCodes + \"&action=\" + action + \"&startDates=\" + startDates + \"&endDates=\" + endDates;\r\n\r\n        $rootScope.postAPI(endpoint, postdata, function (data) {\r\n            \r\n            if (window.device) {\r\n                var dres = JSON.parse(data.p_out[0].summary);\r\n                data.p_out[0].summary = dres;\r\n            }\r\n            $scope.regResults = data.p_out[0];\r\n            if ($scope.regResults.summary && $scope.regResults.summary.results ) {\r\n                angular.forEach($scope.regResults.summary.results, function(value,key){\r\n                    if (value.status == 'S') {\r\n                        value.CSS_CLASS = \"alert-success\";\r\n                    } else if (value.status == 'E') {\r\n                        value.CSS_CLASS = \"alert-danger\";\r\n                    } else {\r\n                        value.CSS_CLASS = \"alert-warning\";\r\n                    }\r\n                });\r\n            }\r\n            $scope.showmessage = true;\r\n            $scope.clearCart();\r\n            $scope.refreshCurrentSchedule(); \r\n        });\r\n\r\n     }\r\n\r\n    $scope.showResults = function() {\r\n        if ($scope.selectedvalue == \"\") {\r\n            if (window.device) {\r\n                navigator.notification.alert(\"Please select term code.\", null, \"Add/Drop Classes\", null);\r\n            } else {\r\n                apprise(\"Please select term code\", {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function(r) {\r\n\r\n                });\r\n            }\r\n            return;\r\n        }\r\n        if ($scope.selectedSubject == \"\" && $scope.selectedInstructor == \"\") {\r\n            if (window.device) {\r\n                navigator.notification.alert(\"Please select Subject or Instructor.\", null, \"Add/Drop Classes\", null);\r\n            } else {\r\n                apprise(\"Please select Subject or Instructor.\", {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function(r) {\r\n\r\n                });\r\n            }\r\n            return;\r\n        }       \r\n\r\n        $scope.showmessage = false;\r\n        var mon,tue,wed,thu,fri,sat,sunday;\r\n        mon = ($scope.weekdata[0].selected == 'Y') ? 'M':'';\r\n        tue = ($scope.weekdata[1].selected == 'Y') ? 'T':'';\r\n        wed = ($scope.weekdata[2].selected == 'Y') ? 'W':'';\r\n        thu = ($scope.weekdata[3].selected == 'Y') ? 'R':'';\r\n        fri = ($scope.weekdata[4].selected == 'Y') ? 'F':'';\r\n        sat = ($scope.weekdata[5].selected == 'Y') ? 'S':'';                                                \r\n        sunday = ($scope.weekdata[6].selected == 'Y') ? 'U':'';        \r\n\r\n        var searchURL = \"/services/student/bannerregCartclasslookup/termCode=\" + $scope.selectedvalue +\r\n            \"&subjectCode=\" + $scope.selectedSubject +\r\n            \"&courseNumber=\" + $scope.courseNumber +\r\n            \"&partTermCode=\" + $scope.partTermCode +\r\n            \"&facultyPidm=\" + $scope.selectedInstructor +\r\n            \"&courseTitle=\" + $scope.courseTitle +\r\n            \"&creditFrom=\" + $scope.creditFrom +\r\n            \"&creditTo=\" + $scope.creditTo +\r\n            \"&campCode=\" + $scope.selectedCampus +\r\n            \"&mon=\" + mon +\r\n            \"&tue=\" + tue +\r\n            \"&wed=\" + wed +\r\n            \"&thu=\" + thu +\r\n            \"&fri=\" + fri +\r\n            \"&sat=\" + sat +\r\n            \"&sun=\" + sunday;\r\n        $rootScope.getAPI($rootScope.middlewareServerUrl + searchURL, function(data) {\r\n            if (data.CLASSLOOKUP.length == 0) {\r\n                if (window.device) {\r\n                    navigator.notification.alert(\"No classes found.\", null, \"Add/Drop Classes\", null);\r\n                } else {\r\n                    apprise(\"No classes found.\", {\r\n                        'verify': false,\r\n                        'textYes': \"Ok\"\r\n                    }, function(r) {\r\n\r\n                    });\r\n                }\r\n            } else { \r\n                console.log(data.CLASSLOOKUP);\r\n                $scope.classes = [];\r\n                $scope.inSearchWindow = false;\r\n                var prevValue = \"\";\r\n                var vindex = 0;\r\n               angular.forEach(data.CLASSLOOKUP, function(value, key) {\r\n                    if (value[0].TIME && value[0].TIME.length > 8) {\r\n                        value[0].TIME_DISPLAY = value[0].SSRMEET_START_TIME + \" - \" +value[0].SSRMEET_END_TIME;\r\n                    } else {\r\n                        value[0].TIME_DISPLAY = \"TBA\";\r\n                    }                \r\n\r\n                    value[0].START_DATE = \"\";\r\n                    value[0].END_DATE = \"\";\r\n                    value[0].ONLINE_COURSE = false;\r\n                    if ((value[0].SSRMEET_START_TIME == '' || value[0].SSRMEET_START_TIME == null) &&\r\n                        (value[0].SSRMEET_END_TIME == '' || value[0].SSRMEET_END_TIME == null) &&\r\n                        (value[0].TIME == \"TBA\")) {\r\n                        value[0].ONLINE_COURSE = true;\r\n                    }\r\n\r\n                    var days = value[0].TIME.indexOf(\" \") != -1 ? value[0].TIME.split(\" \")[0] : \"\";\r\n                    value[0].WEEK_DATA = [{\r\n                        \"LABEL\": \"Mon\",\r\n                        \"AVAIL\": days.indexOf(\"M\") != -1,\r\n                        \"DISP_CLASS\": days.indexOf(\"M\") != -1 ? \"btn-success\" : \"btn-default\"\r\n                    }, {\r\n                        \"LABEL\": \"Tue\",\r\n                        \"AVAIL\": days.indexOf(\"T\") != -1,\r\n                        \"DISP_CLASS\": days.indexOf(\"T\") != -1 ? \"btn-success\" : \"btn-default\"\r\n                    }, {\r\n                        \"LABEL\": \"Wed\",\r\n                        \"AVAIL\": days.indexOf(\"W\") != -1,\r\n                        \"DISP_CLASS\": days.indexOf(\"W\") != -1 ? \"btn-success\" : \"btn-default\"\r\n                    }, {\r\n                        \"LABEL\": \"Thu\",\r\n                        \"AVAIL\": days.indexOf(\"R\") != -1,\r\n                        \"DISP_CLASS\": days.indexOf(\"R\") != -1 ? \"btn-success\" : \"btn-default\"\r\n                    }, {\r\n                        \"LABEL\": \"Fri\",\r\n                        \"AVAIL\": days.indexOf(\"F\") != -1,\r\n                        \"DISP_CLASS\": days.indexOf(\"F\") != -1 ? \"btn-success\" : \"btn-default\"\r\n                    }, {\r\n                        \"LABEL\": \"Sat\",\r\n                        \"AVAIL\": days.indexOf(\"S\") != -1,\r\n                        \"DISP_CLASS\": days.indexOf(\"S\") != -1 ? \"btn-success\" : \"btn-default\"\r\n                    }, {\r\n                        \"LABEL\": \"Sun\",\r\n                        \"AVAIL\": days.indexOf(\"U\") != -1,\r\n                        \"DISP_CLASS\": days.indexOf(\"U\") != -1 ? \"btn-success\" : \"btn-default\"\r\n                    }];\r\n                    if (!value[0].schedule) {\r\n                        value[0].schedule = [];\r\n                    }\r\n                    value[0].schedule.push({\r\n                        \"DURATION\": value[0].DURATION,\r\n                        \"INSTRUCTOR\": value[0].INSTRUCTOR,\r\n                        \"TIME_DISPLAY\": value[0].TIME_DISPLAY,\r\n                        \"TIME\": value[0].TIME,\r\n                        \"LOCATION\": value[0].LOCATION,\r\n                        \"WEEK_DATA\": value[0].WEEK_DATA\r\n                    });\r\n                    value[0].addedToCart = false;\r\n                    value[0].formatClass = \"\";\r\n                    value[0].REGISTERED =  false;\r\n                    angular.forEach($scope.currentSchedule, function(schvalue, schkey) {\r\n                        if (schvalue.SFTREGS_CRN == value[0].CRN) {\r\n                            value[0].REGISTERED = true;\r\n                            //return;\r\n                        }\r\n                    });                     \r\n                    //\r\n                    if (prevValue == \"\") {\r\n                        $scope.classes.push(value[0]);\r\n                        prevValue = value[0];\r\n                    } else if (prevValue.CRN == value[0].CRN &&\r\n                        //prevValue.TERM_CODE == value[0].TERM_CODE &&\r\n                        //prevValue.SUBJECT_CODE == value[0].SUBJECT_CODE &&\r\n                        prevValue.CREDIT_HOURS == value[0].CREDIT_HOURS &&\r\n                        prevValue.COURSE_ID == value[0].COURSE_ID) {\r\n                        $scope.classes[vindex].schedule.push(value[0].schedule[0]);\r\n                    } else {\r\n                        vindex++;\r\n                        $scope.classes.push(value[0]);\r\n                        prevValue = value[0];\r\n                    }\r\n\r\n                });                                                                          \r\n            }\r\n        });            \r\n\r\n    }\r\n\r\n    $scope.submitDrops = function() {        \r\n         if ($scope.currentSchedule.length == 0) {\r\n            if (window.device) {\r\n                navigator.notification.alert(\"No class registrations found !\", null, \"Add/Drop Classes\", null);\r\n            } else {\r\n                apprise(\"No class registrations found !\", {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function(r) {\r\n\r\n                });\r\n            }  \r\n            return;          \r\n        }\r\n        //build param map for registration service\r\n        var endpoint = $rootScope.middlewareServerUrl + \"/services/student/banneraddDropClasses\";\r\n        var postdata = \"\"; \r\n        var termCode = \"\";\r\n        var crns = \"\";\r\n        var regCodes = \"\";\r\n        var action = \"D\";\r\n        var startDates = \"\";\r\n        var endDates = \"\";\r\n        var firstTime = true;\r\n        $scope.regResults = \"\";\r\n\r\n        angular.forEach($scope.currentSchedule,function(value,key) {\r\n            termCode = $scope.selectedvalue;\r\n            if (value.action) {\r\n                if (!firstTime) {\r\n                    crns = crns + \",\";\r\n                    regCodes = regCodes + \",\";\r\n                    startDates = startDates + \",\";\r\n                    endDates = endDates + \",\";\r\n                }\r\n                crns = crns + value.SFTREGS_CRN;\r\n                regCodes = regCodes + value.action;\r\n                if (value.SFTREGS_START_DATE) {           \r\n                    startDates = startDates + value.SFTREGS_START_DATE;                \r\n                }\r\n                if (value.SFTREGS_COMPLETION_DATE) {          \r\n                    endDates = endDates + value.SFTREGS_COMPLETION_DATE;                \r\n                }\r\n                firstTime = false;                \r\n            }\r\n\r\n        }); \r\n        if (firstTime) {\r\n             if (window.device) {\r\n                navigator.notification.alert(\"Please select an action for atleast one class !\", null, \"Add/Drop Classes\", null);\r\n            } else {\r\n                apprise(\"Please select an action for atleast one class !\", {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function(r) {\r\n\r\n                });\r\n            }  \r\n            return;            \r\n        }\r\n        postdata = \"termCode=\" + termCode + \"&crns=\" + crns + \"&regCodes=\" + regCodes + \"&action=\" + action + \"&startDates=\" + startDates + \"&endDates=\" + endDates;\r\n        $rootScope.postAPI(endpoint, postdata, function (data) {\r\n            console.log(data);\r\n            if (window.device) {\r\n                var dres = JSON.parse(data.p_out[0].summary);\r\n                data.p_out[0].summary = dres;\r\n            }\r\n            $scope.regResults2 = data.p_out[0];\r\n            if ($scope.regResults2.summary && $scope.regResults2.summary.results) {\r\n                angular.forEach($scope.regResults2.summary.results, function(value,key){\r\n                    if (value.status == 'S') {\r\n                        value.CSS_CLASS = \"alert-success\";\r\n                    } else if (value.status == 'E') {\r\n                        value.CSS_CLASS = \"alert-danger\";\r\n                    } else {\r\n                        value.CSS_CLASS = \"alert-warning\";\r\n                    }\r\n                });\r\n            }\r\n            $scope.showmessage2 = true;\r\n            $scope.inSearchWindow = true;\r\n            $scope.refreshCurrentSchedule(); \r\n\t\t\t$scope.showmessage2 = true;\r\n            //$scope.clearCart();\r\n        });               \r\n    }\r\n\r\n\r\n\r\n    var dv = '<div style=\"padding:0px;border-radius:0px;\"><div class=\"toolbar-top\"><div class=\"btn-group justified nav-tabs my-nav-tabs\">' +\r\n        '<a class=\"btn btn-default btn-top\" href=\"#Tab1\" toggle=\"on\" active-class=\"active\" active><i class=\"fa fa-search fa-2x\"><\/i><br/>Search<\/a>' +\r\n        '<a class=\"btn btn-default btn-top\" href=\"#Tab2\" toggle=\"on\" active-class=\"active\"><i class=\"fa fa-shopping-cart fa-2x\"><\/i><br/>Cart<span class=\"badge-top\">{{cart.length}}<\/span><\/a>' +\r\n        '<a class=\"btn btn-default btn-top\" href=\"#Tab3\" toggle=\"on\" active-class=\"active\"><i class=\"fa fa-calendar fa-2x\"><\/i><br/>Current Schedule<\/a>' +\r\n        '<\/div> <\/div><\/div>';\r\n    $(\".app-content\").prepend($compile(dv)($scope));\r\n    var spinnerDiv = '<div id=\"cssload-loader\"><div class=\"cssload-dot\"><\/div><div class=\"cssload-dot\"><\/div><div class=\"cssload-dot\"><\/div><div class=\"cssload-dot\">' +\r\n        '<\/div><div class=\"cssload-dot\"><\/div><div class=\"cssload-dot\"><\/div><div class=\"cssload-dot\"><\/div><div class=\"cssload-dot\"><\/div><\/div>';\r\n\r\n$rootScope.back = function() {\r\n        if ($routeParams.from) {\r\n            \r\n            if (device.platform == 'iOS') {\r\n                history.go(-1);\r\n            } else {\r\n                navigator.app.backHistory();\r\n            }\r\n        } else {\r\n            $location.path(\"/home\");\r\n        }\r\n    }\r\n}",
          "endpoint": "/"
        }
      ]
    },
    {
      "id": 11810,
      "name": "EContact",
      "displayname": "My Emergency Contacts",
      "logo": "RVCC/EContact.png",
      "logourl": "RVCC/EContact.png",
      "description": "Emergency Contact",
      "appFeatureType": "Services",
      "roles": "STUDENT,FACULTY,EMPLOYEE",
      "showInDock": false,
      "showInHome": false,
      "networkrequired": true,
      "analytics": false,
      "pages": 
      [
        {
          "pageid": "EContactDetails",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorEContactDetails(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    var index = $routeParams.index\r\n    $scope.btnlabel = \"Update Contact\";\r\n    if (index == -1) {\r\n        var priority = $rootScope.emergencycontacts.length + 1;\r\n        $scope.emergencycontact = {\r\n            PRIORITY: priority,\r\n            LAST_NAME: \"\",\r\n            FIRST_NAME: \"\",\r\n            MIDDLE_NAME: \"\",\r\n            HOUSE_NUMBER: \"\",\r\n            STREET_LINE1: \"\",\r\n            STREET_LINE2: \"\",\r\n            STREET_LINE3: \"\",\r\n            STREET_LINE4: \"\",\r\n            CITY: \"\",\r\n            STATE_CODE: \"\",\r\n            COUNTRY_CODE: \"\",\r\n            ZIP: \"\",\r\n            PHONE_AREA: \"\",\r\n            PHONE_NUMBER: \"\",\r\n            PHONE_EXTN: \"\",\r\n            PHONE_COUNTRY_CODE: \"\",\r\n            RELATIONSHIP_CODE: \"\"\r\n        };\r\n        $scope.btnlabel = \"Add Contact\";\r\n    } else {\r\n        var selectedContact = $rootScope.emergencycontacts[index];\r\n        $scope.emergencycontact = selectedContact;\r\n    }\r\n\r\n    $scope.showalert = function(message, title) {\r\n        if (window.device) {\r\n            navigator.notification.alert(message, null, title, null);\r\n        } else {\r\n            apprise(message, {\r\n                'verify': false,\r\n                'textYes': \"Ok\"\r\n            }, function(r) {});\r\n        }\r\n    }\r\n    $scope.validateRequired = function() {\r\n        if ($scope.emergencycontact.RELATIONSHIP_CODE == \"\" || $scope.emergencycontact.RELATIONSHIP_CODE == null) {\r\n            $scope.showalert(\"Please select Relationship\", \"Emergency Contact\");\r\n            return false;\r\n        }\r\n        if (!$scope.emergencycontact.FIRST_NAME || $scope.emergencycontact.FIRST_NAME.trim() == \"\") {\r\n            $scope.showalert(\"Please enter First name\", \"Emergency Contact\");\r\n            return false;\r\n        } else {\r\n            if(/^[a-zA-Z0-9- ]*$/.test($scope.emergencycontact.FIRST_NAME.trim()) == false) {\r\n                $scope.showalert('Special characters (\" , + - * / \\ @ # $ % ^ &) should not be used in name.');\r\n                return false;\r\n            }\r\n        }\r\n\r\n        if (($scope.emergencycontact.MIDDLE_NAME != \"\" && $scope.emergencycontact.MIDDLE_NAME != null) && \r\n              /^[a-zA-Z0-9- ]*$/.test($scope.emergencycontact.MIDDLE_NAME.trim()) == false) {\r\n            $scope.showalert('Special characters (\" , + - * / \\ @ # $ % ^ &) should not be used in name.');\r\n            return false;\r\n        }    \r\n    \r\n        if (!$scope.emergencycontact.LAST_NAME || $scope.emergencycontact.LAST_NAME.trim() == \"\") {\r\n            $scope.showalert(\"Please enter Last name\", \"Emergency Contact\");\r\n            return false;\r\n        } else {\r\n            if (/^[a-zA-Z0-9- ]*$/.test($scope.emergencycontact.LAST_NAME.trim()) == false) {\r\n                $scope.showalert('Special characters (\" , + - * / \\ @ # $ % ^ &) should not be used in name.', \"Emergency Contact\");\r\n                return false;\r\n            }            \r\n        }\r\n        \r\n        if (($scope.emergencycontact.STREET_LINE1 != \"\" && $scope.emergencycontact.STREET_LINE1  != null) && /^[a-zA-Z0-9- #]*$/.test($scope.emergencycontact.STREET_LINE1.trim()) == false) {\r\n            $scope.showalert('Special characters (\" , + - * / \\ @ # $ % ^ &) should not be used in address.', \"Emergency Contact\");\r\n            return false;\r\n        } \r\n        if (($scope.emergencycontact.STREET_LINE2 != \"\" && $scope.emergencycontact.STREET_LINE2 != null) && /^[a-zA-Z0-9- #]*$/.test($scope.emergencycontact.STREET_LINE2.trim()) == false) {\r\n            $scope.showalert('Special characters (\" , + - * / \\ @ # $ % ^ &) should not be used in address.', \"Emergency Contact\");\r\n            return false;\r\n        } \r\n        if (($scope.emergencycontact.STREET_LINE3 != \"\" && $scope.emergencycontact.STREET_LINE3 != null) && /^[a-zA-Z0-9- #]*$/.test($scope.emergencycontact.STREET_LINE3.trim()) == false) {\r\n            $scope.showalert('Special characters (\" , + - * / \\ @ # $ % ^ &) should not be used in address.', \"Emergency Contact\");\r\n            return false;\r\n        } \r\n        if (($scope.emergencycontact.STREET_LINE4 != \"\" && $scope.emergencycontact.STREET_LINE4 != null) && /^[a-zA-Z0-9- #]*$/.test($scope.emergencycontact.STREET_LINE4.trim()) == false) {\r\n            $scope.showalert('Special characters (\" , + - * / \\ @ # $ % ^ &) should not be used in address.', \"Emergency Contact\");\r\n            return false;\r\n        } \r\n        if (($scope.emergencycontact.ZIP != \"\" && $scope.emergencycontact.ZIP != null) && /^[a-zA-Z0-9- ]*$/.test($scope.emergencycontact.ZIP.trim()) == false) {\r\n            $scope.showalert('Special characters (\" , + - * / \\ @ # $ % ^ &) should not be used in zip code.', \"Emergency Contact\");\r\n            return false;\r\n        }\r\n        if ($scope.emergencycontact.STREET_LINE1 && !$scope.emergencycontact.CITY) {\r\n                $scope.showalert(\"City is required if Street Line1 is specified.\", \"Emergency Contact\");\r\n                return false;            \r\n        }\r\n        if ($scope.emergencycontact.COUNTRY_CODE != \"\" && $scope.emergencycontact.COUNTRY_CODE != null) {\r\n            var city = $scope.emergencycontact.CITY == null ? \"\" : $scope.emergencycontact.CITY;\r\n            if (city == \"\" || city == null || city.trim() == \"\") {\r\n                $scope.showalert(\"Please enter City\", \"Emergency Contact\");\r\n                return false;\r\n            }\r\n            if ($scope.emergencycontact.STREET_LINE1 == \"\" || $scope.emergencycontact.STREET_LINE1 == null) {\r\n                $scope.showalert(\"Please enter Address line 1\", \"Emergency Contact\");\r\n                return false;\r\n            }\r\n            if ($scope.emergencycontact.PHONE_NUMBER == \"\" || $scope.emergencycontact.PHONE_NUMBER == null) {\r\n                $scope.showalert(\"Please enter Phone number\", \"Emergency Contact\");\r\n                return false;\r\n            }            \r\n        } \r\n        if (($scope.emergencycontact.STREET_LINE1 || $scope.emergencycontact.STREET_LINE2 || \r\n             $scope.emergencycontact.STREET_LINE3 || $scope.emergencycontact.STREET_LINE4) && $scope.emergencycontact.CITY ) {\r\n            if (!$scope.emergencycontact.STATE_CODE && !$scope.emergencycontact.COUNTRY_CODE) {\r\n                $scope.showalert(\"If Address and City are provided, then State or Nation is required.\", \"Emergency Contact\");\r\n                return false;                \r\n            }\r\n        }\r\n        if ($scope.emergencycontact.STATE_CODE && ($scope.emergencycontact.ZIP == \"\" || $scope.emergencycontact.ZIP == null)) {\r\n                $scope.showalert(\"Zip code is required when State Code is provided. \", \"Emergency Contact\");\r\n                return false;            \r\n        }\r\n        return true\r\n    }\r\n    $scope.updateContact = function() {\r\n        if ($scope.validateRequired() == false) {\r\n            return;\r\n        }\r\n        var postdata = \"priority=\" + $scope.emergencycontact.PRIORITY + \"&\";\r\n        postdata += \"oldPriority=\" + $scope.emergencycontact.PRIORITY + \"&\";\r\n        postdata += \"lastName=\" + ($scope.emergencycontact.LAST_NAME == null ? \"\" : $scope.emergencycontact.LAST_NAME) + \"&\";\r\n        postdata += \"firstName=\" + ($scope.emergencycontact.FIRST_NAME == null ? \"\" : $scope.emergencycontact.FIRST_NAME) + \"&\";\r\n        postdata += \"middleName=\" + ($scope.emergencycontact.MIDDLE_NAME == null ? \"\" : $scope.emergencycontact.MIDDLE_NAME ) + \"&\";\r\n        postdata += \"surnamePrefix=\" + ($scope.emergencycontact.SURNAME_PREFIX == null ? \"\" : $scope.emergencycontact.SURNAME_PREFIX) + \"&\";\r\n        postdata += \"houseNumber=\" + ($scope.emergencycontact.HOUSE_NUMBER == null ? \"\" : $scope.emergencycontact.HOUSE_NUMBER) + \"&\";\r\n        postdata += \"streetLine1=\" + ($scope.emergencycontact.STREET_LINE1 == null ? \"\" : $scope.emergencycontact.STREET_LINE1) + \"&\";\r\n        postdata += \"streetLine2=\" + ($scope.emergencycontact.STREET_LINE2 == null ? \"\" : $scope.emergencycontact.STREET_LINE2) + \"&\";\r\n        postdata += \"streetLine3=\" + ($scope.emergencycontact.STREET_LINE3 == null ? \"\" : $scope.emergencycontact.STREET_LINE3) + \"&\";\r\n        postdata += \"streetLine4=\" + ($scope.emergencycontact.STREET_LINE4 == null ? \"\" : $scope.emergencycontact.STREET_LINE4) + \"&\";\r\n        postdata += \"city=\" + ($scope.emergencycontact.CITY == null ? \"\" : $scope.emergencycontact.CITY) + \"&\";\r\n        postdata += \"stateCode=\" + ($scope.emergencycontact.STATE_CODE == null ? \"\" : $scope.emergencycontact.STATE_CODE)  + \"&\";\r\n        postdata += \"countryCode=\" + ($scope.emergencycontact.COUNTRY_CODE == null ? \"\" : $scope.emergencycontact.COUNTRY_CODE) + \"&\";\r\n        postdata += \"zipCode=\" + ($scope.emergencycontact.ZIP == null ? \"\" : $scope.emergencycontact.ZIP) + \"&\";\r\n        postdata += \"phoneArea=\" + ($scope.emergencycontact.PHONE_AREA == null ? \"\" : $scope.emergencycontact.PHONE_AREA) + \"&\";\r\n        postdata += \"phoneNumber=\" + ($scope.emergencycontact.PHONE_NUMBER == null ? \"\" : $scope.emergencycontact.PHONE_NUMBER) + \"&\";\r\n        postdata += \"phoneExtn=\" + ($scope.emergencycontact.PHONE_EXTN == null ? \"\" : $scope.emergencycontact.PHONE_EXTN) + \"&\";\r\n        postdata += \"phoneCountryCode=\" + ($scope.emergencycontact.PHONE_COUNTRY_CODE == null ? \"\" : $scope.emergencycontact.PHONE_COUNTRY_CODE) + \"&\";\r\n        postdata += \"reltCode=\" + $scope.emergencycontact.RELATIONSHIP_CODE;\r\n\r\n        $rootScope.postAPI($rootScope.middlewareServerUrl + pagedef.endpoint, postdata, function(data) {\r\n            if (data) {\r\n                apprise(\"Contact saved successfully\", {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function(r) {\r\n                    $rootScope.$apply(function() {\r\n                        $location.path(\"/app/EContact/EContact\");\r\n                    });\r\n                });\r\n            }\r\n        });\r\n    }\r\n}",
          "endpoint": "/services/student/banneremergencycontactsave",
          "datatemplate": "<div class=\"well-sm\">\r\n    <div class=\"panel panel-primary\">\r\n        <div class=\" panel-heading\" style=\"background: none repeat scroll 0 0 #00162f;color: #FFFFFF;\">\r\n            <h3 class=\"panel-title \">\r\n              {{btnlabel}}\r\n    <\/h3>\r\n        <\/div>\r\n        <ul class=\"list-group\">\r\n            <li class=\"list-group-item \">\r\n                <div class=\"form-group\">\r\n                    <label for=\"name\" class=\"control-label\">Relationship <span class=\"required-indicator\" style=\"color:red;\">*<\/span>\r\n                    <\/label>\r\n                    <select ng-model=\"emergencycontact.RELATIONSHIP_CODE\" class=\"form-control\">\r\n                        <option value=\"\">Select<\/option>\r\n                        <option ng-selected=\"emergencycontact.RELATIONSHIP_CODE == rc.RELATIONSHIP_CODE\" value=\"{{rc.RELATIONSHIP_CODE}}\" ng-repeat=\"rc in relationshipcodes\">{{rc.RELATIONSHIP_DESC}}<\/option>\r\n                    <\/select>\r\n                <\/div>\r\n                <div class=\"form-group\">\r\n                    <label for=\"firstName\" class=\"control-label\">First Name <span class=\"required-indicator\" style=\"color:red;\">*<\/span>\r\n                    <\/label>\r\n                    <input type=\"text\" pattern=\"[a-zA-Z0-9]\" class=\"form-control input-sm\" placeholder=\"First Name\" name=\"firstName\" id=\"firstName\" ng-model=\"emergencycontact.FIRST_NAME\"/>\r\n                <\/div>\r\n                <div class=\"form-group\">\r\n                    <label for=\"middleName\" class=\"control-label\">Middle Name<\/label>\r\n                    <input type=\"text\" pattern=\"[a-zA-Z0-9]\" class=\"form-control input-sm\" placeholder=\"Middle Name\" name=\"middleName\" id=\"middleName\" ng-model=\"emergencycontact.MIDDLE_NAME\"/>\r\n                <\/div>\r\n                <div class=\"form-group\">\r\n                    <label for=\"lastName\" class=\"control-label\">Last Name <span class=\"required-indicator\" style=\"color:red;\">*<\/span>\r\n                    <\/label>\r\n                    <input type=\"text\" pattern=\"[a-zA-Z0-9]\" class=\"form-control input-sm\" placeholder=\"Last Name\" name=\"lastName\" id=\"lastName\" ng-model=\"emergencycontact.LAST_NAME\"/>\r\n                <\/div>\r\n\r\n            <\/li>\r\n            <a class=\"list-group-item panel-subgroup-link active \">Address<\/a>\r\n            <li class=\"list-group-item\" style=\"box-shadow: 0 0 20px #808080;\">\r\n                <div class=\"form-group\">\r\n                    <input type=\"text\" class=\"form-control input-sm\" placeholder=\"Street line 1\" name=\"streetLine1\" id=\"streetLine1\" ng-model=\"emergencycontact.STREET_LINE1\" />\r\n                    <input type=\"text\" class=\"form-control input-sm\" placeholder=\"Street line 2\" name=\"streetLine2\" id=\"streetLine1\" ng-model=\"emergencycontact.STREET_LINE2\" />\r\n                    <input type=\"text\" class=\"form-control input-sm\" placeholder=\"Street line 3\" name=\"streetLine3\" id=\"streetLine1\" ng-model=\"emergencycontact.STREET_LINE3\" />\r\n                    <input type=\"text\" class=\"form-control input-sm\" placeholder=\"Street line 4\" name=\"streetLine4\" id=\"streetLine1\" ng-model=\"emergencycontact.STREET_LINE4\" />\r\n                <\/div>\r\n                <div class=\"form-group\">\r\n                    <label for=\"city\" class=\"control-label\">City<\/label>\r\n                    <div class=\"\">\r\n                        <input type=\"text\" class=\"form-control input-sm\" placeholder=\"City\" name=\"city\" id=\"city\" ng-model=\"emergencycontact.CITY\">\r\n                    <\/div>\r\n                <\/div>\r\n                <div class=\"form-group\">\r\n                    <label for=\"state\" class=\"control-label\">State<\/label>\r\n                    <div class=\"\">\r\n                        <select ng-model=\"emergencycontact.STATE_CODE\" class=\"form-control\">\r\n                            <option value=\"\">Select<\/option>\r\n                            <option ng-selected=\"emergencycontact.STATE_CODE == st.STATE_CODE\" value=\"{{st.STATE_CODE}}\" ng-repeat=\"st in statecodes\">{{st.STATE_DESC}}<\/option>\r\n                        <\/select>\r\n                    <\/div>\r\n                <\/div>\r\n                <div class=\"form-group\">\r\n                    <label for=\"zip\" class=\"control-label\">Zip<\/label>\r\n                    <input type=\"text\" class=\"form-control input-sm\" placeholder=\"Zip\" name=\"zip\" id=\"zip\" ng-model=\"emergencycontact.ZIP\">\r\n                <\/div>\r\n                <div class=\"form-group\">\r\n                    <label for=\"country\" class=\"control-label\">Country<\/label>\r\n                    <div class=\"\">\r\n                        <select ng-model=\"emergencycontact.COUNTRY_CODE\" class=\"form-control\">\r\n                            <option value=\"\">Select<\/option>\r\n                            <option ng-selected=\"emergencycontact.COUNTRY_CODE == c.COUNTRY_CODE\" value=\"{{c.COUNTRY_CODE}}\" ng-repeat=\"c in countrycodes\">{{c.COUNTRY_DESC}}<\/option>\r\n                        <\/select>\r\n                    <\/div>\r\n                <\/div>\r\n            <\/li>\r\n            <a class=\"list-group-item panel-subgroup-link active \">Telephone<\/a>\r\n            <li class=\"list-group-item\" style=\"box-shadow: 0 0 20px #808080;\">\r\n                <div class=\"form-group row\">\r\n<!--                     <div class=\"col-xs-2 col-md-2\" style=\"padding: 0px 0px 0px 10px; margin: 0px;\">\r\n                        <input type=\"tel\" class=\"form-control input-sm\" maxlength=\"3\" id=\"country_phone\" placeholder=\"Country\" ng-model=\"emergencycontact.PHONE_COUNTRY_CODE\">\r\n                    <\/div> -->\r\n                    <div class=\"col-xs-3 col-md-3\" style=\"margin: 0px; padding: 0px 0px 0px 2px;\">\r\n                        <input type=\"tel\" class=\"form-control input-sm\" maxlength=\"5\" id=\"area_phone\" placeholder=\"Area\" ng-model=\"emergencycontact.PHONE_AREA\">\r\n                    <\/div>\r\n                    <div class=\"col-xs-6 col-md-6\" style=\"margin: 0px; padding: 0px 0px 0px 2px;\">\r\n                        <input type=\"tel\" class=\"form-control input-sm\" maxlength=\"10\" id=\"phone\" placeholder=\"Phone\" ng-model=\"emergencycontact.PHONE_NUMBER\">\r\n                    <\/div>\r\n                    <div class=\"col-xs-3 col-md-3\" style=\"margin: 0px; padding: 0px 0px 0px 2px;\">\r\n                        <input type=\"tel\" class=\"form-control input-sm\" maxlength=\"4\" id=\"extension\" placeholder=\"Extn\" ng-model=\"emergencycontact.PHONE_EXTN\">\r\n                    <\/div>\r\n                <\/div>\r\n\r\n            <\/li>\r\n        <\/ul>\r\n    <\/div>\r\n    <div class=\"container1 well \">\r\n        <button class=\"btn btn-block btn-primary\" ng-click=\"updateContact()\">{{btnlabel}}<\/button>\r\n    <\/div>\r\n<\/div>"
        },
        {
          "pageid": "EContact",
          "pageTemplate": "<div><\/div>",
          "datatemplate": "<div class=\"well-sm\">\r\n  <div class=\"panel panel-primary\" ng-repeat=\"ec in emergencycontacts\" style=\"background:transparent;border:none;\">\r\n        <div class=\" panel-heading\" style=\"background: none repeat scroll 0 0 #00162f;color: #FFFFFF;\">\r\n            <h3 class=\"panel-title \">\r\n                                  {{ec.FIRST_NAME}} {{ec.LAST_NAME}}\r\n<a class=\"pull-right fa fa-times\" ng-click=\"deleteContact(ec.PRIORITY)\">&nbsp;<\/a>\r\n<a href=\"#app/EContact/EContactDetails?index={{$index}}\" class=\"pull-right fa fa-pencil\">&nbsp;<\/a>\r\n\r\n<\/h3>\r\n        <\/div>\r\n        <ul class=\"list-group\">\r\n            <li class=\"list-group-item \">\r\n                Relationship : <span class=\"pull-right\" ng-bind=\"getRelation(ec.RELATIONSHIP_CODE)\"><\/span>\r\n            <\/li>\r\n                <a class=\"list-group-item panel-subgroup-link active\"  >Address<\/a>\r\n            <li class=\"list-group-item\" >\r\n                <div>{{ec.HOUSE_NUMBER}}<\/div>\r\n                <div>{{ec.STREET_LINE1}}<\/div>\r\n                <div>{{ec.STREET_LINE2}}<\/div>\r\n                <div>{{ec.STREET_LINE3}}<\/div>\r\n                <div>{{ec.STREET_LINE4}}<\/div>\r\n                <div>{{ec.CITY}}<\/div>\r\n                <div ng-bind=\"getState(ec.STATE_CODE)\"><\/div>\r\n                <div>{{ec.ZIP}}<\/div>\r\n                <div ng-bind=\"getCountry(ec.COUNTRY_CODE)\"><\/div>\r\n                <div><i class=\"fa fa-phone\" /> {{ec.PHONE_AREA}} {{ec.PHONE_NUMBER}} {{ec.PHONE_EXTN}}\r\n                    <i class=\"pull-right fa fa-chevron-right\" />\r\n                <\/div>\r\n            <\/li>\r\n        <\/ul>\r\n    <\/div>\r\n    <div class=\"container well\">\r\n        <a class=\"btn btn-block btn-primary\" href=\"#app/EContact/EContactDetails?index=-1\">Add new Contact<\/a>\r\n    <\/div>\r\n<\/div>\r\n",
          "endpoint": "/services/student/banneremergencycontactcodes",
          "pageprocessor": "function pageprocessorEContact(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    $scope.emergencycontactcodes = \"\";\r\n    $scope.emergencycontacts = \"\";\r\n\r\n\r\n    $rootScope.getAPI($rootScope.middlewareServerUrl + pagedef.endpoint, function (data) {\r\n        $scope.emergencycontactcodes = data;\r\n        $rootScope.countrycodes = data.countrycodes;\r\n        $rootScope.statecodes = data.statecodes;\r\n        $rootScope.relationshipcodes = data.relationshipcodes;\r\n        $scope.getCountry = function (code) {\r\n            var country = \"\";\r\n            angular.forEach($scope.emergencycontactcodes.countrycodes, function (value, key) {\r\n                if (value.COUNTRY_CODE == code) {\r\n                    country = value.COUNTRY_DESC;\r\n                }\r\n            });\r\n            return country;\r\n        }\r\n        $scope.getState = function (code) {\r\n            var state = \"\";\r\n            angular.forEach($scope.emergencycontactcodes.statecodes, function (value, key) {\r\n                if (value.STATE_CODE == code) {\r\n                    state = value.STATE_DESC;\r\n                }\r\n            });\r\n            return state;\r\n        }\r\n        $scope.getRelation = function (code) {\r\n            var rel = \"\";\r\n            angular.forEach($scope.emergencycontactcodes.relationshipcodes, function (value, key) {\r\n                if (value.RELATIONSHIP_CODE == code) {\r\n                    rel = value.RELATIONSHIP_DESC;\r\n                }\r\n            });\r\n            return rel;\r\n        }\r\n\r\n    });\r\n\r\n    $rootScope.getAPI($rootScope.middlewareServerUrl + \"/services/student/banneremergencycontactfetch\", function (data) {\r\n        $scope.emergencycontacts = data.fetch;\r\n        $rootScope.emergencycontacts = data.fetch;\r\n    });\r\n\r\n    $scope.deleteCt = function (priority) {\r\n\r\n        $rootScope.postAPI($rootScope.middlewareServerUrl + \"/services/student/banneremergencycontactdelete\", \"priority=\" + priority,\r\n            function (data) {\r\n                if (data) {\r\n                    apprise(\"Contact deleted successfully\", {\r\n                        'verify': false,\r\n                        'textYes': \"Ok\"\r\n                    }, function (r) {\r\n                        $rootScope.$apply(function () {\r\n                            $rootScope.getAPI($rootScope.middlewareServerUrl + \"/services/student/banneremergencycontactfetch\", function (data) {\r\n                                $scope.emergencycontacts = data.fetch;\r\n                                $rootScope.emergencycontacts = data.fetch;\r\n                            });\r\n                        });\r\n                    });\r\n                }\r\n            });\r\n    }\r\n\r\n    $scope.deleteContact = function (priority) {\r\n        var onConfirm = function (buttonIndex) {\r\n            if (buttonIndex == 1) {\r\n                $scope.deleteCt(priority);\r\n            }\r\n        };\r\n        if (window.device) {\r\n            navigator.notification.confirm(\r\n                'Are you sure you want to delete this contact?', // message\r\n                onConfirm, // callback to invoke with index of button pressed\r\n                'Emergency Contact', // title\r\n                ['Yes', 'No'] // buttonLabels\r\n            );\r\n        } else {\r\n            apprise(\"Are you sure you want to delete this contact?\", {\r\n                'verify': true,\r\n                'textYes': \"Yes\",\r\n                'textNo': \"No\"\r\n            }, function (r) {\r\n                if (r) {\r\n                    $scope.deleteCt(priority);\r\n                }\r\n            });\r\n        }\r\n\r\n    }\r\n$rootScope.back = function() {\r\n        if ($routeParams.from) {\r\n            \r\n            if (device.platform == 'iOS') {\r\n                history.go(-1);\r\n            } else {\r\n                navigator.app.backHistory();\r\n            }\r\n        } else {\r\n            $location.path(\"/home\");\r\n        }\r\n    }\r\n\r\n}"
        }
      ]
    },
    {
      "id": 11807,
      "name": "AddUpdateB1",
      "displayname": "Address Update",
      "logo": "RVCC/AddUpdateB1.png",
      "logourl": "RVCC/AddUpdateB1.png",
      "description": "Address Update",
      "appFeatureType": "Services",
      "roles": "STUDENT,FACULTY,EMPLOYEE",
      "showInDock": false,
      "showInHome": false,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "AddUpdateB1",
          "pageTemplate": "<div><\/div>",
          "datatemplate": "<div class=\"1container well-sm\">\r\n    <div class=\"panel panel-primary\" ng-repeat=\"address in addresses.addresses\">\r\n        <div class=\" panel-heading\" style=\"background: none repeat scroll 0 0 #00162f;color: #FFFFFF;\">\r\n            <h3 class=\"panel-title \">\r\n                                 <span ng-bind=\"getAddressType(address.ADDRESS_TYPE_CODE)\"><\/span> Address\r\n <a class=\"pull-right fa fa-times\" ng-click=\"deleteAddress(address.ADDRESS_TYPE_CODE, address.ADDRESS_SEQ )\">&nbsp;<\/a>\r\n<a href=\"#app/AddUpdateB1/AddUpdateB1Details?index={{$index}}\" class=\"pull-right fa fa-pencil\">&nbsp;<\/a> \r\n\r\n<\/h3>\r\n        <\/div>\r\n        <ul class=\"list-group\">\r\n            <li class=\"list-group-item\" style=\"box-shadow: 0 0 20px #808080;\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-xs-5 col-md-5\">\r\n                        <strong>Address:<\/strong>\r\n                    <\/div>\r\n                    <div class=\"col-xs-7 col-md-7\">\r\n                        <div>{{address.HOUSE_NUMBER}}<\/div>\r\n                        <div>{{address.STREET_LINE1}}<\/div>\r\n                        <div>{{address.STREET_LINE2}}<\/div>\r\n                        <div>{{address.STREET_LINE3}}<\/div>\r\n                        <div>{{address.STREET_LINE4}}<\/div>\r\n                        <div>{{address.CITY}}<\/div>\r\n                        <div ng-bind=\"getState(address.STATE_CODE)\"><\/div>\r\n                        <div>{{address.ZIP}}<\/div>\r\n                        <div ng-bind=\"getNation(address.NATION_CODE)\"><\/div>\r\n                    <\/div>\r\n                <\/div>\r\n                <div class=\"row\">\r\n                    <div class=\"col-xs-5 col-md-5\">\r\n                        <strong>Valid Date:<\/strong>\r\n                    <\/div>\r\n                    <div class=\"col-xs-7 col-md-7\">\r\n                        <strong>{{address.FROM_DATE || '(No Valid date)'}}<\/strong>\r\n                    <\/div>\r\n                <\/div>\r\n                <div class=\"row\">\r\n                    <div class=\"col-xs-5 col-md-5\">\r\n                        <strong>Until Date:<\/strong>\r\n                    <\/div>\r\n                    <div class=\"col-xs-7 col-md-7\">\r\n                        <strong>{{address.TO_DATE || '(No until date)'}}<\/strong>\r\n                    <\/div>\r\n                <\/div>\r\n            <\/li>\r\n            <a class=\"list-group-item panel-subgroup-link active\">Contact Numbers<\/a>\r\n            <li class=\"list-group-item\" style=\"box-shadow: 0 0 20px #808080;\" ng-show=\"address.primaryphone\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-xs-5 col-md-5\">\r\n                        <strong>{{getTelephoneType(address.primaryphone.PHONE_CODE)}}<\/strong>\r\n                    <\/div>\r\n                    <div class=\"col-xs-7 col-md-7\">\r\n                        <strong>{{address.primaryphone.COUNTRY_CODE}} ({{address.primaryphone.AREA_CODE}}) {{address.primaryphone.PHONE_NUMBER}} {{address.primaryphone.EXTENSION}}<\/strong>\r\n                    <\/div>\r\n                <\/div>\r\n            <\/li>\r\n            <div ng-repeat=\"addlcontact in address.additionalphones\">\r\n                <li class=\"list-group-item\" style=\"box-shadow: 0 0 20px #808080;\" ng-show=\"addlcontactPHONE_CODE || addlcontact.COUNTRY_CODE || addlcontact.AREA_CODE || addlcontact.PHONE_NUMBER || addlcontact.EXTENSION \">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-xs-5 col-md-5\">\r\n                            <strong>{{getTelephoneType(addlcontact.PHONE_CODE)}}<\/strong>\r\n                        <\/div>\r\n                        <div class=\"col-xs-7 col-md-7\">\r\n                            <strong>{{addlcontact.COUNTRY_CODE}} ({{addlcontact.AREA_CODE}}) {{addlcontact.PHONE_NUMBER}} {{addlcontact.EXTENSION}}<\/strong>\r\n                            <a href=\"\" ng-class=\"addlcontact.toggleclass\" class=\"pull-right fa\" ng-click=\"toggleContact(addlcontact)\"><\/a>\r\n                                                         <div ng-show=\"addlcontact.toggle\">\r\n                              <a href=\"#app/AddUpdateB1/AddUpdateB1Details?index={{$parent.$index}}&cindex={{$index}}\" class=\"btn btn-xs btn-primary\">Edit<\/a>\r\n                                <button class=\"btn btn-xs btn-danger\" ng-click=\"deleteAddlContact(addlcontact, address)\">Delete<\/button>\r\n                            <\/div> \r\n                        <\/div>\r\n                    <\/div>\r\n                <\/li>\r\n            <\/div>\r\n\r\n                         <li class=\"list-group-item\">\r\n                <a href=\"#app/AddUpdateB1/AddUpdateB1Details?index={{$index}}&cindex=-1\" class=\"btn btn-sm btn-block btn-danger\">Add New Number<\/a>\r\n            <\/li> \r\n\r\n        <\/ul>\r\n    <\/div>\r\n        <div class=\"well \" ng-show=\"showButton\">\r\n        <a class=\"btn btn-block btn-primary\" href=\"#app/AddUpdateB1/AddUpdateB1Details?index=-1\">Add New Address<\/a>\r\n    <\/div>\r\n<\/div>",
          "endpoint": "/services/student/banneraddresscodes",
          "pageprocessor": "function pageprocessorAddUpdateB1(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    $scope.showButton = false;\r\n    $.blockUI();\r\n\r\n    $scope.fetchaddr = function() {\r\n        $rootScope.getAPI($rootScope.middlewareServerUrl + \"/services/student/banneraddressfetch\", function(data) {\r\n\r\n            var addresses = {\r\n                addresses: []\r\n            };\r\n            angular.forEach(data.addresses, function(addr, key) {\r\n                var address = addr;\r\n                angular.forEach(data.primaryphones, function(phone, key) {\r\n                    if (phone.ADDRESS_SEQ == address.ADDRESS_SEQ && phone.ADDRESS_TYPE_CODE == address.ADDRESS_TYPE_CODE) {\r\n                        address.primaryphone = phone;\r\n                    }\r\n                });\r\n\r\n                address.additionalphones = [];\r\n                angular.forEach(data.additionalphones, function(addphone, key) {\r\n                    if (addphone.ADDRESS_SEQ == address.ADDRESS_SEQ && addphone.ADDRESS_TYPE_CODE == address.ADDRESS_TYPE_CODE) {\r\n                        addphone.toggle = false;\r\n                        addphone.toggleclass = \"fa-chevron-right\";\r\n                        addphone.delindicator = \"\";\r\n                        address.additionalphones.push(addphone);\r\n                    }\r\n                });\r\n                addresses.addresses.push(address);\r\n\r\n            });\r\n\r\n            $scope.addressdata = data;\r\n            $scope.addresses = addresses;\r\n            $rootScope.addresses = addresses;\r\n            //call the second service\r\n\r\n\r\n        });\r\n        $scope.showButton = true;\r\n        $.unblockUI();\r\n    }\r\n\r\n    $rootScope.getAPI($rootScope.middlewareServerUrl + pagedef.endpoint, function(data) {\r\n        $scope.addresscodes = data;\r\n        $rootScope.telephonetypecodes = data.telephonetypecodes;\r\n        $rootScope.nationcodes = data.nationcodes;\r\n        $rootScope.statecodes = data.statecodes;\r\n        $rootScope.addresstypecodes = data.addresstypecodes\r\n        //$rootScope.countycodes = data.countycodes;\r\n        $scope.fetchaddr();\r\n        $scope.getTelephoneType = function(code) {\r\n            var teletype = \"\";\r\n            angular.forEach($scope.addresscodes.telephonetypecodes, function(value, key) {\r\n                if (value.TELE_CODE == code) {\r\n                    teletype = value.TELE_DESC;\r\n                }\r\n            });\r\n            return teletype;\r\n        }\r\n\r\n        $scope.getNation = function(code) {\r\n            var nation = \"\";\r\n            angular.forEach($scope.addresscodes.nationcodes, function(value, key) {\r\n                if (value.NATION_CODE == code) {\r\n                    nation = value.NATION_DESC;\r\n                }\r\n            });\r\n            return nation;\r\n        }\r\n        $scope.getState = function(code) {\r\n            var state = \"\";\r\n            angular.forEach($scope.addresscodes.statecodes, function(value, key) {\r\n                if (value.STATE_CODE == code) {\r\n                    state = value.STATE_DESC;\r\n                }\r\n            });\r\n            return state;\r\n        }\r\n        $scope.getAddressType = function(code) {\r\n            var rel = \"\";\r\n            angular.forEach($scope.addresscodes.addresstypecodes, function(value, key) {\r\n                if (value.ADDRESS_CODE == code) {\r\n                    rel = value.ADDRESS_DESC;\r\n                }\r\n            });\r\n            return rel;\r\n        }\r\n\r\n        $scope.getContactsForAddress = function(addrseq, addrtypecode) {\r\n            var data = [];\r\n            angular.forEach($scope.addressdata.primaryphones, function(value, key) {\r\n                if (value.ADDRESS_SEQ == addrseq && value.ADDRESS_TYPE_CODE == addrtypecode) {\r\n                    value.type = 1;\r\n                    data.push(value);\r\n                }\r\n            });\r\n            angular.forEach($scope.addressdata.additionalphones, function(value, key) {\r\n                if (value.ADDRESS_SEQ == addrseq && value.ADDRESS_TYPE_CODE == addrtypecode) {\r\n                    value.type = 2;\r\n                    value.toggleclass = \"fa-chevron-right\";\r\n                    $scope[value.ADDRESS_TYPE_CODE + value.ADDRESS_SEQ] = \"fa-chevron-right\";\r\n                    data.push(value);\r\n                }\r\n            });\r\n            return data;\r\n        }\r\n\r\n        $scope.toggleContact = function(contact) {\r\n            contact.toggle = !contact.toggle;\r\n            if (contact.toggle) {\r\n                contact.toggleclass = \"fa-chevron-down\";\r\n            } else {\r\n                contact.toggleclass = \"fa-chevron-right\";\r\n            }\r\n        }\r\n    });    \r\n    \r\n\r\n    $scope.deleteAddr = function(atypcode, seqno) {\r\n        var postdata = \"atypcode=\" + atypcode + \"&seqno=\" + seqno;\r\n        $rootScope.postAPI($rootScope.middlewareServerUrl + \"/services/student/banneraddressdelete\", postdata,\r\n            function(data) {\r\n                if (data) {\r\n                    apprise(\"Address deleted successfully\", {\r\n                        'verify': false,\r\n                        'textYes': \"Ok\"\r\n                    }, function(r) {\r\n                        $rootScope.$apply(function() {\r\n                            $scope.fetchaddr();\r\n                        });\r\n                    });\r\n                }\r\n            });\r\n    }\r\n\r\n\r\n    $scope.deleteAddress = function(atypcode, seqno) {\r\n        var onConfirm = function(buttonIndex) {\r\n            if (buttonIndex == 1) {\r\n                $scope.deleteAddr(atypcode, seqno);\r\n            }\r\n        };\r\n        if (window.device) {\r\n            navigator.notification.confirm(\r\n                'Are you sure you want to delete this Address?', // message\r\n                onConfirm, // callback to invoke with index of button pressed\r\n                'Address Delete', // title\r\n                ['Yes', 'No'] // buttonLabels\r\n            );\r\n        } else {\r\n            apprise(\"Are you sure you want to delete this Address?\", {\r\n                'verify': true,\r\n                'textYes': \"Yes\",\r\n                'textNo': \"No\"\r\n            }, function(r) {\r\n                if (r) {\r\n                    $scope.deleteAddr(atypcode, seqno);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    $scope.deleteAddlCt = function(contact, address) {\r\n        var postdata = \"seqno=\" + address.ADDRESS_SEQ + \"&\";\r\n        postdata += \"atypcode=\" + address.ADDRESS_TYPE_CODE + \"&\";\r\n        postdata += \"fromdate=\" + (address.FROM_DATE == null ? \"\" :address.FROM_DATE) + \"&\";\r\n        postdata += \"todate=\" + (address.TO_DATE == null ? \"\" : address.TO_DATE) + \"&\";\r\n        postdata += \"housenumber=\" + (address.HOUSE_NUMBER == null ? \"\" : address.HOUSE_NUMBER) + \"&\";\r\n        postdata += \"streetline1=\" + (address.STREET_LINE1 == null ? \"\" : address.STREET_LINE1) + \"&\";\r\n        postdata += \"streetline2=\" + (address.STREET_LINE2 == null ? \"\" : address.STREET_LINE2) + \"&\";\r\n        postdata += \"streetline3=\" + (address.STREET_LINE3 == null ? \"\" : address.STREET_LINE3) + \"&\";\r\n        postdata += \"streetline4=\" + (address.STREET_LINE4 == null ? \"\" : address.STREET_LINE4) + \"&\";\r\n        postdata += \"city=\" + (address.CITY == null ? \"\" : address.CITY) + \"&\";\r\n        postdata += \"statecode=\" + (address.STATE_CODE == null ? \"\" : address.STATE_CODE) + \"&\";\r\n        postdata += \"countycode=\" + (address.COUNTY_CODE == null ? \"\" : address.COUNTY_CODE) + \"&\";\r\n        postdata += \"nationcode=\" + (address.NATION_CODE == null ? \"\" : address.NATION_CODE) + \"&\";\r\n        postdata += \"zip=\" + (address.ZIP == null ? \"\" : address.ZIP) + \"&\";\r\n        if (address.primaryphone) {\r\n            postdata += \"phoneareacode=\" + (address.primaryphone.AREA_CODE == null ? \"\" : address.primaryphone.AREA_CODE) + \"&\";\r\n            postdata += \"phonenumber=\" + (address.primaryphone.PHONE_NUMBER == null ? \"\" : address.primaryphone.PHONE_NUMBER) + \"&\";\r\n            postdata += \"phoneextn=\" + (address.primaryphone.EXTENSION == null ? \"\" : address.primaryphone.EXTENSION) + \"&\";\r\n            postdata += \"phonecountrycode=\" + (address.primaryphone.COUNTRY_CODE == null ? \"\" : address.primaryphone.COUNTRY_CODE) + \"&\";\r\n            postdata += \"intlaccess=\" + (address.primaryphone.INTERNATIONAL_ACCESS == null ? \"\" : address.primaryphone.INTERNATIONAL_ACCESS) + \"&\";\r\n            postdata += \"unlistedind=\" + (address.primaryphone.UNLISTED_IND == null ? \"\" : address.primaryphone.UNLISTED_IND) + \"&\";            \r\n        } else {\r\n            postdata += \"phoneareacode=\" + \"\" + \"&\";\r\n            postdata += \"phonenumber=\" + \"\" + \"&\";\r\n            postdata += \"phoneextn=\" + \"\" + \"&\";\r\n            postdata += \"phonecountrycode=\" + \"\" + \"&\";\r\n            postdata += \"intlaccess=\" + \"\" + \"&\";\r\n            postdata += \"unlistedind=\" + \"\" + \"&\";            \r\n        }\r\n\r\n        var addlseqnos = \"\";\r\n        var addltelecodes = \"\";\r\n        var addlcountrycodes = \"\";\r\n        var addlareacodes = \"\";\r\n        var addlphonenumbers = \"\";\r\n        var addlphoneextns = \"\";\r\n        var addlintlaccess = \"\";\r\n        var addlunlistedinds = \"\";\r\n        var addldelinds = \"\";\r\n        angular.forEach(address.additionalphones, function(value, key) {\r\n            if (key == 0) {\r\n                addlseqnos += value.PHONE_SEQ;\r\n                addltelecodes += value.PHONE_CODE;\r\n                addlcountrycodes += value.COUNTRY_CODE;\r\n                addlareacodes += value.AREA_CODE;\r\n                addlphonenumbers += value.PHONE_NUMBER;\r\n                addlphoneextns += value.EXTENSION;\r\n                addlintlaccess += value.INTERNATIONAL_ACCESS;\r\n                addlunlistedinds += value.UNLISTED_IND;\r\n                if (value == contact) {\r\n                    addldelinds += \"Y\";\r\n                }\r\n            } else {\r\n                addlseqnos += \",\" + value.PHONE_SEQ;\r\n                addltelecodes += \",\" + value.PHONE_CODE;\r\n                addlcountrycodes += \",\" + value.COUNTRY_CODE;\r\n                addlareacodes += \",\" + value.AREA_CODE;\r\n                addlphonenumbers += \",\" + value.PHONE_NUMBER;\r\n                addlphoneextns += \",\" + value.EXTENSION;\r\n                addlintlaccess += \",\" + value.INTERNATIONAL_ACCESS;\r\n                addlunlistedinds += \",\" + value.UNLISTED_IND;\r\n                if (value == contact) {\r\n                    addldelinds += \",Y\";\r\n                } else {\r\n                    addldelinds += \",\";\r\n                }\r\n            }\r\n        });\r\n        postdata += \"addlseqnos=\" + addlseqnos + \"&\";\r\n        postdata += \"addltelecodes=\" + addltelecodes + \"&\";\r\n        postdata += \"addlcountrycodes=\" + addlcountrycodes + \"&\";\r\n        postdata += \"addlareacodes=\" + addlareacodes + \"&\";\r\n        postdata += \"addlphonenumbers=\" + addlphonenumbers + \"&\";\r\n        postdata += \"addlphoneextns=\" + addlphoneextns + \"&\";\r\n        postdata += \"addlintlaccess=\" + addlintlaccess + \"&\";\r\n        postdata += \"addlunlistedinds=\" + addlunlistedinds + \"&\";\r\n        postdata += \"addldelinds=\" + addldelinds;\r\n\r\n        $rootScope.postAPI($rootScope.middlewareServerUrl + \"/services/student/banneraddressupdate\", postdata, function(data) {\r\n            if (data) {\r\n                apprise(\"Contact deleted successfully\", {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function(r) {\r\n                    $rootScope.$apply(function() {\r\n                        $scope.fetchaddr();\r\n                    });\r\n\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    $scope.deleteAddlContact = function(contact, address) {\r\n        var onConfirm = function(buttonIndex) {\r\n            if (buttonIndex == 1) {\r\n                $scope.deleteAddlCt(contact, address);\r\n            }\r\n        };\r\n        if (window.device) {\r\n            navigator.notification.confirm(\r\n                'Are you sure you want to delete this Contact?', // message\r\n                onConfirm, // callback to invoke with index of button pressed\r\n                'Contact Delete', // title\r\n                ['Yes', 'No'] // buttonLabels\r\n            );\r\n        } else {\r\n            apprise(\"Are you sure you want to delete this Contact?\", {\r\n                'verify': true,\r\n                'textYes': \"Yes\",\r\n                'textNo': \"No\"\r\n            }, function(r) {\r\n                if (r) {\r\n                    $scope.deleteAddlCt(contact, address);\r\n                }\r\n            });\r\n        }\r\n    }\r\n$rootScope.back = function() {\r\n        if ($routeParams.from) {\r\n            \r\n            if (device.platform == 'iOS') {\r\n                history.go(-1);\r\n            } else {\r\n                navigator.app.backHistory();\r\n            }\r\n        } else {\r\n            $location.path(\"/home\");\r\n        }\r\n    }\r\n\r\n\r\n}"
        },
        {
          "pageid": "AddUpdateB1Details",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorAddUpdateB1Details(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    var curDate = new Date();\r\n    var months = [\"JAN\", \"FEB\", \"MAR\", \"APR\", \"MAY\", \"JUN\", \"JUL\", \"AUG\", \"SEP\", \"OCT\", \"NOV\", \"DEC\"];\r\n    var formattedCurDate = (curDate.getDate() < 10 ? '0' + curDate.getDate() : '' + curDate.getDate()) + \"-\" + months[curDate.getMonth()] + \"-\" + curDate.getFullYear();\r\n\r\n    /*$(\".datepicker\").pickadate({\r\n        format: \"dd-mmm-yyyy\",\r\n        formatSubmit: \"yyyy/mm/dd\",\r\n        editable: true,\r\n        onSet: function (context) {\r\n            $scope.address.FROM_DATE = $(\"#fromDate\").val();\r\n            $scope.address.TO_DATE = $(\"#toDate\").val();\r\n        }\r\n    });*/\r\n    $scope.dropdownselect = function() {\r\n        var selectedAddrType = $scope.address.ADDRESS_TYPE_CODE;\r\n        if (selectedAddrType == \"\" || $scope.add == false) {\r\n            return;\r\n        }\r\n        var found = false;\r\n        $.each($rootScope.addresses.addresses, function(i, val) {\r\n            if (val.ADDRESS_TYPE_CODE == selectedAddrType) {\r\n                found = true;\r\n            }\r\n        });\r\n\r\n        if (found) {\r\n            $scope.address.ADDRESS_TYPE_CODE = \"\";\r\n            $scope.alert(\"An address exists for this type. Please select a different address type or go back and edit the existing one.\", \"Address Exists\");\r\n        }\r\n    }\r\n    $scope.addAdditional = function() {\r\n        $scope.address.additionalphones.push({\r\n            \"PHONE_SEQ\": \"\",\r\n            \"PHONE_CODE\": \"\",\r\n            \"COUNTRY_CODE\": \"\",\r\n            \"AREA_CODE\": \"\",\r\n            \"PHONE_NUMBER\": \"\",\r\n            \"EXTENSION\": \"\",\r\n            \"INTERNATIONAL_ACCESS\": \"\",\r\n            \"UNLISTED_IND\": \"\",\r\n            \"visible\": true\r\n        });\r\n    }\r\n    var index = $routeParams.index;\r\n    var cindex = $routeParams.cindex;\r\n    if (cindex) {\r\n        $scope.title = \"Edit Contact Number\";\r\n        $scope.add = false;\r\n        $scope.address = $rootScope.addresses.addresses[$routeParams.index];\r\n        if (cindex != -1) {\r\n            $scope.address.additionalphones[cindex].visible = true;\r\n        } else {\r\n            $scope.addAdditional();\r\n        }\r\n\r\n    } else if (index == -1) {\r\n\r\n        $scope.title = \"Add New Address\";\r\n        $scope.add = true;\r\n        $scope.address = {\r\n            \"ADDRESS_TYPE_CODE\": \"\",\r\n            \"HOUSE_NUMBER\": \"\",\r\n            \"STREET_LINE1\": \"\",\r\n            \"STREET_LINE2\": \"\",\r\n            \"STREET_LINE3\": \"\",\r\n            \"STREET_LINE4\": \"\",\r\n            \"CITY\": \"\",\r\n            \"STATE_CODE\": \"\",\r\n            \"ZIP\": \"\",\r\n            \"COUNTY_CODE\": null,\r\n            \"NATION_CODE\": \"\",\r\n            \"FROM_DATE\": formattedCurDate,\r\n            \"TO_DATE\": \"\",\r\n            primaryphone: {\r\n                \"COUNTRY_CODE\": \"\",\r\n                \"AREA_CODE\": \"\",\r\n                \"PHONE_NUMBER\": \"\",\r\n                \"EXTENSION\": \"\",\r\n                \"INTERNATIONAL_ACCESS\": \"\",\r\n                \"UNLISTED_IND\": \"\"\r\n            },\r\n            additionalphones: []\r\n        }\r\n\r\n    } else {\r\n        $scope.title = \"Edit Address\";\r\n        $scope.add = true;\r\n        $scope.editaddress = true;\r\n        $scope.address = $rootScope.addresses.addresses[$routeParams.index];\r\n        $scope.address.FROM_DATE = formattedCurDate;\r\n        $scope.address.TO_DATE = \"\";\r\n        angular.forEach($scope.address.additionalphones, function(value, key) {\r\n            value.visible = true;\r\n        });\r\n    }\r\n    $scope.alert = function(message, title) {\r\n        if (window.device) {\r\n            navigator.notification.alert(message, null, title, null);\r\n        } else {\r\n            apprise(message, {\r\n                'verify': false,\r\n                'textYes': \"Ok\"\r\n            }, function(r) {});\r\n        }\r\n    }\r\n\r\n    $scope.resetContact = function() {\r\n        $rootScope.$apply(function() {\r\n            $location.path(\"/app/AddUpdateB1/AddUpdateB1\");\r\n        });        \r\n    }\r\n\r\n    $scope.validateAddress = function() {\r\n        //Validate city\r\n        var city = $scope.address.CITY == null ? \"\" : $scope.address.CITY;\r\n        /*if (!(city.search(/[^a-z. A-Z. ]+/) === -1)) {\r\n            $scope.alert(\"Only alphabets and periods are allowed in City\", \"Address\");\r\n            return false;\r\n        }*/\r\n        if (city == \"\" || city.trim() == \"\") {\r\n            $scope.alert(\"Please enter City\", \"Address\");\r\n            return false;\r\n        }\r\n        if ($scope.address.STREET_LINE1 == \"\" || $scope.address.STREET_LINE1 == null) {\r\n            $scope.alert(\"Please enter Address line 1\", \"Address\");\r\n            return false;\r\n        }\r\n        var zip = $scope.address.ZIP == null ? \"\" : $scope.address.ZIP.trim();\r\n        if ($scope.address.NATION_CODE == \"\" && zip == \"\" && $scope.address.STATE_CODE == \"\") {\r\n            $scope.alert(\"State and Zip or Nation is required.\", \"Address\");\r\n            return false;\r\n        }\r\n        if (zip == \"\" && $scope.address.STATE_CODE != \"\") {\r\n            $scope.alert(\"State and Zip or Nation is required.\", \"Address\");\r\n            return false;\r\n        }\r\n        if ($scope.address.NATION_CODE == \"zz\" && zip == \"\" && $scope.address.STATE_CODE == \"\") {\r\n            $scope.alert(\"State and Zip is required.\", \"Address\");\r\n            return false;\r\n        }\r\n        if ($scope.address.primaryphone) {\r\n            if ($scope.address.primaryphone.PHONE_NUMBER == '' || $scope.address.primaryphone.PHONE_NUMBER == null) {\r\n                $scope.alert(\"Phone number is required.\", \"Address\");\r\n                return false;\r\n            }            \r\n        }\r\n        var haveError = false;\r\n        angular.forEach($scope.address.additionalphones, function(value,key) {\r\n            if (value.PHONE_CODE == '' || value.PHONE_CODE ==  null) {\r\n                haveError = true;\r\n                $scope.alert(\"Telephone Type is required.\",\"Address\");\r\n                return false;\r\n            } else if (value.PHONE_NUMBER == '' || value.PHONE_NUMBER == null) {\r\n                 haveError = true;\r\n                $scope.alert(\"Telephone Number is required.\",\"Address\");\r\n                return false;               \r\n            }\r\n        });\r\n        if (haveError) { return false; }\r\n\r\n        return true\r\n    }\r\n\r\n\r\n    $scope.addAddress = function() {\r\n        if ($scope.validateAddress() == false) {\r\n            return;\r\n        }\r\n        var postdata = \"\";\r\n        if (!$scope.add || $scope.editaddress == true) {\r\n            postdata += \"seqno=\" + $scope.address.ADDRESS_SEQ + \"&\";\r\n        }\r\n        postdata += \"atypcode=\" + $scope.address.ADDRESS_TYPE_CODE + \"&\";\r\n        postdata += \"fromdate=\" + ($scope.address.FROM_DATE == null ? \"\" : $scope.address.FROM_DATE) + \"&\";\r\n        postdata += \"todate=\" + ($scope.address.TO_DATE == null ? \"\" : $scope.address.TO_DATE) + \"&\";\r\n        postdata += \"housenumber=\" + ($scope.address.HOUSE_NUMBER == null ? \"\" : $scope.address.HOUSE_NUMBER) + \"&\";\r\n        postdata += \"streetline1=\" + ($scope.address.STREET_LINE1 == null ? \"\" : $scope.address.STREET_LINE1) + \"&\";\r\n        postdata += \"streetline2=\" + ($scope.address.STREET_LINE2 == null ? \"\" : $scope.address.STREET_LINE2) + \"&\";\r\n        postdata += \"streetline3=\" + ($scope.address.STREET_LINE3 == null ? \"\" : $scope.address.STREET_LINE3) + \"&\";\r\n        postdata += \"streetline4=\" + ($scope.address.STREET_LINE4 == null ? \"\" : $scope.address.STREET_LINE4) + \"&\";\r\n        postdata += \"city=\" + ($scope.address.CITY == null ? \"\" : $scope.address.CITY) + \"&\";\r\n        postdata += \"statecode=\" + ($scope.address.STATE_CODE == null ? \"\" : $scope.address.STATE_CODE) + \"&\";\r\n        postdata += \"countycode=\" + ($scope.address.COUNTY_CODE == null ? \"\" : $scope.address.COUNTY_CODE) + \"&\";\r\n        postdata += \"nationcode=\" + ($scope.address.NATION_CODE == null ? \"\" : $scope.address.NATION_CODE) + \"&\";\r\n        postdata += \"zip=\" + ($scope.address.ZIP == null ? \"\" : $scope.address.ZIP) + \"&\";\r\n        if ($scope.address.primaryphone) {\r\n            postdata += \"phoneareacode=\" + ($scope.address.primaryphone.AREA_CODE == null ? \"\" : $scope.address.primaryphone.AREA_CODE) + \"&\";\r\n            postdata += \"phonenumber=\" + ($scope.address.primaryphone.PHONE_NUMBER == null ? \"\" : $scope.address.primaryphone.PHONE_NUMBER) + \"&\";\r\n            postdata += \"phoneextn=\" + ($scope.address.primaryphone.EXTENSION == null ? \"\" : $scope.address.primaryphone.EXTENSION) + \"&\";\r\n            postdata += \"phonecountrycode=\" + ($scope.address.primaryphone.COUNTRY_CODE == null ? \"\" : $scope.address.primaryphone.COUNTRY_CODE) + \"&\";\r\n            postdata += \"intlaccess=\" + ($scope.address.primaryphone.INTERNATIONAL_ACCESS == null ? \"\" : $scope.address.primaryphone.INTERNATIONAL_ACCESS) + \"&\";\r\n            postdata += \"unlistedind=\" + ($scope.address.primaryphone.UNLISTED_IND == null ? \"\" : $scope.address.primaryphone.UNLISTED_IND) + \"&\";\r\n        } else {\r\n            postdata += \"phoneareacode=\" + \"\" + \"&\";\r\n            postdata += \"phonenumber=\" + \"\" + \"&\";\r\n            postdata += \"phoneextn=\" + \"\" + \"&\";\r\n            postdata += \"phonecountrycode=\" + \"\" + \"&\";\r\n            postdata += \"intlaccess=\" + \"\" + \"&\";\r\n            postdata += \"unlistedind=\" + \"\" + \"&\";           \r\n        }\r\n\r\n        var addlseqnos = \"\";\r\n        var addltelecodes = \"\";\r\n        var addlcountrycodes = \"\";\r\n        var addlareacodes = \"\";\r\n        var addlphonenumbers = \"\";\r\n        var addlphoneextns = \"\";\r\n        var addlintlaccess = \"\";\r\n        var addlunlistedinds = \"\";\r\n        var addldelinds = \"\";\r\n\r\n        angular.forEach($scope.address.additionalphones, function(value, key) {\r\n            if (key == 0) {\r\n                addlseqnos += (value.PHONE_SEQ == null ? \"\" : value.PHONE_SEQ);\r\n                addltelecodes += (value.PHONE_CODE == null ? \"\" : value.PHONE_CODE);\r\n                addlcountrycodes += (value.COUNTRY_CODE == null ? \"\" : value.COUNTRY_CODE);\r\n                addlareacodes += (value.AREA_CODE == null ? \"\" : value.AREA_CODE);\r\n                addlphonenumbers += (value.PHONE_NUMBER == null ? \"\" : value.PHONE_NUMBER);\r\n                addlphoneextns += (value.EXTENSION == null ? \"\" : value.EXTENSION);\r\n                addlintlaccess += (value.INTERNATIONAL_ACCESS == null ? \"\" : value.INTERNATIONAL_ACCESS);\r\n                addlunlistedinds += (value.UNLISTED_IND == null ? \"\" : value.UNLISTED_IND);\r\n                addldelinds += \"\";\r\n            } else {\r\n                addlseqnos += \",\" + (value.PHONE_SEQ == null ? \"\" : value.PHONE_SEQ);\r\n                addltelecodes += \",\" + (value.PHONE_CODE == null ? \"\" : value.PHONE_CODE);\r\n                addlcountrycodes += \",\" + (value.COUNTRY_CODE == null ? \"\" : value.COUNTRY_CODE);\r\n                addlareacodes += \",\" + (value.AREA_CODE == null ? \"\" : value.AREA_CODE);\r\n                addlphonenumbers += \",\" + (value.PHONE_NUMBER == null ? \"\" : value.PHONE_NUMBER);\r\n                addlphoneextns += \",\" + (value.EXTENSION == null ? \"\" : value.EXTENSION);\r\n                addlintlaccess += \",\" + (value.INTERNATIONAL_ACCESS == null ? \"\" : value.INTERNATIONAL_ACCESS);\r\n                addlunlistedinds += \",\" + (value.UNLISTED_IND == null ? \"\" : value.UNLISTED_IND);\r\n                addldelinds += \",\";\r\n            }\r\n\r\n        });\r\n        if (!$scope.add) {\r\n            postdata += \"addlseqnos=\" + addlseqnos + \"&\";\r\n        }\r\n\r\n        postdata += \"addltelecodes=\" + addltelecodes + \"&\";\r\n        postdata += \"addlcountrycodes=\" + addlcountrycodes + \"&\";\r\n        postdata += \"addlareacodes=\" + addlareacodes + \"&\";\r\n        postdata += \"addlphonenumbers=\" + addlphonenumbers + \"&\";\r\n        postdata += \"addlphoneextns=\" + addlphoneextns + \"&\";\r\n        postdata += \"addlintlaccess=\" + addlintlaccess + \"&\";\r\n        postdata += \"addlunlistedinds=\" + addlunlistedinds + \"&\";\r\n        postdata += \"addldelinds=\" + addldelinds;\r\n\r\n        var endpoint = $rootScope.middlewareServerUrl + pagedef.endpoint;\r\n        if (!$scope.add || $scope.editaddress == true) {\r\n            var endpoint = $rootScope.middlewareServerUrl + \"/services/student/banneraddressupdate\";\r\n        }\r\n\r\n        $rootScope.postAPI(endpoint, postdata, function(data) {\r\n            if (data) {\r\n                apprise(\"Address saved successfully\", {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function(r) {\r\n                    $rootScope.$apply(function() {\r\n                        $location.path(\"/app/AddUpdateB1/AddUpdateB1\");\r\n                    });\r\n                });\r\n            }\r\n        });\r\n    }\r\n}",
          "endpoint": "/services/student/banneraddressinsert",
          "datatemplate": "<div class=\"1container well-sm\">\r\n    <form>\r\n  <div class=\"panel panel-primary\" style=\"border:none;\">\r\n    <div class=\" panel-heading\" >\r\n                <h3 class=\"panel-title \">\r\n              {{title}}\r\n<\/h3>\r\n            <\/div>\r\n            <ul class=\"list-group\">\r\n                <li class=\"list-group-item\" ng-show=\"add\">\r\n                    <div class=\"form-group\">\r\n                        <label for=\"state\" class=\"control-label\">Address Type<\/label>\r\n                        <div class=\"\">\r\n                            <select ng-disabled=\"editaddress\" ng-model=\"address.ADDRESS_TYPE_CODE\" class=\"form-control\" ng-change=\"dropdownselect(this.value);\">\r\n                                <option value=\"\">Select<\/option>\r\n                                <option ng-selected=\"address.ADDRESS_TYPE_CODE == at.ADDRESS_CODE\" value=\"{{at.ADDRESS_CODE}}\" ng-repeat=\"at in addresstypecodes\">{{at.ADDRESS_DESC}}<\/option>\r\n                            <\/select>\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/li>\r\n\r\n                <li class=\"list-group-item\" ng-show=\"add\">\r\n                    <div class=\"form-group\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-xs-6\">\r\n                                <label class=\"control-label\">Valid From<\/label>\r\n                            <\/div>\r\n                            <div class=\"col-xs-6\">\r\n                                {{address.FROM_DATE}}\r\n                            <\/div>\r\n\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/li>\r\n                <li class=\"list-group-item\"  ng-show=\"add\">\r\n                    <div class=\"form-group\">\r\n                        <input type=\"text\" class=\"form-control input-sm\" placeholder=\"Street line 1\" name=\"streetLine1\" id=\"streetLine1\" ng-model=\"address.STREET_LINE1\" />\r\n                        <input type=\"text\" class=\"form-control input-sm\" placeholder=\"Street line 2\" name=\"streetLine2\" id=\"streetLine1\" ng-model=\"address.STREET_LINE2\" />\r\n                        <input type=\"text\" class=\"form-control input-sm\" placeholder=\"Street line 3\" name=\"streetLine3\" id=\"streetLine1\" ng-model=\"address.STREET_LINE3\" />\r\n                        <input type=\"text\" class=\"form-control input-sm\" placeholder=\"Street line 4\" name=\"streetLine4\" id=\"streetLine1\" ng-model=\"address.STREET_LINE4\" />\r\n                    <\/div>\r\n                    <div class=\"form-group\">\r\n                        <label for=\"city\" class=\"control-label\">City<\/label>\r\n                        <div class=\"\">\r\n                            <input type=\"text\" class=\"form-control input-sm\" placeholder=\"City\" name=\"city\" id=\"city\" ng-model=\"address.CITY\">\r\n                        <\/div>\r\n                    <\/div>\r\n                          \r\n\r\n                    <div class=\"form-group\">\r\n                        <label for=\"state\" class=\"control-label\">State<\/label>\r\n                        <div class=\"\">\r\n                            <select ng-model=\"address.STATE_CODE\" class=\"form-control\" >\r\n                                <option value=\"\">Select<\/option>\r\n                                <option ng-selected=\"address.STATE_CODE == st.STATE_CODE\" value=\"{{st.STATE_CODE}}\" ng-repeat=\"st in statecodes\">{{st.STATE_DESC}}<\/option>\r\n                            <\/select>\r\n                        <\/div>\r\n                    <\/div>\r\n                    <div class=\"form-group\">\r\n                        <label for=\"zip\" class=\"control-label\">Zip<\/label>\r\n                        <input type=\"text\" class=\"form-control input-sm\" placeholder=\"Zip\" name=\"zip\" id=\"zip\" ng-model=\"address.ZIP\">\r\n                    <\/div>\r\n<!--                     <div class=\"form-group\">\r\n                        <label for=\"county\" class=\"control-label\">County<\/label>\r\n                        <div class=\"\">\r\n                            <select ng-model=\"address.COUNTY_CODE\" class=\"form-control\"  id=\"county\" name=\"county\">\r\n                                <option value=\"\">Select<\/option>\r\n                                <option ng-selected=\"address.COUNTY_CODE == cc.COUNTY_CODE\" value=\"{{cc.COUNTY_CODE}}\" ng-repeat=\"cc in countycodes\">{{cc.COUNTY_DESC}}<\/option>\r\n                            <\/select>\r\n                        <\/div>\r\n                    <\/div> -->\r\n                          \r\n                    <div class=\"form-group\">\r\n                        <label for=\"nation\" class=\"control-label\">Nation<\/label>\r\n                        <div class=\"\">\r\n                            <select ng-model=\"address.NATION_CODE\" class=\"form-control\"  id=\"nation\" name=\"nation\">\r\n                                <option value=\"\">Select<\/option>\r\n                                <option ng-selected=\"address.NATION_CODE == nc.NATION_CODE\" value=\"{{nc.NATION_CODE}}\" ng-repeat=\"nc in nationcodes\">{{nc.NATION_DESC}}<\/option>\r\n                            <\/select>\r\n                        <\/div>\r\n                    <\/div>\r\n\r\n                <\/li>\r\n                <li class=\"list-group-item\" style=\"box-shadow: 0 0 20px #808080;\" ng-show=\"add\">\r\n                    <label for=\"telephone\" class=\"control-label\">Telephone<\/label>\r\n                    <div class=\"form-group row\">\r\n\r\n                        <div class=\"col-xs-2 col-md-2\" style=\"padding: 0px 0px 0px 10px; margin: 0px;\">\r\n                            <input type=\"tel\" class=\"form-control input-sm\" maxlength=\"3\" id=\"country_phone\" placeholder=\"Country\" ng-model=\"address.primaryphone.COUNTRY_CODE \">\r\n                        <\/div>\r\n                        <div class=\"col-xs-2 col-md-2\" style=\"margin: 0px; padding: 0px 0px 0px 2px;\">\r\n                            <input type=\"tel\" class=\"form-control input-sm\" maxlength=\"5\" id=\"area_phone\" placeholder=\"Area\" ng-model=\"address.primaryphone.AREA_CODE\">\r\n                        <\/div>\r\n                        <div class=\"col-xs-5 col-md-5\" style=\"margin: 0px; padding: 0px 0px 0px 2px;\">\r\n                            <input type=\"tel\" class=\"form-control input-sm\" maxlength=\"10\" id=\"phone\" placeholder=\"Phone\" ng-model=\"address.primaryphone.PHONE_NUMBER\">\r\n                        <\/div>\r\n                        <div class=\"col-xs-2 col-md-2\" style=\"margin: 0px; padding: 0px 0px 0px 2px;\">\r\n                            <input type=\"tel\" class=\"form-control input-sm\" maxlength=\"4\" id=\"extension\" placeholder=\"Extn\" ng-model=\"address.primaryphone.EXTENSION\">\r\n                        <\/div>\r\n                    <\/div>\r\n                    <div class=\"form-group\">\r\n                        <label for=\"intnlaccesscode\" class=\"control-label\">International Access Code<\/label>\r\n                        <div class=\"\">\r\n                            <input type=\"text\" class=\"form-control input-sm\" placeholder=\"International Access Code\" name=\"phoneintlaccesscode\" ng-model=\"address.primaryphone.INTERNATIONAL_ACCESS\">\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/li>\r\n                <li class=\"list-group-item\"  ng-repeat=\"additional in address.additionalphones\">\r\n                    <div ng-show=\"additional.visible\">\r\n                        <label for=\"telephone\" class=\"control-label\">Additional:<\/label>\r\n                        <div class=\"well\">\r\n                            <div class=\"form-group\">\r\n                                <label for=\"country\" class=\"control-label\">Telephone Type<\/label>\r\n                                <div class=\"\">\r\n                                    <select ng-model=\"additional.PHONE_CODE\" class=\"form-control\" >\r\n                                        <option value=\"\">Select<\/option>\r\n                                        <option ng-selected=\"additional.PHONE_CODE == ttc.TELE_CODE\" value=\"{{ttc.TELE_CODE}}\" ng-repeat=\"ttc in telephonetypecodes\">{{ttc.TELE_DESC}}<\/option>\r\n                                    <\/select>\r\n                                <\/div>\r\n                            <\/div>\r\n\r\n                            <label for=\"telephone\" class=\"control-label\">Telephone Additional<\/label>\r\n                            <div class=\"form-group row\">\r\n\r\n                                <div class=\"col-xs-2 col-md-2\" style=\"padding: 0px 0px 0px 10px; margin: 0px;\">\r\n                                    <input type=\"tel\" class=\"form-control input-sm\" maxlength=\"3\" id=\"country_phone\" placeholder=\"Country\" ng-model=\"additional.COUNTRY_CODE\">\r\n                                <\/div>\r\n                                <div class=\"col-xs-2 col-md-2\" style=\"margin: 0px; padding: 0px 0px 0px 2px;\">\r\n                                    <input type=\"tel\" class=\"form-control input-sm\" maxlength=\"5\" id=\"area_phone\" placeholder=\"Area\" ng-model=\"additional.AREA_CODE\">\r\n                                <\/div>\r\n                                <div class=\"col-xs-5 col-md-5\" style=\"margin: 0px; padding: 0px 0px 0px 2px;\">\r\n                                    <input type=\"tel\" class=\"form-control input-sm\" maxlength=\"10\" id=\"phone\" placeholder=\"Phone\" ng-model=\"additional.PHONE_NUMBER\">\r\n                                <\/div>\r\n                                <div class=\"col-xs-2 col-md-2\" style=\"margin: 0px; padding: 0px 0px 0px 2px;\">\r\n                                    <input type=\"tel\" class=\"form-control input-sm\" maxlength=\"4\" id=\"extension\" placeholder=\"Extn\" ng-model=\"additional.EXTENSION\">\r\n                                <\/div>\r\n                            <\/div>\r\n                            <div class=\"form-group\">\r\n                                <label for=\"intnlaccesscode\" class=\"control-label\">International Access Code<\/label>\r\n                                <div class=\"\">\r\n                                    <input type=\"text\" class=\"form-control input-sm\" placeholder=\"International Access Code\" name=\"phoneintlaccesscode\" ng-model=\"additional.INTERNATIONAL_ACCESS\">\r\n                                <\/div>\r\n                            <\/div>\r\n\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/li>\r\n                <li class=\"list-group-item\" ng-show=\"add\">\r\n                    <div class=\"btn btn-sm btn-block btn-danger\" ng-click=\"addAdditional()\">Add Additional Contact<\/div>\r\n                <\/li>\r\n                <li class=\"list-group-item\" ng-show=\"add && !editaddress\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-xs-6\">\r\n                            <div class=\"btn btn-block btn-primary\" ng-click=\"addAddress()\">Save Address<\/div>\r\n                        <\/div>\r\n                        <div class=\"col-xs-6\">\r\n                            <button type=\"reset\" class=\"btn btn-block btn-primary\" >Reset<\/button>\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/li>\r\n                <li class=\"list-group-item\" ng-show=\"!add || editaddress\" >\r\n                    <div class=\"row\">\r\n                        <div class=\"col-xs-12\">\r\n                            <div class=\"btn btn-block btn-primary\" ng-click=\"addAddress()\">Save Address<\/div>\r\n                        <\/div>\r\n                    <\/div>                    \r\n                <\/li>\r\n            <\/ul>\r\n        <\/div>\r\n    <\/form>\r\n<\/div>"
        }
      ]
    },
    {
      "id": 12301,
      "name": "WebStudyCourses",
      "displayname": "Courses",
      "logo": "RVCC/WebStudyCourses.png",
      "logourl": "RVCC/WebStudyCourses.png",
      "description": "WebStudyCourses",
      "appFeatureType": "WebStudy",
      "roles": null,
      "showInDock": false,
      "showInHome": false,
      "networkrequired": true,
      "analytics": false,
      "pages": 
      [
        {
          "pageid": "WebStudyCourses",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorWebStudyCourses(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n\r\n    $scope.showDialog = false;\r\n    $scope.messages = [];\r\n    $scope.currentMessage = \"\";\r\n    $scope.msgIndex = -1;\r\n    $scope.courselist = [];\r\n    $rootScope.courseid = \"\";\r\n    $rootScope.coursename = \"\";\r\n    $rootScope.category = \"\";\r\n    $scope.readMsg = false;\r\n\r\n    if ($rootScope.lastPage) {\r\n        $rootScope.lastPage = \"\";\r\n        $scope.courselist = $rootScope.courselist;\r\n    } else {\r\n        var url =  $rootScope.WebStudyURL + \"/services/data/RVCC/WebStudy/WebStudyCourses\";\r\n\r\n        $rootScope.postWSAPI(url, '', function(data) {\r\n            $.unblockUI();\r\n            //if (window.device) {\r\n                var formatres = JSON.parse(data.courseinfo);\r\n                data.courseinfo = formatres;\r\n            //}\r\n            $scope.courselist = \"\";\r\n            if (data.courseinfo && data.courseinfo.Items.length > 0) {\r\n                $scope.courselist = data.courseinfo.Items;\r\n            } \r\n            \r\n            if (!data.courseinfo || data.courseinfo.Items.length == 0) {\r\n                var gotoHome = function() {\r\n                    $rootScope.$apply(function() {\r\n                        $location.path(\"/home\");\r\n                    });\r\n                };\r\n                if (window.device) {\r\n                    navigator.notification.alert(\"No course information found.\", gotoHome, 'My Courses', 'OK');\r\n                } else {\r\n                    apprise(\"No course information found.\", {\r\n                        'verify': false,\r\n                        'textYes': \"Ok\"\r\n                    }, function(r) {\r\n                        gotoHome();\r\n                    });\r\n                }\r\n            }  /*else {\r\n                angular.forEach($scope.courselist, function(xvalue, xkey) {\r\n                    angular.forEach(xvalue.courses, function(yvalue, ykey) {\r\n                        var vcid = yvalue.cid;\r\n                        var n1 = vcid.indexOf(\"(\") + 1;\r\n                        var n2 = vcid.indexOf(\")\");\r\n                        yvalue.courseid = vcid.substring(n1, n2);\r\n                        yvalue.category = xvalue.name;\r\n                        console.log(yvalue.courseid);\r\n                    });\r\n                });\r\n\r\n            } */\r\n        });\r\n    }\r\n\r\n    $scope.showDetails = function(crse,category) {\r\n        //console.log(crse);\r\n        $rootScope.courseid = crse.Id;\r\n        $rootScope.coursename = crse.Name;\r\n        $rootScope.category = category;\r\n\r\n        var gurl = $rootScope.WebStudyURL + \"/services/data/RVCC/WebStudy/WebStudyCourseSyllabus\";\r\n        $rootScope.postWSAPI(gurl,\"courseid=\"+crse.Id,function(data) {\r\n            $rootScope.syllabus = data.syllabus[0];\r\n            $rootScope.syllabusinfo = data.syllabusinfo;            \r\n            if (data.msgsjson && data.msgsjson.data.length > 0) {\r\n                //needs confirmation. show dialog boxes\r\n                $scope.showDialog = true;\r\n                $scope.messages = data.msgsjson.data;\r\n                $scope.msgIndex = 0;\r\n                console.log($scope.messages[$scope.msgIndex][1]);\r\n            } else {\r\n                $location.path(\"/app/WebStudyCourses/WebStudyCoursesPage2\");\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    $scope.iterateMsg = function() {\r\n        if (!$scope.readMsg) {\r\n            var gotoHome = function() {\r\n                return;\r\n            };\r\n            if (window.device) {\r\n                navigator.notification.alert(\"Please tick the checkbox 'I confirm that I have read' before proceeding.\", gotoHome, 'My Courses', 'OK');\r\n            } else {\r\n                apprise(\"Please tick the checkbox 'I confirm that I have read' before proceeding.\", {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function(r) {\r\n                    gotoHome();\r\n                });\r\n            }   \r\n            return;         \r\n        }\r\n        var gurl = $rootScope.WebStudyURL + \"/services/data/RVCC/WebStudy/WebStudyCourseConfirmAnnouncement\";\r\n        var newsid = $scope.messages[$scope.msgIndex][0];\r\n        $rootScope.postWSAPI(gurl,\"newsid=\"+newsid,function(data) {\r\n             if ($scope.msgIndex < $scope.messages.length -1) {\r\n               $scope.msgIndex++;\r\n            } else {\r\n                $location.path(\"/app/WebStudyCourses/WebStudyCoursesPage2\");\r\n            }           \r\n        });         \r\n\r\n    }\r\n\r\n    $scope.trusthtml = function (data) {\r\n        return $sce.trustAsHtml(data);\r\n    } \r\n\r\n    $rootScope.back = function() {\r\n        $rootScope.lastPage = \"\";\r\n        $rootScope.courselist = \"\";\r\n        if ($routeParams.from) {\r\n           if (window.device) {\r\n                if (device.platform == 'iOS') {\r\n                    history.go(-1);\r\n                } else {\r\n                    navigator.app.backHistory();\r\n                }\r\n           } else {\r\n             $location.path(\"/app/WebStudy/WebStudy\");\r\n           }                   \r\n        } else {\r\n            window.location.href = \"index.html#home\";\r\n        }\r\n    }\r\n\r\n\r\n}",
          "datatemplate": "<div style=\"margin:4px;\" ng-show=\"!showDialog\">\r\n    <div>\r\n        <h2 style=\"color:#fff;text-shadow:2px 2px #000;font-family:Trebuchet MS,Arial;\"> Course Sessions: <h2>\r\n\t<\/div>\r\n\t<div class=\"panel panel-primary\" ng-repeat=\"course in courselist\">\r\n\t\t<div class=\"panel-heading\">\r\n\t\t\t<div class=\"panel-title\">{{course.Name}} <\/div>\r\n\t\t<\/div>\r\n\t\t<div class=\"list-group\">\r\n\t\t\t<div  class=\"list-group-item\" ng-repeat=\"crse in course.Items\"  ng-click=\"showDetails(crse,course.Name)\"> \r\n\t\t\t\t<div class=\"row clearfix\">\r\n\t\t\t\t\t<div class=\"col-xs-9 col-md-9\">\r\n\t\t\t\t\t\t{{crse.Name}}\r\n\t\t\t\t\t<\/div>\r\n                    \r\n\t\t\t\t\t<div class=\"col-xs-3 col-md-3\">\r\n\t\t\t\t\t\t<i class=\"fa fa-chevron-right pull-right\"><\/i>\r\n\t\t\t\t\t<\/div>\r\n                    \r\n\t\t\t\t<\/div>\r\n\t\t\t<\/div>\r\n\t\t<\/div>\r\n\t<\/div>\r\n<\/div>\r\n<div class=\"well\" ng-show=\"showDialog\" style=\"margin:6px;\">\r\n\t<div id=\"msgSection\">\r\n\t\t<p ng-bind-html=\"trusthtml(messages[msgIndex][1])\"><\/p>\r\n\t<\/div>\r\n\t<div class=\"list-group-item clearfix\">\r\n\t\t<div class=\"checkbox\">\r\n\t\t  <label><input type=\"checkbox\"  ng-model=\"readMsg\" value=\"\">I confirm that I have read<\/label>\r\n\t\t<\/div>\r\n\t\t<div class=\"btn btn-default pull-right\" ng-click=\"iterateMsg();\">Next<\/div>\r\n\t<\/div>\r\n<\/div>",
          "endpoint": "/"
        },
        {
          "pageid": "WebStudyCoursesPage2",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorWebStudyCoursesPage2(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    var appCont = angular.element( document.querySelector( '.app-content' ) );\r\n    appCont.addClass('content-area');\r\n\r\n    $scope.syllabus = $rootScope.syllabus;\r\n    $scope.syllabusinfo = $rootScope.syllabusinfo;\r\n    $scope.courseid = $rootScope.courseid;\r\n    $scope.coursename = $rootScope.coursename;\r\n    $scope.category = $rootScope.category;\r\n    $scope.wsusername = $rootScope.wsusername;\r\n    $scope.expandAll = false;\r\n\r\n    if (!$rootScope.sylfrompage) {\r\n        console.log($scope.syllabusinfo.length);\r\n        angular.forEach($scope.syllabusinfo, function(value,key) {\r\n            value.description = value.description.replace(/\\/\\/www/g,\"https://www\");\r\n\r\n            value.toggleclass = \"fa fa-plus-circle fa-2x\";\r\n            value.toggle = true;   \r\n            value.toggledescclass = \"fa fa-angle-double-down fa-2x\";\r\n            value.toggledesc = true;\r\n            value.togglesessioncwclass = \"fa fa-angle-double-down fa-2x\"\r\n            value.togglesessioncw = true;\r\n            console.log(value); \r\n            angular.forEach(value.COURSE_WORKS,function(value1,key1){\r\n                if (value1.TYPE == 'Forum') {\r\n                    value1.borderClass = \"forum-class\";\r\n                    value1.badgeClass = \"badge-forum\";\r\n                    value1.activeClass= \"\";\r\n                } else if (value1.TYPE == 'Material') {\r\n                    value1.borderClass = \"material-class\";\r\n                    value1.badgeClass = \"badge-material\";\r\n                    value1.activeClass= \"display-only\";\r\n                } else if (value1.TYPE == 'Quiz') {\r\n                    value1.borderClass = 'quiz-class';\r\n                    value1.badgeClass = \"badge-quiz\";\r\n                  value1.activeClass= \"display-only\";\r\n                } else if (value1.TYPE == 'Exam') {\r\n                    value1.borderClass = 'exam-class';\r\n                    value1.badgeClass = \"badge-exam\";\r\n                  value1.activeClass= \"display-only\";                  \r\n                } else {\r\n                    value1.borderClass = \"\";\r\n                    value1.badgeClass= \"\";\r\n                    value1.activeClass= \"display-only\";\r\n                }\r\n                console.log(value1.TYPE)\r\n                var gjson = \"\";\r\n                if (value1.G_JSON) {\r\n                    try {\r\n                        gjson = value1.G_JSON.replace(/\\n/g,\"\");\r\n                    } catch (ex) {\r\n                        gjson = value1.G_JSON;\r\n                        console.log(ex);\r\n                    }\r\n                    try {\r\n                        gjson = JSON.parse(gjson);\r\n                    } catch (ex1) {\r\n                        gjson = value1.G_JSON;\r\n                        console.log(ex1);\r\n                    }\r\n                    try {\r\n                      console.log(\"printing gjson\");\r\n                      console.log(gjson);\r\n                        if (gjson && gjson[0].IStatusTit) {\r\n                            value1.graded = \"graded\";\r\n                            value1.graded_on = gjson[0].IStatusTit;\r\n                        } else {\r\n                            value1.graded = \"\";\r\n                            value1.graded_on = \"\";\r\n                        }                    \r\n                    } catch (ex) {\r\n                        console.log(ex);\r\n                        value1.graded = \"\";\r\n                        value1.graded_on = \"\";\r\n                    }\r\n                    /*\r\n                    if (value1.TYPE == 'Exam') {\r\n                        value.COURSE_WORKS.splice(key1,1);\r\n                        key1--;\r\n                    }\r\n                    */\r\n                }\r\n            });\r\n        });       \r\n    }  else {\r\n        $rootScope.sylfrompage = \"\";\r\n    }\r\n\r\n\r\n    console.log($scope.syllabusinfo);\r\n\r\n    $scope.trusthtml = function (data) {\r\n        return $sce.trustAsHtml(data);\r\n    }\r\n\r\n    $scope.toggleSchedule = function(syl) {\r\n        syl.toggle = !syl.toggle;\r\n        if (syl.toggle) {\r\n            syl.toggleclass = \"fa fa-plus-circle fa-2x\";\r\n        } else {\r\n            syl.toggleclass = \"fa fa-minus-circle fa-2x\";\r\n        }\r\n    }   \r\n\r\n    $scope.toggledescclass = function(syl) {\r\n        syl.toggledesc = !syl.toggledesc;\r\n        if (syl.toggledesc) {\r\n            syl.toggledescclass = \"fa fa-angle-double-down fa-2x\";\r\n        } else {\r\n            syl.toggledescclass = \"fa fa-angle-double-left fa-2x\";\r\n        }\r\n    }   \r\n\r\n    $scope.togglesessioncoursework = function(syl) {\r\n         syl.togglesessioncw = !syl.togglesessioncw;\r\n        if (syl.togglesessioncw) {\r\n            syl.togglesessioncwclass = \"fa fa-angle-double-down fa-2x\";\r\n        } else {\r\n            syl.togglesessioncwclass = \"fa fa-angle-double-left fa-2x\";\r\n        }       \r\n    }\r\n\r\n    $scope.expandAllBoxes = function() {\r\n        angular.forEach($scope.syllabusinfo, function(value,key) {\r\n            value.toggleclass = \"fa fa-minus-circle fa-2x\";\r\n            value.toggle = false;      \r\n        });        \r\n    }  \r\n\r\n    $scope.collapseAllBoxes = function() {\r\n        angular.forEach($scope.syllabusinfo, function(value,key) {\r\n            value.toggleclass = \"fa fa-plus-circle fa-2x\";\r\n            value.toggle = true;      \r\n        });        \r\n    }  \r\n\r\n    $scope.showForumDetails = function(syl,cw) {\r\n\r\n        if (cw.TYPE == \"Forum\") {\r\n            var vtemp = cw.REF.split(\"=\");\r\n            var vid = vtemp[vtemp.length-1];\r\n            $rootScope.coursename = $scope.coursename;\r\n            $rootScope.syllabus = $scope.syllabus;\r\n            $rootScope.syllabusinfo = $scope.syllabusinfo;\r\n            $rootScope.courseid = $scope.courseid;\r\n            $rootScope.coursename = $scope.coursename;\r\n            $rootScope.category = $scope.category;\r\n            $rootScope.wsusername = $scope.wsusername;             \r\n            var gurl = $rootScope.WebStudyURL + \"/services/data/RVCC/WebStudy/WebStudySearchForum\";\r\n            //alert(\"courseid=\"+$scope.courseid+\"&forumId=\"+vid);\r\n            $rootScope.postWSAPI(gurl,\"courseid=\"+$scope.courseid+\"&forumId=\"+vid,function(data) {\r\n                $rootScope.forum = data.forum;      \r\n                $location.path(\"/app/WebStudyCourses/WebStudyCoursesPage3\");\r\n            });            \r\n        } /*else if (cw.TYPE == \"Material\" || cw.TYPE == \"Quiz\") {\r\n           var curl = cw.REF;\r\n           //alert(curl);\r\n           $.blockUI();\r\n            \r\n            var launchurl = \"http://rvcc.webstudy.com/\";\r\n            var iabRef = window.open(launchurl, \"_blank\", \"location=yes,hidden=no,clearcache=yes,EnableViewportScale=yes\");\r\n            var iabClose = function(data) {\r\n                $.unblockUI();\r\n                //window.location.href = \"index.html#home\";\r\n            };\r\n            iabRef.addEventListener(\"exit\", iabClose);\r\n            var hideBlockUi = function() {\r\n                 iabRef.show();\r\n                $.unblockUI();\r\n            };\r\n            var username = $.jStorage.get(\"wsusername\");\r\n            var password = $.jStorage.get(\"wspassword\");\r\n            var cd = \"document.getElementById('username').value = '\" + username + \"';document.getElementById('password').value = '\" + password + \"';document.getElementsByName('log_in')[0].click();\";\r\n            var cb = function(data) {};\r\n            var loadStop = function(data) {\r\n                iabRef.executeScript({\r\n                    code: cd\r\n                }, cb);\r\n                if (data.url.indexOf(\"defframes.asp\") == -1) {\r\n                    alert(\"You are inside this\");\r\n                    hideBlockUi();\r\n                    //iabRef.close();\r\n                    //iabRef = window.open(qlssourl, \"_blank\", \"location=yes,hidden=no,clearcache=no,enableViewportScale=yes\");\r\n                } else {\r\n                    alert(\"logged in\");\r\n                     hideBlockUi();\r\n                    iabRef.close();\r\n                    iabRef = window.open(curl, \"_blank\", \"location=yes,hidden=no,clearcache=no,enableViewportScale=yes\");           \r\n                }\r\n            };\r\n            iabRef.addEventListener(\"loadstop\", loadStop);\r\n            iabRef.addEventListener('loaderror', function(event) {\r\n                alert('error: ' + event.message);\r\n            });\r\n            //$location.path(\"/home\");            \r\n        }*/\r\n        \r\n    }\r\n}",
          "datatemplate": "<style>\r\n    .content-area {\r\n        height:100% !important;\r\n        width:100% !important;\r\n        background: #fff !important;\r\n    }\r\n    .list-group-accordian {\r\n        padding: 5px;\r\n        padding-bottom: 0px;\r\n    }\r\n\r\n\r\n    .list-group-item-accordian {\r\n      background: #414A3E;\r\n      color: #fff;\r\n      border-bottom: 1px solid #666666;\r\n      box-shadow: 0px 6px 10px -8px #000;   \r\n      text-overflow:ellipsis;     \r\n    }\r\n\r\n\r\n    .list-group-item-head-text {\r\n        font-size: 1.4em;\r\n        color:#fff;\r\n    }\r\n    .text-nowrap {\r\n      white-space: nowrap;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;        \r\n    }\r\n    .detail-list-group-item {\r\n        border: 1px solid #414A3E;\r\n        -webkit-transition:all 1s ease;\r\n        transition:all 1s ease;\r\n        padding-left: 0px;\r\n        padding-right: 0px;\r\n    }  \r\n    .inner-html-container iframe {\r\n        width: 100%;\r\n\r\n    }  \r\n    .forum-class {\r\n        border-left: 6px solid #F1C18D;\r\n    }\r\n    .material-class {\r\n        border-left: 6px solid #A2C4C0;   \r\n    }\r\n    .quiz-class {\r\n        border-left: 6px solid #A9B8CA;   \r\n    }\r\n    .exam-class {\r\n        border-left: 6px solid #F2AEAE;\r\n    }\r\n    .badge-forum {\r\n        background: #F1C18D;\r\n    }\r\n    .badge-material {\r\n        background: #A2C4C0;\r\n    }\r\n    .badge-quiz {\r\n        background: #A9B8CA;\r\n    }\r\n    .badge-exam {\r\n        background: #F2AEAE;\r\n    }\r\n    .display-only {\r\n       color:grey; \r\n    }\r\n<\/style>\r\n<div >\r\n    <div class=\"list-group-item\" style=\"background:#414a3e;color:#fff;border-bottom:none;\">\r\n        <div class=\"ng-binding\" style=\"font-size: 1.2em;font-family:Trebuchet MS, Arial;margin-bottom: 5px;\">\r\n        {{coursename}} \r\n        <\/div>      \r\n        <i style=\"font-size:1em;\">{{category}}<\/i>\r\n    <\/div>  \r\n    <div class=\"list-group-item\" style=\"background:#e3e3e3;min-height:20px;\">\r\n        <div class=\"row clearfix\">\r\n            <div class=\"col-xs-4 col-md-4\">\r\n                Instructors:\r\n            <\/div>\r\n            <div class=\"col-xs-8 col-md-8\">\r\n                <div ng-repeat=\"inst in syllabus.instructors\">\r\n                    <span class=\"pull-right\">{{inst.instname}}<\/span><\/br>\r\n                <\/div>\r\n            <\/div>\r\n        <\/div>\r\n    <\/div>\r\n    <div class=\"list-group-item\">\r\n        Start Date: <span class=\"pull-right\">{{syllabus.startDate}}<\/span>\r\n    <\/div>\r\n    <div class=\"list-group-item\">\r\n        End Date: <span class=\"pull-right\">{{syllabus.endDate}}<\/span>\r\n    <\/div>    \r\n    <div id=\"forum-menu\">\r\n        <div class=\"list-group-item\" style=\"background:#e3e3e3;\">\r\n             <li class=\"dropdown closed\" style=\"list-style: none;\">\r\n               <span><b>Course Details:<\/b> <\/span>\r\n                <a class=\"dropdown-toggle pull-right\" data-toggle=\"dropdown\">\r\n                    <i class=\"fa fa-ellipsis-v fa-2x\"><\/i>\r\n                <\/a>\r\n                <div class=\"dropdown-menu pull-right\">\r\n                    <a class=\"list-group-item \" ng-click=\"expandAllBoxes()\">Expand All <\/a>\r\n                    <a class=\"list-group-item\" ng-click=\"collapseAllBoxes()\">Collapse All <\/a>\r\n                <\/div>\r\n            <\/li>\r\n        <\/div>\r\n        <div class=\"list-group list-group-accordian\"  ng-repeat=\"syl in syllabusinfo\" >\r\n            <div class=\"list-group-item list-group-item-accordian\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-xs-9 col-md-10\" style=\"overflow:hidden;\">\r\n                        <div class=\"\"><em><b>{{syl.title}}<\/b><\/em><\/div>\r\n                        <div>Calendar Placement:<span class=\"pull-right\">{{syl.calPlacement}}<\/span><\/div>\r\n                        <div>Start Date:<span class=\"pull-right\">{{syl.startDate}}<\/span><\/div>\r\n                        <div>End Date:<span class=\"pull-right\">{{syl.endDate}}<\/span><\/div>  \r\n                    <\/div>\r\n                    <div class=\"col-xs-3 col-md-2\" style=\"text-align: center;\">                                          \r\n                        <div style=\"position: relative;vertical-align: middle;display:inline-block;text-align: center;margin: 0px;padding: 0px;\">\r\n                            <a ng-class=\"syl.toggleclass\" class=\"pull-right\" ng-click=\"toggleSchedule(syl)\"  style=\"vertical-align: middle;color:#fff;text-decoration:none;\">\r\n                            <\/a>\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/div>\r\n            <\/div> \r\n\r\n            <div class=\"list-group-item detail-list-group-item\" ng-hide=\"syl.toggle\">\r\n                <div class=\"list-group-item \" style=\"background:#e3e3e3;\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-xs-9 col-md-10\" style=\"overflow:hidden;\">\r\n                            <div class=\"\"><em><b>Description:<\/b><\/em><\/div>\r\n                        <\/div>\r\n                        <div class=\"col-xs-3 col-md-2\" style=\"text-align: center;\">                                          \r\n                            <div style=\"position: relative;vertical-align: middle;display:inline-block;text-align: center;margin: 0px;padding: 0px;\">\r\n                                <a ng-class=\"syl.toggledescclass\" class=\"pull-right\" ng-click=\"toggledescclass(syl)\"  style=\"vertical-align: middle;text-decoration:none;\">\r\n                                <\/a>\r\n                            <\/div>\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/div>\r\n                <div class=\"list-group-item\" ng-hide=\"syl.toggledesc\">\r\n                    <div class=\"inner-html-container\" ng-bind-html=\"trusthtml(syl.description)\"><\/div>\r\n                <\/div>\r\n                <div class=\"list-group-item \" style=\"background:#e3e3e3;\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-xs-9 col-md-10\" style=\"overflow:hidden;\">\r\n                            <div class=\"\"><em><b>Session Coursework:<\/b><\/em><\/div>\r\n                        <\/div>\r\n                        <div class=\"col-xs-3 col-md-2\" style=\"text-align: center;\">                                          \r\n                            <div style=\"position: relative;vertical-align: middle;display:inline-block;text-align: center;margin: 0px;padding: 0px;\">\r\n                                <a ng-class=\"syl.togglesessioncwclass\" class=\"pull-right\" ng-click=\"togglesessioncoursework(syl)\"  style=\"vertical-align: middle;text-decoration:none;\">\r\n                                <\/a>\r\n                            <\/div>\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/div>\r\n                <div class=\"list-group-item\" ng-hide=\"syl.togglesessioncw\" style=\"padding-left: 0px;padding-right: 0px;\">\r\n                    <div class=\"list-group-item\" ng-class=\"cw.borderClass\" ng-repeat=\"cw in syl.COURSE_WORKS\" >                        \r\n                        <a ng-hide=\"cw.activeClass\" ng-click=\"showForumDetails(syl,cw)\">\r\n                            <b>{{cw.NAME}}<\/b>\r\n                            <span class=\"badge pull-right\" ng-class=\"cw.badgeClass\">{{cw.TYPE}} <\/span>                                               \r\n                        <\/a>\r\n                        <span ng-show=\"cw.activeClass\" ng-class=\"cw.activeClass\"><b>{{cw.NAME}}<\/b><span class=\"badge pull-right\" ng-class=\"cw.badgeClass\">{{cw.TYPE}} <\/span><\/span>\r\n                        <\/br> \r\n                        <span ng-show=\"cw.CAL_DATE\"><span>Calendar Date:&nbsp;{{cw.CAL_DATE}} <\/span><\/br><\/span>\r\n                        <span>{{cw.START_DATE}}<span ng-show=\"cw.START_DATE && cw.END_DATE\">-<\/span>{{cw.END_DATE}}<\/span><\/br>\r\n                        <span class=\"\"><em>{{cw.graded_on}}<\/em><\/span>                         \r\n                    <\/div>\r\n                    <div class=\"list-group-item\" ng-show=\"syl.COURSE_WORKS.length == 0\">\r\n                        <span ><strong> No Items<\/strong><\/span>\r\n                    <\/div>\r\n                <\/div>                \r\n            <\/div>\r\n        <\/div>          \r\n    <\/div>\r\n<\/div>",
          "endpoint": ""
        },
        {
          "pageid": "WebStudyCoursesPage3",
          "pageTemplate": "<div><\/div>",
          "datatemplate": "<style>\r\n    .content-area {\r\n        height: 100% !important;\r\n        width: 100% !important;\r\n        background: #fff !important;\r\n    }\r\n    \r\n    .list-group-accordian {\r\n        padding: 5px;\r\n        padding-bottom: 0px;\r\n    }\r\n    \r\n    .list-group-item-accordian {\r\n        border-radius: 4px !important;\r\n        -webkit-border-radius: 4px !important;\r\n        background: #414A3E;\r\n        color: #fff;\r\n        border-bottom: 1px solid #666666;\r\n        box-shadow: 0px 6px 10px -8px #000;\r\n        text-overflow: ellipsis;\r\n    }\r\n    \r\n    .list-group-item-head-text {\r\n        font-size: 1.4em;\r\n        color: #fff;\r\n    }\r\n    \r\n    .text-nowrap {\r\n        white-space: nowrap;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n    }\r\n    \r\n    .detail-list-group-item {\r\n        /*background:rgba(255,255,255,0.6);*/\r\n        -webkit-transition: all 1s ease;\r\n        transition: all 1s ease;\r\n    }\r\n<\/style>\r\n<div>\r\n    <div class=\"list-group-item\" style=\"background:#414a3e;color:#fff;border-bottom:none;\">\r\n        <div class=\"ng-binding\" style=\"font-size: 1.2em;font-family:Trebuchet MS, Arial;margin-bottom: 5px;\">\r\n            {{coursename}}\r\n        <\/div>\r\n        <i style=\"font-size:1em;\">{{category}}<\/i>\r\n    <\/div>\r\n    <div class=\"list-group-item\" style=\"background:#e3e3e3;min-height:20px;\">\r\n        <span>Course Forums<\/span><button class=\"btn btn-primary btn-xs pull-right\" ng-show=\"startnewthread\" ng-click=\"showStartNewThread();\">Start new thread<\/button>\r\n    <\/div>\r\n\r\n    <div id=\"forum-menu\" style=\"background:#ccc;\">\r\n        <div class=\"list-group \">\r\n            <div class=\"list-group-item list-group-item-accordian\" style=\"border-radius:0px !important;\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-xs-9 col-md-9\" style=\"overflow:hidden;padding-left:8px;padding-right:0px;padding-top:5px;\">\r\n                        <p class=\"text-left list-group-item-head-text text-nowrap\">{{forum.title}}<\/p>\r\n                    <\/div>\r\n                    <div class=\"col-xs-3 col-md-2\" style=\"text-align:center;1padding-top:10px;padding-left:0px;padding-right:8px;\">\r\n                        <div>\r\n                            <a ng-class=\"forum.toggleclass\" class=\"pull-right\" ng-click=\"toggleSchedule(forum)\" style=\"vertical-align: middle;color:#fff;text-decoration:none;\">\r\n                            <\/a>\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/div>\r\n            <\/div>\r\n            <div class=\"list-group-item detail-list-group-item\" ng-hide=\"forum.toggle\">\r\n                <div>\r\n                    <div class=\"list-group\" style=\"border:none !important;text-align: justify;\">\r\n                        <div class=\"list-group-item\" ng-bind-html=\"trustHtml(forum.details.description)\">\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/div>\r\n            <\/div>\r\n        <\/div>\r\n        <div class=\"list-group-item\" style=\"background:#e3e3e3;min-height:20px;\">\r\n            <b>Message Tree:<\/b>\r\n        <\/div>\r\n        <div class=\"list-group list-group-accordian\" ng-repeat=\"forumPost in forumPosts\">\r\n\r\n            <div class=\"list-group-item list-group-item-accordian clearfix\" style=\"background: rgb(255, 255, 255) none repeat scroll 0% 0%; color: rgb(0, 0, 0);\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-xs-3\">\r\n                        <img class=\"media-object\" src=\"https://cms.webstudy.com{{forumPost.userinfo.imageurl}}\" style=\"width: 50px; height: 50px;\">\r\n                        <button class=\"btn btn-success btn-xs\" ng-click=\"showReply(forumPost);\">Reply<\/button>\r\n                    <\/div>\r\n                    <div style=\"overflow: hidden; line-height: 12px; padding-left: 0px; font-weight: bold; color: darkblue;\" class=\"col-xs-9 col-md-9\">\r\n                        {{forumPost.userinfo.name}}<span class=\"badge\" style=\"font-size: 10px\">{{forumPost.userinfo.usertype}}<\/span>\r\n                        <a ng-class=\"forumPost.toggleclass\" class=\"pull-right\" ng-click=\"toggleSchedule(forumPost)\" style=\"vertical-align: middle;text-decoration:none;\">\r\n                        <\/a>\r\n                        <br/>\r\n                        <p class=\"text-muted\">\r\n                            {{forumPost.title}}\r\n                        <\/p>\r\n                    <\/div>\r\n                <\/div>\r\n                <div id=\"forum-{{forumPost.id}}\" class=\"panel-group\" ng-hide=\"forumPost.toggle\">\r\n                    <div class=\"list-group-item\" style=\"padding: 0px\">\r\n                        <div class=\"well\" style=\"padding:5px;margin:0px;\" ng-bind-html=\"trustHtml(forumPost.content);\"><\/div>\r\n                    <\/div>\r\n                    <div class=\"panel panel-info\" ng-repeat=\"det in forumPost.threads\">\r\n\r\n                        <div class=\"panel-heading\" style=\"background: transparent none repeat scroll 0% 0%; line-height: 16px ! important; padding: 0px;\">\r\n                            <a style=\"line-height:10px;color:#fff;font-size:12px;\"  href=\"#thread-{{det.id}}\" data-parent=\"#forum-{{forumPost.id}}\" data-toggle=\"collapse\" class=\"panel-title clearfix\">\r\n                                <img class=\"pull-left\" src=\"https://cms.webstudy.com{{det.userinfo.imageurl}}\" style=\"width: 50px; height: 50px;\">{{det.title}}\r\n                            <\/a>\r\n                        <\/div>\r\n                        <div class=\"panel-collapse collapse in\" id=\"thread-{{det.id}}\">\r\n                            <div style=\"background:#ccc;\" class=\"ng-binding\">{{det.userinfo.name}}<small class=\"pull-right \">{{det.userinfo.usertype}}<\/small> <\/div>\r\n                            <div class=\"panel-body\">\r\n                                <div class=\"list-group-item\" style=\"padding: 0px\">\r\n                                    <div class=\"well\" style=\"padding:5px;margin:0px;\" ng-bind-html=\"trustHtml(det.content);\"><\/div>\r\n                                    <button class=\"btn btn-success btn-xs\" ng-click=\"showReply(det);\">Reply<\/button>\r\n                                <\/div>\r\n\r\n                                <div class=\"panel panel-info\" ng-repeat=\"det2 in det.threads\">\r\n\r\n                                    <div class=\"panel-heading\" style=\"background: transparent none repeat scroll 0% 0%; line-height: 16px ! important; padding: 0px;\">\r\n                                        <a style=\"line-height:10px;color:#fff;font-size:12px;\"  href=\"#thread-{{det2.id}}\" data-parent=\"#forum-{{forumPost.id}}\" data-toggle=\"collapse\" class=\"panel-title clearfix\">\r\n                                            <img class=\"pull-left\" src=\"https://cms.webstudy.com{{det2.userinfo.imageurl}}\" style=\"width: 50px; height: 50px;\">{{det2.title}}\r\n                                        <\/a>\r\n                                    <\/div>\r\n                                    <div class=\"panel-collapse collapse in\" id=\"thread-{{det2.id}}\">\r\n                                        <div style=\"background:#ccc;\" class=\"ng-binding\">{{det2.userinfo.name}}<small class=\"pull-right \">{{det2.userinfo.usertype}}<\/small> <\/div>\r\n                                        <div class=\"panel-body\">\r\n                                            <div class=\"list-group-item\" style=\"padding: 0px\">\r\n                                                <div class=\"well\" style=\"padding:5px;margin:0px;\" ng-bind-html=\"trustHtml(det2.content);\"><\/div>\r\n                                                <button class=\"btn btn-success btn-xs\" ng-click=\"showReply(det2);\">Reply<\/button>\r\n                                            <\/div>\r\n\r\n                                            <div class=\"panel panel-info\" ng-repeat=\"det3 in det2.threads\">\r\n\r\n                                                <div class=\"panel-heading\" style=\"background: transparent none repeat scroll 0% 0%; line-height: 16px ! important; padding: 0px;\">\r\n                                                    <a style=\"line-height:10px;color:#fff;font-size:12px;\"  href=\"#thread-{{det3.id}}\" data-parent=\"#forum-{{forumPost.id}}\" data-toggle=\"collapse\" class=\"panel-title clearfix\">\r\n                                                        <img class=\"pull-left\" src=\"https://cms.webstudy.com{{det3.userinfo.imageurl}}\" style=\"width: 50px; height: 50px;\">{{det3.title}}\r\n                                                    <\/a>\r\n                                                <\/div>\r\n                                                <div class=\"panel-collapse collapse in\" id=\"thread-{{det3.id}}\">\r\n                                                    <div style=\"background:#ccc;\" class=\"ng-binding\">{{det3.userinfo.name}}<small class=\"pull-right \">{{det3.userinfo.usertype}}<\/small> <\/div>\r\n                                                    <div class=\"panel-body\">\r\n                                                        <div class=\"list-group-item\" style=\"padding: 0px\">\r\n                                                            <div class=\"well\" style=\"padding:5px;margin:0px;\" ng-bind-html=\"trustHtml(det3.content);\"><\/div>\r\n                                                            <button class=\"btn btn-success btn-xs\" ng-click=\"showReply(det3);\">Reply<\/button>\r\n                                                        <\/div>\r\n                                                    <\/div>\r\n                                                <\/div>\r\n                                            <\/div>\r\n\r\n                                        <\/div>\r\n                                    <\/div>\r\n                                <\/div>\r\n\r\n\r\n                            <\/div>\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/div>\r\n            <\/div>\r\n        <\/div>\r\n    <\/div>\r\n<\/div>\r\n\r\n<div overlay=\"replyThreadModal\" default=\"active\">\r\n    <div class=\"group-container\">\r\n        <div class=\"h4 group-header\">Message Details<\/div>\r\n        <div class=\"list-group\">\r\n            <div class=\"list-group-item\">\r\n                <label class=\"form-label\">Subject<\/label>\r\n                <input placeholder=\"Subject\" class=\"form-control\" ng-model=\"subject\">\r\n            <\/div>\r\n\r\n            <div class=\"list-group-item\">\r\n                <label class=\"form-label\">Message<\/label>\r\n                <textarea rows=\"2\" cols=\"10\" placeholder=\"Message\" class=\"form-control\" ng-model=\"message\">\r\n                <\/textarea>\r\n            <\/div>\r\n        <\/div>\r\n    <\/div>\r\n    <div class=\"list-group-item\">\r\n        <span class=\"btn btn-default\" toggle=\"off\" bubble target=\"replyThreadModal\">Cancel<\/span>\r\n        <span class=\"btn btn-primary\" ng-click=\"replyThread();\">Submit<\/span>\r\n    <\/div>\r\n<\/div>",
          "endpoint": "",
          "pageprocessor": "function pageprocessorWebStudyCoursesPage3(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    var appCont = angular.element(document.querySelector('.app-content'));\r\n    appCont.addClass('content-area');\r\n    $rootScope.sylfrompage = \"page3\"; \r\n    \r\n    $scope.trustHtml = function(html) {\r\n        return $sce.trustAsHtml(html);\r\n    }\r\n\r\n    $scope.forum = $rootScope.forum;\r\n    $scope.forum.toggleclass = \"fa fa-plus-circle fa-2x\";\r\n    $scope.forum.toggle = true;\r\n    $scope.forumPosts = [];\r\n    $scope.startnewthread = false;\r\n    $scope.toggleSchedule = function(forum) {\r\n        forum.toggle = !forum.toggle;\r\n        if (forum.toggle) {\r\n            forum.toggleclass = \"fa fa-plus-circle fa-2x\";\r\n        } else {\r\n            forum.toggleclass = \"fa fa-minus-circle fa-2x\";\r\n        }\r\n    }\r\n\r\n    $scope.sanitizeForumPosts = function() {\r\n        angular.forEach($scope.forumPosts, function(value, key) {\r\n            value.toggleclass = \"fa fa-plus-circle fa-2x\";\r\n            value.toggle = true;\r\n        });\r\n    }\r\n    $scope.loadBoard = function() {\r\n        $scope.startnewthread = false;\r\n        var url = $rootScope.WebStudyURL + \"/services/data/RVCC/WebStudy/WebStudyForumboard\";\r\n        var postdata = \"forumId=\" + $scope.forum.forumId;\r\n        $rootScope.postWSAPI(url, postdata, function(data) {\r\n            $scope.forumPosts = data.posts;\r\n            $scope.startnewthread = data.startnewthread;\r\n            $scope.sanitizeForumPosts();\r\n            console.log($scope.forumPosts);\r\n            $scope.normalizeImageUrl();\r\n            $.unblockUI();\r\n        });\r\n    }\r\n    $scope.loadBoard();\r\n    $scope.normalizeImageUrl = function() {\r\n        setTimeout(function() {\r\n            var images = $(\"#appContent img\");\r\n            $.each(images, function(key, val) {\r\n                if (val.getAttribute(\"src\").indexOf(\"/webcourses/\") === 0) {\r\n                    val.src = \"https://cms5.webstudy.com\" + val.getAttribute(\"src\");\r\n                }\r\n                console.log(val.src);\r\n            });\r\n        }, 2000);\r\n    }\r\n    $scope.showReply = function(post) {\r\n        $scope.modaltype = \"reply\";\r\n        $scope.subject = post.subject;\r\n        $scope.message = \"\";\r\n        $scope.curpost = post;\r\n        $rootScope.toggle(\"replyThreadModal\");\r\n    }\r\n    $scope.showStartNewThread = function() {\r\n        $scope.modaltype = \"createthread\";\r\n        $scope.subject = \"\";\r\n        $scope.message = \"\";\r\n        $rootScope.toggle(\"replyThreadModal\");\r\n    }\r\n    $scope.replyThread = function() {\r\n        if ($scope.modaltype === \"reply\") {\r\n            if ($scope.message != \"\") {\r\n                var url = $rootScope.WebStudyURL + \"/services/data/RVCC/WebStudy/webStudyForumThreadReply2\";\r\n                var postdata = \"forumId=\" + $scope.forum.forumId + \"&subject=\" + encodeURIComponent($scope.subject) +\r\n                    \"&content=\" + encodeURIComponent($scope.message) + \"&replyid=\" + $scope.curpost.id + \"&msglevel=\" + $scope.curpost.msglevel;\r\n                $rootScope.postWSAPI(url, postdata, function(data) {\r\n                    console.log(data);\r\n                    $scope.loadBoard();\r\n                    $rootScope.toggle(\"replyThreadModal\");\r\n                    $.unblockUI();\r\n                });\r\n            }\r\n        }else if ($scope.modaltype === \"createthread\") {\r\n            if ($scope.message != \"\") {\r\n                var url = $rootScope.WebStudyURL + \"/services/data/RVCC/WebStudy/webStudyForumCreateNewThread\";\r\n                var postdata = \"forumId=\" + $scope.forum.forumId + \"&subject=\" + encodeURIComponent($scope.subject) +\r\n                    \"&content=\" + encodeURIComponent($scope.message);\r\n                $rootScope.postWSAPI(url, postdata, function(data) {\r\n                    console.log(data);\r\n                    $scope.loadBoard();\r\n                    $rootScope.toggle(\"replyThreadModal\");\r\n                    $.unblockUI();\r\n                });\r\n            }\r\n        }\r\n    }\r\n}"
        }
      ]
    },
    {
      "id": 12304,
      "name": "WebStudyNews",
      "displayname": "News",
      "logo": "RVCC/WebStudyNews.png",
      "logourl": "RVCC/WebStudyNews.png",
      "description": "WebStudyNews",
      "appFeatureType": "WebStudy",
      "roles": null,
      "showInDock": false,
      "showInHome": false,
      "networkrequired": true,
      "analytics": false,
      "pages": 
      [
        {
          "pageid": "WebStudyNews",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorWebStudyNews(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n\r\n    $scope.showDialog = false;\r\n    $scope.messages = [];\r\n    $scope.msgIndex = -1;\r\n    $scope.courselist = [];\r\n    $rootScope.courseid = \"\";\r\n    $rootScope.coursename = \"\";\r\n    $rootScope.category = \"\";\r\n    $rootScope.news = \"\";\r\n    $scope.courseid = \"\";\r\n    $scope.readMsg = false;\r\n\r\n    if ($rootScope.lastPage) {\r\n        $rootScope.lastPage = \"\";\r\n        $scope.courselist = $rootScope.courselist;\r\n    } else {\r\n        var url = $rootScope.WebStudyURL + \"/services/data/RVCC/WebStudy/WebStudyCourses\";\r\n\r\n        $rootScope.postWSAPI(url, '', function(data) {\r\n            $.unblockUI();\r\n            //if (window.device) {\r\n                var formatres = JSON.parse(data.courseinfo);\r\n                data.courseinfo = formatres;\r\n            //}\r\n            if (data.courseinfo && data.courseinfo.Items.length > 0) {\r\n                $scope.courselist = data.courseinfo.Items;\r\n            } \r\n\r\n            \r\n            if (!data.courseinfo || data.courseinfo.Items.length == 0) {\r\n                var gotoHome = function() {\r\n                    $rootScope.$apply(function() {\r\n                        $location.path(\"/home\");\r\n                    });\r\n                };\r\n                if (window.device) {\r\n                    navigator.notification.alert(\"No course information found.\", gotoHome, 'My Courses', 'OK');\r\n                } else {\r\n                    apprise(\"No course information found.\", {\r\n                        'verify': false,\r\n                        'textYes': \"Ok\"\r\n                    }, function(r) {\r\n                        gotoHome();\r\n                    });\r\n                }\r\n            }  /*else {\r\n                angular.forEach($scope.courselist, function(xvalue, xkey) {\r\n                    angular.forEach(xvalue.courses, function(yvalue, ykey) {\r\n                        var vcid = yvalue.cid;\r\n                        var n1 = vcid.indexOf(\"(\") + 1;\r\n                        var n2 = vcid.indexOf(\")\");\r\n                        yvalue.courseid = vcid.substring(n1, n2);\r\n                        yvalue.category = xvalue.name;\r\n                        console.log(yvalue.courseid);\r\n                    });\r\n                });\r\n\r\n            } */\r\n        });\r\n    }\r\n\r\n    $scope.showDetails = function(crse,category) {\r\n        //console.log(crse);\r\n        $rootScope.courseid = crse.Id;\r\n        $rootScope.coursename = crse.Name;\r\n        $rootScope.category = category;\r\n        $scope.courseid = crse.Id;\r\n\r\n        var gurl = $rootScope.WebStudyURL + \"/services/data/RVCC/WebStudy/WebStudyCourseSyllabus\";\r\n        $rootScope.postWSAPI(gurl,\"courseid=\"+crse.Id,function(data) {           \r\n            if (data.msgsjson && data.msgsjson.data.length > 0) {\r\n                //needs confirmation. show dialog boxes\r\n                $scope.showDialog = true;\r\n                $scope.messages = data.msgsjson.data;\r\n                $scope.msgIndex = 0;\r\n                console.log($scope.messages[$scope.msgIndex][1]);\r\n            } else {\r\n                var gurl1 = $rootScope.WebStudyURL + \"/services/data/RVCC/WebStudy/WebStudyNews\";\r\n                $rootScope.postWSAPI(gurl1,\"courseid=\"+crse.Id,function(data1) {\r\n                    $rootScope.news = data1.news;\r\n                    $location.path(\"/app/WebStudyNews/WebStudyNewsPage2\");\r\n                });                \r\n            }\r\n\r\n        });\r\n\r\n\r\n    }\r\n\r\n    $scope.trusthtml = function (data) {\r\n        return $sce.trustAsHtml(data);\r\n    } \r\n\r\n    $scope.iterateMsg = function() {\r\n        if (!$scope.readMsg) {\r\n            var gotoHome = function() {\r\n                return;\r\n            };\r\n            if (window.device) {\r\n                navigator.notification.alert(\"Please tick the checkbox 'I confirm that I have read' before proceeding.\", gotoHome, 'My Courses', 'OK');\r\n            } else {\r\n                apprise(\"Please tick the checkbox 'I confirm that I have read' before proceeding.\", {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function(r) {\r\n                    gotoHome();\r\n                });\r\n            }   \r\n            return;         \r\n        }        \r\n        var gurl = $rootScope.WebStudyURL + \"/services/data/RVCC/WebStudy/WebStudyCourseConfirmAnnouncement\";\r\n        var newsid = $scope.messages[$scope.msgIndex][0];\r\n        $rootScope.postWSAPI(gurl,\"newsid=\"+newsid,function(data) {\r\n             if ($scope.msgIndex < $scope.messages.length -1) {\r\n               $scope.msgIndex++;\r\n            } else {\r\n                var gurl1 = $rootScope.WebStudyURL + \"/services/data/RVCC/WebStudy/WebStudyNews\";\r\n                $rootScope.postWSAPI(gurl1,\"courseid=\"+$scope.courseid,function(data1) {\r\n                    $rootScope.news = data1.news;\r\n                    $location.path(\"/app/WebStudyNews/WebStudyNewsPage2\");\r\n                });                \r\n            }           \r\n        });         \r\n\r\n    }\r\n\r\n    $rootScope.back = function() {\r\n        if ($routeParams.from) {\r\n           if (window.device) {\r\n                if (device.platform == 'iOS') {\r\n                    history.go(-1);\r\n                } else {\r\n                    navigator.app.backHistory();\r\n                }\r\n           } else {\r\n             $location.path(\"/app/WebStudy/WebStudy\");\r\n           }\r\n        } else {\r\n            window.location.href = \"index.html#home\";\r\n        }\r\n    }\r\n\r\n    \r\n}",
          "datatemplate": "<div style=\"margin:4px;\" ng-show=\"!showDialog\">\r\n    <div>\r\n        <h2 style=\"color:#fff;text-shadow:2px 2px #000;font-family:Trebuchet MS,Arial;\"> Course Sessions: <h2>\r\n\t<\/div>\r\n\t<div class=\"panel panel-primary\" ng-repeat=\"course in courselist\">\r\n\t\t<div class=\"panel-heading\">\r\n\t\t\t<div class=\"panel-title\">{{course.Name}} <\/div>\r\n\t\t<\/div>\r\n\t\t<div class=\"list-group\">\r\n\t\t\t<div  class=\"list-group-item\" ng-repeat=\"crse in course.Items\"  ng-click=\"showDetails(crse,course.Name)\"> \r\n\t\t\t\t<div class=\"row clearfix\">\r\n\t\t\t\t\t<div class=\"col-xs-9 col-md-9\">\r\n\t\t\t\t\t\t{{crse.Name}}\r\n\t\t\t\t\t<\/div>\r\n                    \r\n\t\t\t\t\t<div class=\"col-xs-3 col-md-3\">\r\n\t\t\t\t\t\t<i class=\"fa fa-chevron-right pull-right\"><\/i>\r\n\t\t\t\t\t<\/div>\r\n                    \r\n\t\t\t\t<\/div>\r\n\t\t\t<\/div>\r\n\t\t<\/div>\r\n\t<\/div>\r\n<\/div>\r\n<div class=\"well\" ng-show=\"showDialog\" style=\"margin:6px;\">\r\n\t<div id=\"msgSection\">\r\n\t\t<p ng-bind-html=\"trusthtml(messages[msgIndex][1])\"><\/p>\r\n\t<\/div>\r\n\t<div class=\"list-group-item clearfix\">\r\n\t\t<div class=\"checkbox\">\r\n\t\t  <label><input type=\"checkbox\" ng-model=\"readMsg\" value=\"\">I confirm that I have read<\/label>\r\n\t\t<\/div>\r\n\t\t<div class=\"btn btn-default pull-right\" ng-click=\"iterateMsg();\">Next<\/div>\r\n\t<\/div>\r\n<\/div>",
          "endpoint": "/"
        },
        {
          "pageid": "WebStudyNewsPage2",
          "pageTemplate": "<div><\/div>",
          "endpoint": "",
          "pageprocessor": "function pageprocessorWebStudyNewsPage2(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    var appCont = angular.element( document.querySelector( '.app-content' ) );\r\n    appCont.addClass('content-area');\r\n\r\n    $scope.news = $rootScope.news;\r\n    $scope.courseid = $rootScope.courseid;\r\n    $scope.coursename = $rootScope.coursename;\r\n    $scope.category = $rootScope.category;\r\n    $scope.wsusername = $rootScope.wsusername;\r\n\r\n    $scope.trusthtml = function (data) {\r\n        return $sce.trustAsHtml(data.split(\"\\n\").join(\"<br/>\"));\r\n    } \r\n    \r\n}",
          "datatemplate": "<style>\r\n    .content-area {\r\n        height:100% !important;\r\n        width:100% !important;\r\n        background: #fff !important;\r\n    }\r\n    .list-group-accordian {\r\n        padding: 5px;\r\n        padding-bottom: 0px;\r\n    }\r\n\r\n\r\n    .list-group-item-accordian {\r\n      border-radius: 4px !important;\r\n      -webkit-border-radius : 4px !important;\r\n      background: #414A3E;\r\n      color: #fff;\r\n      border-bottom: 1px solid #666666;\r\n      box-shadow: 0px 6px 10px -8px #000;   \r\n      text-overflow:ellipsis;     \r\n    }\r\n\r\n    .list-group-item-head-text {\r\n        font-size: 1.4em;\r\n        color:#fff;\r\n    }\r\n    .text-nowrap {\r\n      white-space: nowrap;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;        \r\n    }\r\n    .detail-list-group-item {\r\n        /*background:rgba(255,255,255,0.6);*/\r\n        -webkit-transition:all 1s ease;\r\n        transition:all 1s ease;\r\n    }    \r\n<\/style>\r\n<div >\r\n    <div class=\"list-group-item\" style=\"background:#414a3e;color:#fff;border-bottom:none;\">\r\n        <div class=\"ng-binding\" style=\"font-size: 1.2em;font-family:Trebuchet MS, Arial;margin-bottom: 5px;\">\r\n        {{coursename}} \r\n        <\/div>      \r\n        <i style=\"font-size:1em;\">{{category}}<\/i>\r\n    <\/div>  \r\n    <div class=\"list-group\" ng-show=\"news.length > 0\">\r\n        <div class=\"list-group-item\" style=\"background:#e3e3e3;min-height:20px;\" ng-repeat=\"nw in news\">\r\n            <div class=\"row clearfix\">\r\n                <div class=\"col-xs-1 col-md-1\" style=\"text-align:left;margin:0px;padding:0px;\">\r\n                    <img ng-if=\"nw.status.length > 0 && nw.status[0].src\" ng-src=\"https://cms5.webstudy.com{{nw.status[0].src}}\" alt=\"{{nw.status[0].alt}}\" title=\"{{nw.status[0].title}}\"/>\r\n                <\/div>\r\n                <div class=\"col-xs-11 col-md-11\" style=\"margin-left:0px;padding-left:0px;\">\r\n                      <div>\r\n                        <span class=\"1pull-right\" style=\"color:#3333\">\r\n                          <img ng-if=\"nw.cat.length > 0 && nw.cat[0].src\" ng-src=\"https://cms5.webstudy.com{{nw.cat[0].src}}\" alt=\"{{nw.cat[0].alt}}\" title=\"{{nw.cat[0].title}}\"/>\r\n                          <strong ng-show=\"nw.cat.length > 0 && nw.cat[0].text\">{{nw.cat[0].text}}<\/strong>\r\n                        <\/span>\r\n                      <\/div>\r\n                      <div><p ng-bind-html=\"trusthtml(nw.title)\"><\/p><\/div>\r\n                      <div>\r\n                        <span class=\"pull-right\">\r\n                          <img ng-if=\"nw.dt.length > 0 && nw.dt[0].src\" ng-src=\"https://cms5.webstudy.com{{nw.dt[0].src}}\" alt=\"{{nw.dt[0].alt}}\" title=\"{{nw.dt[0].title}}\"/>\r\n                          <strong ng-show=\"nw.dt.length > 0 && nw.dt[0].text\">{{nw.dt[0].text}}<\/strong>                        \r\n                        <\/span>\r\n\r\n                      <\/div>\r\n                      <div>\r\n                        <span>\r\n                          <img ng-if=\"nw.confirmation[0].src\" ng-src=\"https://cms5.webstudy.com{{nw.confirmation[0].src}}\" alt=\"{{nw.confirmation[0].alt}}\" title=\"{{nw.confirmation[0].title}}\"/>\r\n                        <\/span>&nbsp;&nbsp;&nbsp;{{nw.confirmation[0].title}}  \r\n                      <\/div>                 \r\n                <\/div>\r\n            <\/div>\r\n        <\/div>\r\n   <\/div>\r\n    <div class=\"alert alert-danger\" ng-show=\"news.length == 0\">No news exists yet.<\/div>\r\n<\/div>"
        }
      ]
    },
    {
      "id": 10643,
      "name": "News",
      "displayname": "Calendar",
      "logo": "RVCC/News.png",
      "logourl": "RVCC/News.png",
      "description": "Campus Events Feeds",
      "appFeatureType": "Public",
      "roles": "public",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "News",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorNews(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  $.blockUI();\r\n  //var newRssFeed = \"http://commons.raritanval.edu/Lists/Events%20Calendar/rss.aspx\";\r\n  var data = '<div class=\"row-fluid\"><\/div>';\r\n  data = $(data).append($(pagedef.datatemplate));\r\n  var data1 = $compile($(data))($scope);\r\n  $('#appContent').append(data1);\r\n\r\n\r\n  var rssreaderUrl = \"https://kryptosda.kryptosmobile.com/kryptosds/rss/rssreader\";\r\n  var param = {\r\n    \"url\": pagedef.url\r\n  };\r\n  $http.post(rssreaderUrl, param, '').success(function(data, status, headers, config) {\r\n    var feedResults = data.feed.entries;\r\n    var now = new Date();\r\n    var filteredResult = [];\r\n    var fromDate = new Date().setHours(0, 0, 0, 0);\r\n    var toDate = new Date().setHours(24, 0, 0, 0);\r\n    $.each(feedResults, function(key, val) {\r\n\r\n      var evDate = $scope.findDate(val.content);\r\n      var feedDate = new Date(evDate);\r\n      if (feedDate >= fromDate && feedDate <= toDate || feedDate > fromDate) {\r\n\r\n        filteredResult.push(val);\r\n      }\r\n\r\n\r\n    });\r\n\r\n\r\n    filteredResult.sort(function(a, b) {\r\n      var aEvDate = $scope.findDate(a.content);\r\n      var bEvDate = $scope.findDate(b.content);\r\n\r\n      if (new Date(aEvDate) < new Date(bEvDate))\r\n        return -1;\r\n      if (new Date(aEvDate) > new Date(bEvDate))\r\n        return 1;\r\n      return 0;\r\n    });\r\n    $scope.feeds = filteredResult;\r\n    $rootScope.feeds = filteredResult;\r\n\r\n    $scope.$apply();\r\n    $.unblockUI();\r\n  }).error(function(error, status, header, config) {\r\n    //alert(JSON.stringify(error));\r\n    $.unblockUI();\r\n  });\r\n\r\n\r\n\r\n\r\n  $scope.findDate = function(stringDate) {\r\n    //var str =stringDate.substring(stringDate.lastIndexOf(\"Start Time:<\/b> \"),stringDate.lastIndexOf(\"<\/div>\\n<div><b>End Time\"));\r\n\r\n    var str = stringDate.match(\"Start Time:<\/b> (.*)<\/div>\\n<div><b>End Time\");\r\n\r\n    return str[1];\r\n  };\r\n  $scope.findLocation = function(stringLocation) {\r\n\r\n    var str1 = stringLocation.match(\"Location:<\/b> (.*)<\/div>\");\r\n\r\n    return str1[1];\r\n  };\r\n}",
          "datatemplate": "<style>\r\n  .list-group-item {\r\n    padding: 15px !important;\r\n    background: transparent !important;\r\n  }\r\n  \r\n  .loc {\r\n    padding-right: 15px;\r\n  }\r\n<\/style>\r\n<div class=\"list-group\">\r\n  <a href=\"#app/News/NewsDetails?index={{$index}}\" class=\"list-group-item\" ng-repeat=\"feed in feeds | filter:filterText\">\r\n    <h4 style=\"color:#008430;\">{{feed.title}}\r\n<i class=\"pull-right fa fa-chevron-right\"><\/i><\/h4>\r\n    <p class=\"text-left\" style=\"display:none;\">{{feed.contentSnippet}}<\/p>\r\n    <span ng-bind=\"findDate(feed.content) | date:'EEE, MMM dd, y h:mm a'\"><\/span>\r\n    <span class=\"loc pull-right\" ng-bind=\"findLocation(feed.content)\"><\/span>\r\n  <\/a>\r\n<\/div>",
          "url": "https://commons.raritanval.edu/_layouts/15/listfeed.aspx?List=%7BA23C3A2B-2418-4C37-AB13-2E4AE2B90D39%7D"
        },
        {
          "pageid": "NewsDetails",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorNewsDetails(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  $scope.feed = $rootScope.feeds[$routeParams.index];\r\n  $scope.openurl = function() {\r\n    window.open($scope.feed.link, \"_blank\", \"location=yes,enableViewportScale=yes\");\r\n  };\r\n  var template = pagedef.datatemplate;\r\n  var data1 = $compile($(template))($scope);\r\n  $(\"#appContent\").append(data1);\r\n  \r\n  $scope.trusthtml = function(data) {\r\n    return $sce.trustAsHtml(data);\r\n  }\r\n\r\n  setTimeout(function() {\r\n    $(\"#content div:contains(Target Aud)\").css(\"display\", \"none\");\r\n    $(\"#content div:contains(Post to Web)\").css(\"display\", \"none\");\r\n    $(\"#content div:contains(Featured)\").css(\"display\", \"none\");\r\n    $(\"#content div:contains(Read More URL)\").css(\"word-break\", \"break-all\");\r\n    $(\"#content a\").on(\"click\", function(eve) {\r\n\r\n      var link = $(this).attr('href');\r\n      if (link.indexOf(\"mailto:\") > -1 || link.indexOf(\"tel:\") > -1) {} else {\r\n        eve.preventDefault();\r\n\r\n        window.open(link, \"_blank\", \"location=yes,enableViewportScale=yes\");\r\n      }\r\n    });\r\n\r\n  }, 500);\r\n}",
          "datatemplate": "<div class=\"jumbotron\" style=\"background:transparent !important\">\r\n  <h4 class=\"page-header\" style=\"border-bottom: 1px solid #fff; font-weight: bold;color:#008430;font-size:19px;\">{{feed.title}}<\/h4>\r\n  <p class=\"small\" ng-bind-html=\"trusthtml(feed.content)\" id=\"content\" style=\"color:#fff;\"><\/p>\r\n  <!--<p class=\"small\">Published on : {{feed.publishedDate}}<\/p>\r\n<a class=\"btn btn-primary btn-block\" ng-click=\"openurl();\">More Details<\/a>-->\r\n<\/div>"
        }
      ]
    },
    {
      "id": 11225,
      "name": "Athletics",
      "displayname": "Athletics",
      "logo": "RVCC/Athletics.png",
      "logourl": "RVCC/Athletics.png",
      "description": "Athletics",
      "appFeatureType": "Public",
      "roles": "public",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "Athletics",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorAthletics(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {$.blockUI();$scope.feedlist = $.parseJSON(pagedef.feedlist).feedlist;$rootScope.feedlist = $.parseJSON(pagedef.feedlist).feedlist;var template = pagedef.datatemplate;var data1 = $compile($(template))($scope);$(\"#appContent\").append(data1);$.unblockUI();}",
          "datatemplate": "<style>\r\n    #branding {\r\n        display: none;\r\n    }\r\n<\/style>\r\n<div class=\"list-group\" style=\"margin:10px;\">\r\n    <a href=\"#app/Athletics/AthleticsFeed?index={{$index}}\" class=\"list-group-item\" style=\"background-color:#101010;padding:5px;margin-top:5px;border-radius:5px\" ng-repeat=\"feed in feedlist | filter:filterText\">\r\n        <div class=\"clearfix\" style=\"color: #CE9601;\" >\r\n            <h4>&nbsp;&nbsp;<i class=\"fa fa-star\" style=\"color:#009743;\"><\/i>&nbsp;&nbsp;{{feed.name}}\r\n        \t\t<i style=\"padding-top:3px;\" class=\"fa fa-chevron-right pull-right\"><\/i>\r\n            <\/h4>\r\n        <\/div>\r\n    <\/a>\r\n<\/div>",
          "feedlist": "{\r\n  \"feedlist\": [{\r\n    \"name\": \"Cross Country\",\r\n    \"newsurl\": \"http://rvccathletics.com/sports/xc/headlines-featured?feed=rss_2.0\",\r\n    \"schurl\": \"http://rvccathletics.com/sports/xc/{{curr-next}}/schedule?print=rss\",\r\n    \"scourl\": \"http://rvccathletics.com/sports/xc/{{curr-next}}/schedule?print=rss\"\r\n  }, {\r\n    \"name\": \"Soccer (Men's)\",\r\n    \"newsurl\": \"http://rvccathletics.com/sports/msoc/headlines-featured?feed=rss_2.0\",\r\n    \"schurl\": \"http://rvccathletics.com/sports/msoc/{{curr-next}}/schedule?print=rss\",\r\n    \"scourl\": \"http://rvccathletics.com/sports/msoc/{{curr-next}}/schedule?print=rss\"\r\n  }, {\r\n    \"name\": \"Basketball (Men's)\",\r\n    \"newsurl\": \"http://rvccathletics.com/sports/mbkb/headlines-featured?feed=rss_2.0\",\r\n    \"schurl\": \"http://rvccathletics.com/sports/mbkb/{{curr-next}}/schedule?print=rss\",\r\n    \"scourl\": \"http://rvccathletics.com/sports/mbkb/{{curr-next}}/schedule?print=rss\"\r\n  }, {\r\n    \"name\": \"Baseball\",\r\n    \"newsurl\": \"http://rvccathletics.com/sports/bsb/headlines-featured?feed=rss_2.0\",\r\n    \"schurl\": \"http://rvccathletics.com/sports/bsb/{{curr-next}}/schedule?print=rss\",\r\n    \"scourl\": \"http://rvccathletics.com/sports/bsb/{{curr-next}}/schedule?print=rss\"\r\n  }, {\r\n    \"name\": \"Soccer (Women's)\",\r\n    \"newsurl\": \"http://rvccathletics.com/sports/wsoc/headlines-featured?feed=rss_2.0\",\r\n    \"schurl\": \"http://rvccathletics.com/sports/wsoc/{{curr-next}}/schedule?print=rss\",\r\n    \"scourl\": \"http://rvccathletics.com/sports/wsoc/{{curr-next}}/schedule?print=rss\"\r\n  }, {\r\n    \"name\": \"Volleyball (Women's)\",\r\n    \"newsurl\": \"http://rvccathletics.com/sports/wvball/headlines-featured?feed=rss_2.0\",\r\n    \"schurl\": \"http://rvccathletics.com/sports/wvball/{{curr-next}}/schedule?print=rss\",\r\n    \"scourl\": \"http://rvccathletics.com/sports/wvball/{{curr-next}}/schedule?print=rss\"\r\n  }, {\r\n    \"name\": \"Softball\",\r\n    \"newsurl\": \"http://rvccathletics.com/sports/sball/headlines-featured?feed=rss_2.0\",\r\n    \"schurl\": \"http://rvccathletics.com/sports/sball/{{curr-next}}/schedule?print=rss\",\r\n    \"scourl\": \"http://rvccathletics.com/sports/sball/{{curr-next}}/schedule?print=rss\"\r\n  }, {\r\n    \"name\": \"Basketball (Women's)\",\r\n    \"newsurl\": \"http://rvccathletics.com/sports/wbkb/headlines-featured?feed=rss_2.0\",\r\n    \"schurl\": \"http://rvccathletics.com/sports/wbkb/{{curr-next}}/schedule?print=rss\",\r\n    \"scourl\": \"http://rvccathletics.com/sports/wbkb/{{curr-next}}/schedule?print=rss\"\r\n  }]\r\n}"
        },
        {
          "pageid": "AthleticsDetails",
          "pageTemplate": "<div><\/div>",
          "datatemplate": "<style>\r\n  .app {\r\n    background: #fff !important;\r\n    overflow-x: hidden;\r\n  }\r\n<\/style>\r\n<div ng-show=\"type == 'news'\">\r\n  <div class=\"jumbotron\" style=\"background:transparent; color:#fff;height:100%;margin-bottom:0\">\r\n    <h4 class=\"page-header\">{{feed.title}}<\/h4>\r\n    <!--<h4 style=\"text-align:center;\">{{feed.date}}<\/h4>-->\r\n\r\n    <p id=\"content\" class=\"small\" ng-bind-html=\"trusthtml(feed.content)\" style=\"color:#fff !important\"><\/p>\r\n\r\n\r\n    <p class=\"small\">Published on : {{feed.pubDate}}<\/p><a class=\"btn btn-primary btn-block\" ng-click=\"openurl();\" style=\"background:#422980; border:none;\">View Full Article<\/a>\r\n  <\/div>\r\n<\/div>\r\n<div ng-show=\"type == 'sch'\">\r\n  <div class=\"jumbotron\" style=\"background:transparent;color:#fff;\">\r\n    <h4 class=\"page-header\">{{feed.title}}<\/h4>\r\n    <p class=\"small\">{{feed.description}}<\/p>\r\n    <span class=\"small\" ng-bind=\"convertToDate(feed.date) | date:'EEE, MMM dd, y h:mm a'\"><\/span>\r\n    <a class=\"btn btn-primary btn-block\" ng-click=\"openurl();\">View Web Site<\/a><\/div>\r\n<\/div>\r\n\r\n<div ng-show=\"type == 'sco'\">\r\n  <div class=\"jumbotron\" style=\"background:transparent;color:#fff;\">\r\n    <h4 class=\"page-header\">{{feed.title}}<\/h4>\r\n    <p class=\"small\">{{feed.description}}<\/p>\r\n    <!--<p class=\"small\">Published on : {{feed.date}}<\/p>-->\r\n    <span class=\"small\" ng-bind=\"convertToDate(feed.date) | date:'EEE, MMM dd, y h:mm a'\"><\/span>\r\n    <a class=\"btn btn-primary btn-block\" ng-click=\"openurl();\">View Web Site<\/a><\/div>\r\n<\/div>",
          "pageprocessor": "function pageprocessorAthleticsDetails(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var type = $routeParams.type;\r\n\r\n $scope.type = type;\r\n    if (type == \"news\") {\r\n        $scope.feed = $rootScope.newsfeeds[$routeParams.index];\r\n\r\n    \t//var iabRef=window.open($scope.feed.link, \"_blank\", \"location=no\");\r\n      \tvar template = pagedef.datatemplate;\r\n    \tvar data1 = $compile($(template))($scope);\r\n    \t$(\"#appContent\").append(data1);\r\n      \r\n    } else if (type == \"sch\") {\r\n        $scope.feed = $rootScope.schfeeds.channel.item[$routeParams.index];\r\n    \t//var iabRef=window.open($scope.feed.link, \"_blank\", \"location=no\");\r\n      \tvar template = pagedef.datatemplate;\r\n    \tvar data1 = $compile($(template))($scope);\r\n    \t$(\"#appContent\").append(data1);\r\n    } else if (type == \"sco\") {\r\n        $scope.feed = $rootScope.scofeeds[$routeParams.index];\r\n\r\n      \t//var iabRef=window.open($scope.feed.link, \"_blank\", \"location=no\");\r\n      \tvar template = pagedef.datatemplate;\r\n    \tvar data1 = $compile($(template))($scope);\r\n    \t$(\"#appContent\").append(data1);\r\n      \r\n    }\r\n    $scope.openurl = function () {\r\n        window.open($scope.feed.link, \"_blank\", \"location=no\");\r\n    };\r\n    /*var template = pagedef.datatemplate;\r\n    var data1 = $compile($(template))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    */\r\n  \r\n    /*var iabClose = function(data) {\r\n        window.location.href = \"index.html#Athletics/AthleticsFeed\";\r\n    };\r\n    iabRef.addEventListener(\"exit\", iabClose);*/\r\n\r\n$scope.trusthtml = function(data) {\r\n        return $sce.trustAsHtml(data);\r\n    };\r\n\r\n$scope.convertToDate = function(stringDate) {\r\n        var dateOut = new Date(stringDate);\r\n        dateOut.setDate(dateOut.getDate());\r\n        return dateOut;\r\n    };\r\n}"
        },
        {
          "pageid": "AthleticsFeed",
          "pageTemplate": "<div><\/div>",
          "datatemplate": "<style>\r\n  .app {\r\n    background: #fff !important;\r\n    overflow-x: hidden !important;\r\n    max-width: 100%;\r\n  }\r\n  \r\n  #branding {\r\n    display: none;\r\n  }\r\n  \r\n  .btn.active {\r\n    background-color: #008430 !important;\r\n    border-color: #008430 !important;\r\n    /*box-shadow: 0 5px 5px #000 !important;*/\r\n    color: #fff;\r\n  }\r\n<\/style>\r\n<!--<div class=\"btn-group justified nav-tabs\">\r\n  <a style=\"border-radius:0px;\" class=\"btn btn-default btn-xs\" href=\"#Tab1\" toggle=\"on\" active-class=\"active\"><i class=\"fa fa-bars\"><\/i><br/>News<\/a>\r\n  <a style=\"border-radius:0px;\" class=\"btn btn-default btn-xs\" href=\"#Tab2\" toggle=\"on\" active-class=\"active\"><i class=\"fa fa-calendar\"><\/i><br/>Schedule<\/a>\r\n  <a style=\"border-radius:0px;\" class=\"btn btn-default btn-xs\" href=\"#Tab3\" toggle=\"on\" active-class=\"active\"><i class=\"fa fa-signal\"><\/i><br/>Scores<\/a>\r\n<\/div>-->\r\n<div class=\"tab-content\" style=\"margin-bottom:-20px;background:#000;\">\r\n  <div class=\"tab-pane\" toggleable active-class=\"active\" default=\"active\" id=\"Tab1\" exclusion-group=\"myTabs\">\r\n    <div class=\"media-list list-group\">\r\n      <div class=\"list-group-item\" ng-show=\"newsfeeds == null || newsfeeds.length == 0\">\r\n        <div class=\"alert alert-info\">No data available<\/div>\r\n      <\/div>\r\n      <a href=\"#app/Athletics/AthleticsDetails?index={{$index}}&type=news\" class=\"list-group-item\" ng-repeat=\"feed in newsfeeds\" style=\"min-height:60px; padding:10px 5px;\">\r\n        <img width=\"80\" heigth=\"60\" src=\"{{feed.enclosure.url}}\" style=\"border-radius:10px;margin-right:10px;\" class=\"pull-left\"><\/img>\r\n        <h5 style=\"color:#008430;font-weight:bold;\">{{feed[\"title\"]}}<\/h5>\r\n        <p ng-hide=\"feed.contentSnippet=='' || feed.contentSnippet==null\" class=\"text-left\" style='color:#000'>{{feed.contentSnippet | limitTo:90}}....<\/p><span class=\"small\" style='color:#000'>Posted Date: {{feed.pubDate}}<\/span>\r\n        <br ng-if=\"feed.contentSnippet=='' || feed.contentSnippet==null\">\r\n        <br ng-if=\"feed.contentSnippet=='' || feed.contentSnippet==null\">\r\n\r\n      <\/a>\r\n    <\/div>\r\n  <\/div>\r\n  <div class=\"tab-pane\" toggleable active-class=\"active\" id=\"Tab2\" exclusion-group=\"myTabs\">\r\n    <div class=\"list-group\">\r\n      <div class=\"list-group-item\" ng-show=\"schfeeds == null || schfeeds.channel.item.length == 0\">\r\n        <div class=\"alert alert-info\">No data available<\/div>\r\n      <\/div>\r\n      <a style=\"box-shadow:0 0 10px #000;background:#fff;color:#000;border-bottom:2px solid #fff;\" href=\"#app/Athletics/AthleticsDetails?index={{$index}}&type=sch\" class=\"list-group-item clear-fix\" ng-repeat=\"feed in schfeeds.channel.item\">\r\n\r\n        <div>\r\n          <h5 style=\"font-size:15px;font-weight:bold;color:#008430 !important\">{{feed.title}}<\/h5>\r\n          <!--<p class=\"text-left\">{{feed.startdate}}<\/p>-->\r\n          <span ng-bind=\"convertToDate(feed.date) | date:'medium'\"><\/span>\r\n        <\/div>\r\n        <!--<div class=\"col-xs-4 col-md-4\">\r\n                        <img src=\"{{feed.opponentlogo}}\" style=\"width:80px;height:80px;border-radius:10px;margin-right:10px;\" class=\"pull-right\"><\/img>\r\n                    <\/div>-->\r\n\r\n      <\/a>\r\n    <\/div>\r\n  <\/div>\r\n\r\n  <div class=\"tab-pane\" toggleable active-class=\"active\" id=\"Tab3\" exclusion-group=\"myTabs\">\r\n    <div class=\"list-group\">\r\n      <div class=\"list-group-item\" ng-show=\"scofeeds == null || scofeeds.length == 0\">\r\n        <div class=\"alert alert-info\">No data available<\/div>\r\n      <\/div>\r\n\r\n\r\n      <a style=\"box-shadow:0 0 10px #000;background:#fff;color:#000;border-bottom:2px solid #fff;\" href=\"#app/Athletics/AthleticsDetails?index={{$index}}&type=sco\" class=\"list-group-item\" ng-repeat=\"feed in scofeeds | orderBy :'-pubDate'\">\r\n        <h5 style=\"font-size:15px;font-weight:bold;color:#008430 !important\">{{feed.title}}<\/h5>\r\n        <p class=\"text-left\">{{feed.description}}<\/p>\r\n        <p class=\"text-left\">Score: {{feed.score}}<\/p><span class=\"small\" style='color:#000' ng-bind=\"convertToDate(feed.pubDate) | date:'EEE, MMM dd, y h:mm a'\"><\/span>\r\n      <\/a>\r\n\r\n      <!--<a href=\"#app/Athletics/AthleticsDetails?index={{$index}}&type=sco\" class=\"list-group-item clear-fix\" ng-repeat=\"feed in scofeeds\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-xs-8 col-md-8\">\r\n\r\n                        <h5 style=\"color:#008430;font-weight:bold;\">{{feed.hometeam}} vs {{feed.opponent}}<\/h5>\r\n                        <p class=\"text-left\">{{feed.date}}<\/p>\r\n\r\n                    <\/div>\r\n                    <div class=\"col-xs-4 col-md-4\">\r\n\r\n                        <div ng-show=\"feed.team_score != ''\" style=\"float:left;padding:7px 0 ;width:50%;color:#fff;font-size:22px;text-align: center;margin:0 ;background: gray;\">{{feed.team_score}}<\/div>\r\n                        <div ng-show=\"feed.team_score == null || feed.team_score == ''\" style=\"float:left;padding:7px 0 ;width:50%;color:#fff;font-size:22px;text-align: center;margin:0 ;background: gray;\">X<\/div>\r\n                        <div ng-show=\"feed.opponent_score != ''\" style=\"float:left;padding:7px 0 ;width:50%;color:#fff;font-size:22px;text-align: center;margin:0 ;background: gray;\"> {{feed.opponent_score}}<\/div>\r\n                        <div ng-show=\"feed.opponent_score == null || feed.opponent_score == ''\" style=\"float:left;padding:7px 0 ;width:50%;color:#fff;font-size:22px;text-align: center;margin:0 ;background: gray;\">X<\/div>\r\n                        <div style=\"text-align: center;font-size:19px;\">{{feed.result}}<\/div>\r\n                    <\/div>\r\n                <\/div>\r\n            <\/a>-->\r\n    <\/div>\r\n  <\/div>\r\n<\/div>",
          "pageprocessor": "function pageprocessorAthleticsFeed(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  $rootScope.schfeeds = null;\r\n  $rootScope.scofeeds = null;\r\n  $rootScope.newsfeeds = null;\r\n  $.blockUI();\r\n  var dv = '<div class=\"btn-group justified nav-tabs\">' +\r\n    '<a style=\"border-radius:0px;\" class=\"btn btn-default btn-xs\" href=\"#Tab1\" toggle=\"on\" active-class=\"active\"><i class=\"fa fa-bars\"><\/i><br/>News<\/a>' +\r\n    '<a style=\"border-radius:0px;\" class=\"btn btn-default btn-xs\" href=\"#Tab2\" toggle=\"on\" active-class=\"active\"><i class=\"fa fa-calendar\"><\/i><br/>Schedule<\/a>' +\r\n    '<a style=\"border-radius:0px;\" class=\"btn btn-default btn-xs\" href=\"#Tab3\" toggle=\"on\" active-class=\"active\"><i class=\"fa fa-signal\"><\/i><br/>Scores<\/a>' +\r\n    '<\/div>';\r\n\r\n  $(\".app-content\").prepend($compile(dv)($scope));\r\n  var f = $rootScope.feedlist[$routeParams.index];\r\n  $scope.getimage = function(content) {\r\n\r\n    return $sce.trustAsHtml(content.split('\"')[1]);\r\n  }\r\n  $scope.trustUrl = function(url) {\r\n\r\n    return $sce.trustAsUrl(url);\r\n  }\r\n  $scope.trusthtml = function(data) {\r\n    return $sce.trustAsHtml(data);\r\n  };\r\n  $scope.loadnews = function() {\r\n\r\n    $.blockUI();\r\n    var rssreaderUrl = \"https://kryptosda.kryptosmobile.com/kryptosds/rss/rssreader\";\r\n    var param = {\r\n      \"url\": f.newsurl\r\n    };\r\n    $http.post(rssreaderUrl, param, '').success(function(data, status, headers, config) {\r\n      if (data == '' || data == null) {\r\n        if (window.device) {\r\n          navigator.notification.alert(\"No data available\");\r\n          window.location.href = \"index.html#home\";\r\n          $.unblockUI();\r\n        } else {\r\n          alert(\"No data available\");\r\n          window.location.href = \"index.html#home\";\r\n          $.unblockUI();\r\n        }\r\n      } else {\r\n        $scope.newsfeeds = data.feed.entries;\r\n        $rootScope.newsfeeds = data.feed.entries;\r\n        var data = '<div class=\"row-fluid\"><\/div>';\r\n        data = $(data)\r\n          .append($(pagedef.datatemplate));\r\n        var data1 = $compile($(data))($scope);\r\n        $('#appContent')\r\n          .append(data1);\r\n        $scope.$apply();\r\n        $.unblockUI();\r\n      }\r\n    }).error(function(error, status, header, config) {\r\n      //alert(JSON.stringify(error));\r\n      $.unblockUI();\r\n    });\r\n  };\r\n\r\n  $scope.loadsch = function() {\r\n\r\n    $.blockUI();\r\n    var currYear = (new Date().getFullYear() + '').substring(2);\r\n    var prevYear = parseInt(new Date().getFullYear()) - 1;\r\n\r\n    var url = f.schurl.replace(\"{{curr-next}}\", prevYear + \"-\" + currYear);\r\n   \r\n\r\n    if (window.device) {} else {\r\n      url = \"/websimulator/xml?url=\" + url;\r\n    }\r\n\r\n\r\n    var xhr = $.ajax({\r\n      url: url,\r\n      dataType: \"xml\",\r\n      async: true,\r\n      data: {},\r\n      success: function(resp) {\r\n        var results = $.xml2json(resp);\r\n\r\n        $scope.schfeeds = results;\r\n        $rootScope.schfeeds = results;\r\n\r\n        $scope.$apply();\r\n        $.unblockUI();\r\n      },\r\n      error: function(e) {\r\n        // navigator.notification.alert(\"Schedule could not be loaded at this time. Please try again later\");\r\n        $.unblockUI();\r\n\r\n      }\r\n    });\r\n\r\n\r\n  };\r\n\r\n\r\n  $scope.loadsco = function() {\r\n\r\n    /*$.blockUI();\r\n    var sportsName = f.name;\r\n    var proxyMethod = \"GET\";\r\n    var proxyData = {};\r\n    var urlScore = f.scourl;\r\n    if (window.device) {\r\n\r\n    } else {\r\n        urlScore = \"/websimulator/json?url=\" + encodeURIComponent(f.scourl);\r\n        proxyMethod = \"POST\";\r\n        proxyData = {\r\n            method: \"GET\"\r\n        }\r\n    }\r\n\r\n\r\n    var xhr = $.ajax({\r\n        url: urlScore,\r\n        async: true,\r\n        data: proxyData,\r\n        type: proxyMethod,\r\n        success: function(data) {\r\n            var scoreArray = [];\r\n            for (var i = 0; i < data.scores.length; i++) {\r\n                if (data.scores[i].sport == \"Lady Demon \" + sportsName || data.scores[i].sport == \"Demon \" + sportsName) {\r\n                    scoreArray.push(data.scores[i]);\r\n                }\r\n            }\r\n            $scope.scofeeds = scoreArray;\r\n            $rootScope.scofeeds = scoreArray;\r\n            $scope.$apply();\r\n            //$scope.$digest();\r\n            $.unblockUI();\r\n        },\r\n        error: function(e) {\r\n           // navigator.notification.alert(\"Scores could not be loaded at this time. Please try again later\");\r\n            $.unblockUI();\r\n\r\n        }\r\n    });*/\r\n\r\n\r\n\r\n    $.blockUI();\r\n    \r\n    \r\n    \r\n    var currYear = (new Date().getFullYear() + '').substring(2);\r\n    var prevYear = parseInt(new Date().getFullYear()) - 1;\r\n\r\n    var url = f.scourl.replace(\"{{curr-next}}\", prevYear + \"-\" + currYear);\r\n\r\n    if (window.device) {} else {\r\n      url = \"/websimulator/xml?url=\" + url;\r\n    }\r\n\r\n\r\n    var xhr = $.ajax({\r\n      url: url,\r\n      dataType: \"xml\",\r\n      async: true,\r\n      data: {},\r\n      success: function(resp) {\r\n        var results = $.xml2json(resp);\r\n\r\n        $scope.scofeeds = results.channel.item;\r\n        $rootScope.scofeeds = results.channel.item;\r\n        $scope.$apply();\r\n        $.unblockUI();\r\n      },\r\n      error: function(e) {\r\n        // navigator.notification.alert(\"Schedule could not be loaded at this time. Please try again later\");\r\n        $.unblockUI();\r\n\r\n      }\r\n    });\r\n\r\n\r\n\r\n  };\r\n  var data = \"<div><\/div>\";\r\n  data = $(data)\r\n    .append($(pagedef.datatemplate));\r\n  var data1 = $compile($(data))($scope);\r\n  $(\"#appContent\")\r\n    .append(data1);\r\n  $scope.loadnews();\r\n  $scope.loadsch();\r\n  $scope.loadsco();\r\n  $scope.convertToDate = function(stringDate) {\r\n    var dateOut = new Date(stringDate);\r\n    dateOut.setDate(dateOut.getDate() + 1);\r\n    return dateOut;\r\n  };\r\n\r\n}"
        }
      ]
    },
    {
      "id": 11228,
      "name": "Maps",
      "displayname": "Maps",
      "logo": "RVCC/Maps.png",
      "logourl": "RVCC/Maps.png",
      "description": "Maps",
      "appFeatureType": "Public",
      "roles": null,
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "Maps",
          "pageTemplate": "<div>     <div class=\"list-group-item\" style=\"background:#000;\" style=\"width: 200px;text-align: center;margin: auto;margin-top: -10px;\">         <select id=\"building_selector\" class=\"form-control\" ng-model=\"selitem\" ng-change=\"selectitem();\">             <option name=\"\" value=\"\">--Select Building--<\/option>             <!--<option name=\"\" value=\"{{$index}}\" ng-repeat=\"item in items\">{{item.name}}<\/option>-->             <option name=\"\" value=\"{{$index}}\" ng-repeat=\"item in items\">{{item.name}}<\/option>         <\/select>   <div class=\"btn-group\" ng-show=\"selitem != '' \">             <button type=\"button\" class=\"btn btn-default\" ng-class=\"walkdirection\" ng-click=\"walk();\"> <img alt=\"\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAKRGlDQ1BJQ0MgUHJvZmlsZQAASA2dlndUFNcXx9/MbC+0XZYiZem9twWkLr1IlSYKy+4CS1nWZRewN0QFIoqICFYkKGLAaCgSK6JYCAgW7AEJIkoMRhEVlczGHPX3Oyf5/U7eH3c+8333nnfn3vvOGQAoASECYQ6sAEC2UCKO9PdmxsUnMPG9AAZEgAM2AHC4uaLQKL9ogK5AXzYzF3WS8V8LAuD1LYBaAK5bBIQzmX/p/+9DkSsSSwCAwtEAOx4/l4tyIcpZ+RKRTJ9EmZ6SKWMYI2MxmiDKqjJO+8Tmf/p8Yk8Z87KFPNRHlrOIl82TcRfKG/OkfJSREJSL8gT8fJRvoKyfJc0WoPwGZXo2n5MLAIYi0yV8bjrK1ihTxNGRbJTnAkCgpH3FKV+xhF+A5gkAO0e0RCxIS5cwjbkmTBtnZxYzgJ+fxZdILMI53EyOmMdk52SLOMIlAHz6ZlkUUJLVlokW2dHG2dHRwtYSLf/n9Y+bn73+GWS9/eTxMuLPnkGMni/al9gvWk4tAKwptDZbvmgpOwFoWw+A6t0vmv4+AOQLAWjt++p7GLJ5SZdIRC5WVvn5+ZYCPtdSVtDP6386fPb8e/jqPEvZeZ9rx/Thp3KkWRKmrKjcnKwcqZiZK+Jw+UyL/x7ifx34VVpf5WEeyU/li/lC9KgYdMoEwjS03UKeQCLIETIFwr/r8L8M+yoHGX6aaxRodR8BPckSKPTRAfJrD8DQyABJ3IPuQJ/7FkKMAbKbF6s99mnuUUb3/7T/YeAy9BXOFaQxZTI7MprJlYrzZIzeCZnBAhKQB3SgBrSAHjAGFsAWOAFX4Al8QRAIA9EgHiwCXJAOsoEY5IPlYA0oAiVgC9gOqsFeUAcaQBM4BtrASXAOXARXwTVwE9wDQ2AUPAOT4DWYgSAID1EhGqQGaUMGkBlkC7Egd8gXCoEioXgoGUqDhJAUWg6tg0qgcqga2g81QN9DJ6Bz0GWoH7oDDUPj0O/QOxiBKTAd1oQNYSuYBXvBwXA0vBBOgxfDS+FCeDNcBdfCR+BW+Bx8Fb4JD8HP4CkEIGSEgeggFggLYSNhSAKSioiRlUgxUonUIk1IB9KNXEeGkAnkLQaHoWGYGAuMKyYAMx/DxSzGrMSUYqoxhzCtmC7MdcwwZhLzEUvFamDNsC7YQGwcNg2bjy3CVmLrsS3YC9ib2FHsaxwOx8AZ4ZxwAbh4XAZuGa4UtxvXjDuL68eN4KbweLwa3gzvhg/Dc/ASfBF+J/4I/gx+AD+Kf0MgE7QJtgQ/QgJBSFhLqCQcJpwmDBDGCDNEBaIB0YUYRuQRlxDLiHXEDmIfcZQ4Q1IkGZHcSNGkDNIaUhWpiXSBdJ/0kkwm65KdyRFkAXk1uYp8lHyJPEx+S1GimFLYlESKlLKZcpBylnKH8pJKpRpSPakJVAl1M7WBep76kPpGjiZnKRcox5NbJVcj1yo3IPdcnihvIO8lv0h+qXyl/HH5PvkJBaKCoQJbgaOwUqFG4YTCoMKUIk3RRjFMMVuxVPGw4mXFJ0p4JUMlXyWeUqHSAaXzSiM0hKZHY9O4tHW0OtoF2igdRzeiB9Iz6CX07+i99EllJWV75RjlAuUa5VPKQwyEYcgIZGQxyhjHGLcY71Q0VbxU+CqbVJpUBlSmVeeoeqryVYtVm1Vvqr5TY6r5qmWqbVVrU3ugjlE3VY9Qz1ffo35BfWIOfY7rHO6c4jnH5tzVgDVMNSI1lmkc0OjRmNLU0vTXFGnu1DyvOaHF0PLUytCq0DqtNa5N03bXFmhXaJ/RfspUZnoxs5hVzC7mpI6GToCOVGe/Tq/OjK6R7nzdtbrNug/0SHosvVS9Cr1OvUl9bf1Q/eX6jfp3DYgGLIN0gx0G3QbThkaGsYYbDNsMnxipGgUaLTVqNLpvTDX2MF5sXGt8wwRnwjLJNNltcs0UNnUwTTetMe0zg80czQRmu836zbHmzuZC81rzQQuKhZdFnkWjxbAlwzLEcq1lm+VzK32rBKutVt1WH60drLOs66zv2SjZBNmstemw+d3W1JZrW2N7w45q52e3yq7d7oW9mT3ffo/9bQeaQ6jDBodOhw+OTo5ixybHcSd9p2SnXU6DLDornFXKuuSMdfZ2XuV80vmti6OLxOWYy2+uFq6Zroddn8w1msufWzd3xE3XjeO2323Ineme7L7PfchDx4PjUevxyFPPk+dZ7znmZeKV4XXE67m3tbfYu8V7mu3CXsE+64P4+PsU+/T6KvnO9632fein65fm1+g36e/gv8z/bAA2IDhga8BgoGYgN7AhcDLIKWhFUFcwJTgquDr4UYhpiDikIxQODQrdFnp/nsE84by2MBAWGLYt7EG4Ufji8B8jcBHhETURjyNtIpdHdkfRopKiDke9jvaOLou+N994vnR+Z4x8TGJMQ8x0rE9seexQnFXcirir8erxgvj2BHxCTEJ9wtQC3wXbF4wmOiQWJd5aaLSwYOHlReqLshadSpJP4iQdT8YmxyYfTn7PCePUcqZSAlN2pUxy2dwd3Gc8T14Fb5zvxi/nj6W6pZanPklzS9uWNp7ukV6ZPiFgC6oFLzICMvZmTGeGZR7MnM2KzWrOJmQnZ58QKgkzhV05WjkFOf0iM1GRaGixy+LtiyfFweL6XCh3YW67hI7+TPVIjaXrpcN57nk1eW/yY/KPFygWCAt6lpgu2bRkbKnf0m+XYZZxl3Uu11m+ZvnwCq8V+1dCK1NWdq7SW1W4anS1/+pDa0hrMtf8tNZ6bfnaV+ti13UUahauLhxZ77++sUiuSFw0uMF1w96NmI2Cjb2b7Dbt3PSxmFd8pcS6pLLkfSm39Mo3Nt9UfTO7OXVzb5lj2Z4tuC3CLbe2emw9VK5YvrR8ZFvottYKZkVxxavtSdsvV9pX7t1B2iHdMVQVUtW+U3/nlp3vq9Orb9Z41zTv0ti1adf0bt7ugT2ee5r2au4t2ftun2Df7f3++1trDWsrD+AO5B14XBdT1/0t69uGevX6kvoPB4UHhw5FHupqcGpoOKxxuKwRbpQ2jh9JPHLtO5/v2pssmvY3M5pLjoKj0qNPv0/+/tax4GOdx1nHm34w+GFXC62luBVqXdI62ZbeNtQe395/IuhEZ4drR8uPlj8ePKlzsuaU8qmy06TThadnzyw9M3VWdHbiXNq5kc6kznvn487f6Iro6r0QfOHSRb+L57u9us9ccrt08rLL5RNXWFfarjpebe1x6Gn5yeGnll7H3tY+p772a87XOvrn9p8e8Bg4d93n+sUbgTeu3px3s//W/Fu3BxMHh27zbj+5k3Xnxd28uzP3Vt/H3i9+oPCg8qHGw9qfTX5uHnIcOjXsM9zzKOrRvRHuyLNfcn95P1r4mPq4ckx7rOGJ7ZOT437j154ueDr6TPRsZqLoV8Vfdz03fv7Db56/9UzGTY6+EL+Y/b30pdrLg6/sX3VOhU89fJ39ema6+I3am0NvWW+738W+G5vJf49/X/XB5EPHx+CP92ezZ2f/AAOY8/wRDtFgAAAACXBIWXMAADIjAAAyIwHN55PYAAACDElEQVQ4EX2Uuy+mQRSHX7ewEZcGm90siYRCpVRoJEujkezWomD/AP4DrYReJSJBpVFoCBLNRiEq0ajcsoWECOv2eX7zzRnzvoZJnm/OnPecM2fOmfkqSqVS9tmoYGATjIrrom9lURGvzZn5G/yCLgWXPrbLydo8BUaV0jNqYBm02IQWr69K+X2WYTXO2uyR6atkRhs0OinL0lmmdsHB7c7cChNwCOcw7LOrTvm5b8UPOFmwXuR10FHFPxgze+TkkXP1MyPmTtgBBXqGp0ieQ2502fg62yZOl1tkmTsKDlNwB8dwAwr8HyzwKvL3VNCQIQZqkHV2CVk124BbUMArmIQF0HobenzQcPx3XfZ3TJlcQhPUgoa6vQfjMAsqi3Uf0Q87Mku9CGmroAOGQN2VUlzDb2/zBfkH1Pq183WyfmIwsmNr9wNQMGWreRe6C/Yh2EcBrTFdOB+BMhuFbVDQNWgAXexQO9skl53b4e0eDuBwASdQD31wD6rvn9jWgmnONcU3xJ5UP456alugQH9hBVTjn9jqJM/MuRi5DDG047Yj74OOOGgZII94nWrrasnsfIJNEN6a0YzRonfUXBfZ9LDWvVRdk+/a/aPwMR76N9ELmYF5gt3746l2pzANKsUZaLyUp/Kv3b2gkzMLXZ2HoIwE/70G1QM2eue58S6gffXFxqd82yO9fFTb5HgFY6LjklrrExcAAAAASUVORK5CYII=\" /> <\/button>             <button type=\"button\" class=\"btn btn-default\" ng-class=\"cycledirection\" ng-click=\"bicycle();\"> <img alt=\"\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAKRGlDQ1BJQ0MgUHJvZmlsZQAASA2dlndUFNcXx9/MbC+0XZYiZem9twWkLr1IlSYKy+4CS1nWZRewN0QFIoqICFYkKGLAaCgSK6JYCAgW7AEJIkoMRhEVlczGHPX3Oyf5/U7eH3c+8333nnfn3vvOGQAoASECYQ6sAEC2UCKO9PdmxsUnMPG9AAZEgAM2AHC4uaLQKL9ogK5AXzYzF3WS8V8LAuD1LYBaAK5bBIQzmX/p/+9DkSsSSwCAwtEAOx4/l4tyIcpZ+RKRTJ9EmZ6SKWMYI2MxmiDKqjJO+8Tmf/p8Yk8Z87KFPNRHlrOIl82TcRfKG/OkfJSREJSL8gT8fJRvoKyfJc0WoPwGZXo2n5MLAIYi0yV8bjrK1ihTxNGRbJTnAkCgpH3FKV+xhF+A5gkAO0e0RCxIS5cwjbkmTBtnZxYzgJ+fxZdILMI53EyOmMdk52SLOMIlAHz6ZlkUUJLVlokW2dHG2dHRwtYSLf/n9Y+bn73+GWS9/eTxMuLPnkGMni/al9gvWk4tAKwptDZbvmgpOwFoWw+A6t0vmv4+AOQLAWjt++p7GLJ5SZdIRC5WVvn5+ZYCPtdSVtDP6386fPb8e/jqPEvZeZ9rx/Thp3KkWRKmrKjcnKwcqZiZK+Jw+UyL/x7ifx34VVpf5WEeyU/li/lC9KgYdMoEwjS03UKeQCLIETIFwr/r8L8M+yoHGX6aaxRodR8BPckSKPTRAfJrD8DQyABJ3IPuQJ/7FkKMAbKbF6s99mnuUUb3/7T/YeAy9BXOFaQxZTI7MprJlYrzZIzeCZnBAhKQB3SgBrSAHjAGFsAWOAFX4Al8QRAIA9EgHiwCXJAOsoEY5IPlYA0oAiVgC9gOqsFeUAcaQBM4BtrASXAOXARXwTVwE9wDQ2AUPAOT4DWYgSAID1EhGqQGaUMGkBlkC7Egd8gXCoEioXgoGUqDhJAUWg6tg0qgcqga2g81QN9DJ6Bz0GWoH7oDDUPj0O/QOxiBKTAd1oQNYSuYBXvBwXA0vBBOgxfDS+FCeDNcBdfCR+BW+Bx8Fb4JD8HP4CkEIGSEgeggFggLYSNhSAKSioiRlUgxUonUIk1IB9KNXEeGkAnkLQaHoWGYGAuMKyYAMx/DxSzGrMSUYqoxhzCtmC7MdcwwZhLzEUvFamDNsC7YQGwcNg2bjy3CVmLrsS3YC9ib2FHsaxwOx8AZ4ZxwAbh4XAZuGa4UtxvXjDuL68eN4KbweLwa3gzvhg/Dc/ASfBF+J/4I/gx+AD+Kf0MgE7QJtgQ/QgJBSFhLqCQcJpwmDBDGCDNEBaIB0YUYRuQRlxDLiHXEDmIfcZQ4Q1IkGZHcSNGkDNIaUhWpiXSBdJ/0kkwm65KdyRFkAXk1uYp8lHyJPEx+S1GimFLYlESKlLKZcpBylnKH8pJKpRpSPakJVAl1M7WBep76kPpGjiZnKRcox5NbJVcj1yo3IPdcnihvIO8lv0h+qXyl/HH5PvkJBaKCoQJbgaOwUqFG4YTCoMKUIk3RRjFMMVuxVPGw4mXFJ0p4JUMlXyWeUqHSAaXzSiM0hKZHY9O4tHW0OtoF2igdRzeiB9Iz6CX07+i99EllJWV75RjlAuUa5VPKQwyEYcgIZGQxyhjHGLcY71Q0VbxU+CqbVJpUBlSmVeeoeqryVYtVm1Vvqr5TY6r5qmWqbVVrU3ugjlE3VY9Qz1ffo35BfWIOfY7rHO6c4jnH5tzVgDVMNSI1lmkc0OjRmNLU0vTXFGnu1DyvOaHF0PLUytCq0DqtNa5N03bXFmhXaJ/RfspUZnoxs5hVzC7mpI6GToCOVGe/Tq/OjK6R7nzdtbrNug/0SHosvVS9Cr1OvUl9bf1Q/eX6jfp3DYgGLIN0gx0G3QbThkaGsYYbDNsMnxipGgUaLTVqNLpvTDX2MF5sXGt8wwRnwjLJNNltcs0UNnUwTTetMe0zg80czQRmu836zbHmzuZC81rzQQuKhZdFnkWjxbAlwzLEcq1lm+VzK32rBKutVt1WH60drLOs66zv2SjZBNmstemw+d3W1JZrW2N7w45q52e3yq7d7oW9mT3ffo/9bQeaQ6jDBodOhw+OTo5ixybHcSd9p2SnXU6DLDornFXKuuSMdfZ2XuV80vmti6OLxOWYy2+uFq6Zroddn8w1msufWzd3xE3XjeO2323Ineme7L7PfchDx4PjUevxyFPPk+dZ7znmZeKV4XXE67m3tbfYu8V7mu3CXsE+64P4+PsU+/T6KvnO9632fein65fm1+g36e/gv8z/bAA2IDhga8BgoGYgN7AhcDLIKWhFUFcwJTgquDr4UYhpiDikIxQODQrdFnp/nsE84by2MBAWGLYt7EG4Ufji8B8jcBHhETURjyNtIpdHdkfRopKiDke9jvaOLou+N994vnR+Z4x8TGJMQ8x0rE9seexQnFXcirir8erxgvj2BHxCTEJ9wtQC3wXbF4wmOiQWJd5aaLSwYOHlReqLshadSpJP4iQdT8YmxyYfTn7PCePUcqZSAlN2pUxy2dwd3Gc8T14Fb5zvxi/nj6W6pZanPklzS9uWNp7ukV6ZPiFgC6oFLzICMvZmTGeGZR7MnM2KzWrOJmQnZ58QKgkzhV05WjkFOf0iM1GRaGixy+LtiyfFweL6XCh3YW67hI7+TPVIjaXrpcN57nk1eW/yY/KPFygWCAt6lpgu2bRkbKnf0m+XYZZxl3Uu11m+ZvnwCq8V+1dCK1NWdq7SW1W4anS1/+pDa0hrMtf8tNZ6bfnaV+ti13UUahauLhxZ77++sUiuSFw0uMF1w96NmI2Cjb2b7Dbt3PSxmFd8pcS6pLLkfSm39Mo3Nt9UfTO7OXVzb5lj2Z4tuC3CLbe2emw9VK5YvrR8ZFvottYKZkVxxavtSdsvV9pX7t1B2iHdMVQVUtW+U3/nlp3vq9Orb9Z41zTv0ti1adf0bt7ugT2ee5r2au4t2ftun2Df7f3++1trDWsrD+AO5B14XBdT1/0t69uGevX6kvoPB4UHhw5FHupqcGpoOKxxuKwRbpQ2jh9JPHLtO5/v2pssmvY3M5pLjoKj0qNPv0/+/tax4GOdx1nHm34w+GFXC62luBVqXdI62ZbeNtQe395/IuhEZ4drR8uPlj8ePKlzsuaU8qmy06TThadnzyw9M3VWdHbiXNq5kc6kznvn487f6Iro6r0QfOHSRb+L57u9us9ccrt08rLL5RNXWFfarjpebe1x6Gn5yeGnll7H3tY+p772a87XOvrn9p8e8Bg4d93n+sUbgTeu3px3s//W/Fu3BxMHh27zbj+5k3Xnxd28uzP3Vt/H3i9+oPCg8qHGw9qfTX5uHnIcOjXsM9zzKOrRvRHuyLNfcn95P1r4mPq4ckx7rOGJ7ZOT437j154ueDr6TPRsZqLoV8Vfdz03fv7Db56/9UzGTY6+EL+Y/b30pdrLg6/sX3VOhU89fJ39ema6+I3am0NvWW+738W+G5vJf49/X/XB5EPHx+CP92ezZ2f/AAOY8/wRDtFgAAAACXBIWXMAADIjAAAyIwHN55PYAAACdUlEQVQ4EYWUTYhNYRjHz7l3lGFm4aNoMmOSKJOvfBMLlFgqdjbWUpQoWYkSmY1IpBs7stBkig2LWVlQMlM2RqJ8hcFME3Pv9fu9zns611y89bvPe56P/3nej3PTer2eNBtpmpaI1YoxfCm+5gVZYkuxIM6jGLYD3154A31ojf9X1BcWobAEdoJJLoKTUdie+VqK+X/OLf7XaM2CH7Hfs3nZLv9WFDtpiJNvFxPYTgJ7oAt+QD/+h8aZ15g37DE+1jN5yeEl+hndcBIGQccL2JTFFM1zo06DIAmeLCbxMI6DAl/hOdiNwWewKssrR6Foc0GSypIlHmX+Cc7AYpgPFaiCoo9geZY7JYppS+xHGDxUhUTHZxgCRXfCfpgF8RDXMD8INvQTgfz6hQnOOs45xHfATFgN92AYzkIXjMAH8GVuySJqtmKfUK4vsTP3TLEFPJ+HlaCwXU0HRb/AA9gMa8Ht8EUzYB9coH491pG65GlMbH8Y7UPYV3AFvHcV6IQ74GF4L9dBBe5CLxg7hs5C6mvuyVyYDZdwtmN7YACugsV2sgJOwDnYCCPgqjoQuYl9CVsgcQ8V9eQ85VG4DN67pfAarkEfeCh2q3U8Bb9xx3topyG1kqlwCmy/lTdiQlfXsYd9jvBspzeMF3zzeL4F4VsPNx3lbhxHwOGGL4F3cJrCb8Tdu3FwRQdgA/RDFXbBY+gld8KPPPzvUeRStoHX5i3cJ2EMf/yuY56iu2EZODys2+R6H8thOTgmfUIkmNzgLz4z91q1mVfMDUsm4KV0Q+Pfkrbpvwl5cVUu1zoP09zQQS5o0GFBDP72NP8lLZwouf5p5OMXXuuOrTWbb2EAAAAASUVORK5CYII=\" /> <\/button>             <button type=\"button\" class=\"btn btn-default\" ng-class=\"drivedirection\" ng-click=\"drive();\"> <img alt=\"\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAKRGlDQ1BJQ0MgUHJvZmlsZQAASA2dlndUFNcXx9/MbC+0XZYiZem9twWkLr1IlSYKy+4CS1nWZRewN0QFIoqICFYkKGLAaCgSK6JYCAgW7AEJIkoMRhEVlczGHPX3Oyf5/U7eH3c+8333nnfn3vvOGQAoASECYQ6sAEC2UCKO9PdmxsUnMPG9AAZEgAM2AHC4uaLQKL9ogK5AXzYzF3WS8V8LAuD1LYBaAK5bBIQzmX/p/+9DkSsSSwCAwtEAOx4/l4tyIcpZ+RKRTJ9EmZ6SKWMYI2MxmiDKqjJO+8Tmf/p8Yk8Z87KFPNRHlrOIl82TcRfKG/OkfJSREJSL8gT8fJRvoKyfJc0WoPwGZXo2n5MLAIYi0yV8bjrK1ihTxNGRbJTnAkCgpH3FKV+xhF+A5gkAO0e0RCxIS5cwjbkmTBtnZxYzgJ+fxZdILMI53EyOmMdk52SLOMIlAHz6ZlkUUJLVlokW2dHG2dHRwtYSLf/n9Y+bn73+GWS9/eTxMuLPnkGMni/al9gvWk4tAKwptDZbvmgpOwFoWw+A6t0vmv4+AOQLAWjt++p7GLJ5SZdIRC5WVvn5+ZYCPtdSVtDP6386fPb8e/jqPEvZeZ9rx/Thp3KkWRKmrKjcnKwcqZiZK+Jw+UyL/x7ifx34VVpf5WEeyU/li/lC9KgYdMoEwjS03UKeQCLIETIFwr/r8L8M+yoHGX6aaxRodR8BPckSKPTRAfJrD8DQyABJ3IPuQJ/7FkKMAbKbF6s99mnuUUb3/7T/YeAy9BXOFaQxZTI7MprJlYrzZIzeCZnBAhKQB3SgBrSAHjAGFsAWOAFX4Al8QRAIA9EgHiwCXJAOsoEY5IPlYA0oAiVgC9gOqsFeUAcaQBM4BtrASXAOXARXwTVwE9wDQ2AUPAOT4DWYgSAID1EhGqQGaUMGkBlkC7Egd8gXCoEioXgoGUqDhJAUWg6tg0qgcqga2g81QN9DJ6Bz0GWoH7oDDUPj0O/QOxiBKTAd1oQNYSuYBXvBwXA0vBBOgxfDS+FCeDNcBdfCR+BW+Bx8Fb4JD8HP4CkEIGSEgeggFggLYSNhSAKSioiRlUgxUonUIk1IB9KNXEeGkAnkLQaHoWGYGAuMKyYAMx/DxSzGrMSUYqoxhzCtmC7MdcwwZhLzEUvFamDNsC7YQGwcNg2bjy3CVmLrsS3YC9ib2FHsaxwOx8AZ4ZxwAbh4XAZuGa4UtxvXjDuL68eN4KbweLwa3gzvhg/Dc/ASfBF+J/4I/gx+AD+Kf0MgE7QJtgQ/QgJBSFhLqCQcJpwmDBDGCDNEBaIB0YUYRuQRlxDLiHXEDmIfcZQ4Q1IkGZHcSNGkDNIaUhWpiXSBdJ/0kkwm65KdyRFkAXk1uYp8lHyJPEx+S1GimFLYlESKlLKZcpBylnKH8pJKpRpSPakJVAl1M7WBep76kPpGjiZnKRcox5NbJVcj1yo3IPdcnihvIO8lv0h+qXyl/HH5PvkJBaKCoQJbgaOwUqFG4YTCoMKUIk3RRjFMMVuxVPGw4mXFJ0p4JUMlXyWeUqHSAaXzSiM0hKZHY9O4tHW0OtoF2igdRzeiB9Iz6CX07+i99EllJWV75RjlAuUa5VPKQwyEYcgIZGQxyhjHGLcY71Q0VbxU+CqbVJpUBlSmVeeoeqryVYtVm1Vvqr5TY6r5qmWqbVVrU3ugjlE3VY9Qz1ffo35BfWIOfY7rHO6c4jnH5tzVgDVMNSI1lmkc0OjRmNLU0vTXFGnu1DyvOaHF0PLUytCq0DqtNa5N03bXFmhXaJ/RfspUZnoxs5hVzC7mpI6GToCOVGe/Tq/OjK6R7nzdtbrNug/0SHosvVS9Cr1OvUl9bf1Q/eX6jfp3DYgGLIN0gx0G3QbThkaGsYYbDNsMnxipGgUaLTVqNLpvTDX2MF5sXGt8wwRnwjLJNNltcs0UNnUwTTetMe0zg80czQRmu836zbHmzuZC81rzQQuKhZdFnkWjxbAlwzLEcq1lm+VzK32rBKutVt1WH60drLOs66zv2SjZBNmstemw+d3W1JZrW2N7w45q52e3yq7d7oW9mT3ffo/9bQeaQ6jDBodOhw+OTo5ixybHcSd9p2SnXU6DLDornFXKuuSMdfZ2XuV80vmti6OLxOWYy2+uFq6Zroddn8w1msufWzd3xE3XjeO2323Ineme7L7PfchDx4PjUevxyFPPk+dZ7znmZeKV4XXE67m3tbfYu8V7mu3CXsE+64P4+PsU+/T6KvnO9632fein65fm1+g36e/gv8z/bAA2IDhga8BgoGYgN7AhcDLIKWhFUFcwJTgquDr4UYhpiDikIxQODQrdFnp/nsE84by2MBAWGLYt7EG4Ufji8B8jcBHhETURjyNtIpdHdkfRopKiDke9jvaOLou+N994vnR+Z4x8TGJMQ8x0rE9seexQnFXcirir8erxgvj2BHxCTEJ9wtQC3wXbF4wmOiQWJd5aaLSwYOHlReqLshadSpJP4iQdT8YmxyYfTn7PCePUcqZSAlN2pUxy2dwd3Gc8T14Fb5zvxi/nj6W6pZanPklzS9uWNp7ukV6ZPiFgC6oFLzICMvZmTGeGZR7MnM2KzWrOJmQnZ58QKgkzhV05WjkFOf0iM1GRaGixy+LtiyfFweL6XCh3YW67hI7+TPVIjaXrpcN57nk1eW/yY/KPFygWCAt6lpgu2bRkbKnf0m+XYZZxl3Uu11m+ZvnwCq8V+1dCK1NWdq7SW1W4anS1/+pDa0hrMtf8tNZ6bfnaV+ti13UUahauLhxZ77++sUiuSFw0uMF1w96NmI2Cjb2b7Dbt3PSxmFd8pcS6pLLkfSm39Mo3Nt9UfTO7OXVzb5lj2Z4tuC3CLbe2emw9VK5YvrR8ZFvottYKZkVxxavtSdsvV9pX7t1B2iHdMVQVUtW+U3/nlp3vq9Orb9Z41zTv0ti1adf0bt7ugT2ee5r2au4t2ftun2Df7f3++1trDWsrD+AO5B14XBdT1/0t69uGevX6kvoPB4UHhw5FHupqcGpoOKxxuKwRbpQ2jh9JPHLtO5/v2pssmvY3M5pLjoKj0qNPv0/+/tax4GOdx1nHm34w+GFXC62luBVqXdI62ZbeNtQe395/IuhEZ4drR8uPlj8ePKlzsuaU8qmy06TThadnzyw9M3VWdHbiXNq5kc6kznvn487f6Iro6r0QfOHSRb+L57u9us9ccrt08rLL5RNXWFfarjpebe1x6Gn5yeGnll7H3tY+p772a87XOvrn9p8e8Bg4d93n+sUbgTeu3px3s//W/Fu3BxMHh27zbj+5k3Xnxd28uzP3Vt/H3i9+oPCg8qHGw9qfTX5uHnIcOjXsM9zzKOrRvRHuyLNfcn95P1r4mPq4ckx7rOGJ7ZOT437j154ueDr6TPRsZqLoV8Vfdz03fv7Db56/9UzGTY6+EL+Y/b30pdrLg6/sX3VOhU89fJ39ema6+I3am0NvWW+738W+G5vJf49/X/XB5EPHx+CP92ezZ2f/AAOY8/wRDtFgAAAACXBIWXMAADIjAAAyIwHN55PYAAACW0lEQVQ4EY2UvUuXURSA3/f30SdWRiVEhjQ0JEUogUsROAQNLo2tTtUQLc0p/QENLYGTjlERJE02tOjgEDVIQ0uCpRWVFeXX2/Nc75WbGnrg+Z17zz333HPPue+vrKqqyKUsyxrzem77z9iNy+z/J0AjdzYY6yvYZFvCnjIPuhYwBUO3EKkL9sEylGDWarNR74BpmCTYYh40BNTAYoXS8TZcgw9gpl4/v9YScw/dCfoOQ429K2ZqugWTZjzpAouPYQQegFmGWkVtph7yE+7AKehj7zti1NHeKFyhYWDkLryFduebwZp1RhXn4TP0x7lJaS9SsGOMx2EwLliGcAPnCWwhYPR5yHwUdsV53WDWRLkMJ2CK9DvQh2GBsYFzsdZNDDPgbW5CLzyDSmcbcx0GwGLbPevk2uodGKyTtLYb+xEw+A2Se6RfJ/yCj3ALbIqBtuIPPvdgEBbhBdjEogfcfD/Wwc69jjY32TnLktCmvwfbWVTxEt7AAa+bHM9Sm5PML0I7KK77VHJJNfXgS+z5je6A9xDkHL9z4FFfwes7XgCvshmu6fMD5uP4ObrVDOzYIVCsQcpA+1ayN3M4yLhmwC/wBPx+j8f5K7SZ+ina8Vw80Dra3TNgDJ/PGJh5MPjm7JjXmIBu2A9HoW0d2nwuV2AW3HMVwm3Dw6awnzCYkWKTZuneN+zf0W5YE2zhLy7uSWtzuC1hazYyB1M+DU9hBnsdjSq9cqorw9B1bT6TIbB2U6D4xFa/VzW0Qvq2N3zHJhsTDmv47pFkV6e/L3VKP6SVz9m0QUw9+eTjv0wEQUUiFZVVAAAAAElFTkSuQmCC\" /> <\/button>             <div id=\"directionInfo\" style=\"float: right;font-size: 10px;line-height: 13px;color: #fff;margin-left: 10px;\">TravelMode: {{travelmode}}                 <br />Distance = <span style='white-space:nowrap; text-overflow:ellipsis; overflow:hidden;width:35px;'>{{distmiles}}<\/span> miles                 <br />Time = {{duration}}<\/div>         <\/div>         <div ng-show=\"selitem != '' \" style=\"margin: 0px; font-weight: normal; font-size: 10px; padding: 0px 5px; box-shadow: 0px 0px 2px rgb(255, 255, 255);\" class=\"alert alert-danger\"> {{trackinginfo}} <\/div>     <\/div>     <div id=\"MapMapCanvas\" style=\"position:absolute;width:100%;height:100%;margin:0px;padding:0px;\"><\/div> <\/div>",
          "pageprocessor": "function pageprocessorMaps(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  var data1 = $compile($(pagedef.pageTemplate))($scope);\r\n  $(\"#appContent\")\r\n    .append(data1);\r\n\r\n\r\n\r\n  function enableOrientationArrow() {\r\n\r\n    if (window.DeviceOrientationEvent) {\r\n\r\n      window.addEventListener('deviceorientation', function(event) {\r\n        var alpha = null;\r\n        //Check for iOS property\r\n        if (event.webkitCompassHeading) {\r\n          alpha = event.webkitCompassHeading;\r\n        }\r\n        //non iOS\r\n        else {\r\n          alpha = event.alpha;\r\n        }\r\n        var locationIcon = myLocationMarker.get('icon');\r\n        locationIcon.rotation = 360 - alpha;\r\n        myLocationMarker.set('icon', locationIcon);\r\n      }, false);\r\n    }\r\n  }\r\n\r\n\r\n  $scope.loaddata = function() {\r\n\r\n    $scope.selitem = \"\";\r\n    $scope.markers = [];\r\n    var points = $.parseJSON(pagedef.mapmarkers);\r\n\r\n    var items = [];\r\n    $.each(points, function(key, val) {\r\n      var item = {\r\n        \"name\": val.desc,\r\n        \"clat\": val.lat,\r\n        \"clong\": val.long,\r\n        \"swlat\": val.swLat,\r\n        \"swlong\": val.swLong,\r\n        \"nelat\": val.neLat,\r\n        \"nelong\": val.neLong,\r\n        \"zoom\": \"15\",\r\n        \"markers\": [{\r\n          \"lat\": val.lat,\r\n          \"long\": val.long,\r\n          \"desc\": val.desc\r\n        }],\r\n        \"floor\": val.floor\r\n      };\r\n      items.push(item);\r\n    });\r\n    items.sort(function(a, b) {\r\n      if (a.name < b.name)\r\n        return -1;\r\n      if (a.name > b.name)\r\n        return 1;\r\n      return 0;\r\n    });\r\n    $scope.items = items;\r\n\r\n    $rootScope.items = items;\r\n    $scope.$apply();\r\n    $.unblockUI();\r\n  }\r\n\r\n  var mapMain;\r\n  var marker;\r\n  var findCurrentLoc;\r\n\r\n  $scope.setCurrentLoc = function() {\r\n    navigator.geolocation.getCurrentPosition(function(loc) {\r\n      //alert(JSON.stringify(loc));\r\n      var myLat1 = loc.coords.latitude;\r\n      var myLong1 = loc.coords.longitude;\r\n\r\n      marker.setMap(null);\r\n      var mapOptions = {\r\n        center: new google.maps.LatLng(myLat1, myLong1),\r\n        zoom: 15,\r\n        mapTypeId: google.maps.MapTypeId.SATELLITE\r\n      };\r\n\r\n\r\n      var image1 = \"https://www.dropbox.com/s/j0gjy1uv2keqwks/blue-circle-hi.png?dl=1\";\r\n      marker = new google.maps.Marker({\r\n        position: new google.maps.LatLng(myLat1, myLong1),\r\n        map: mapMain,\r\n        title: \"You are here\",\r\n        icon: image1\r\n\r\n      });\r\n\r\n    });\r\n  };\r\n\r\n  function initMap() {\r\n    /*var myOptions = {\r\n        zoom: 15,\r\n        mapTypeId: google.maps.MapTypeId.SATELLITE\r\n    };*/\r\n    //var mapDisplay = document.getElementById(\"MapMapCanvas\")\r\n    var mapheight = $(window).height() - ($(\"#appContent .list-group-item\").height() + $(\".navbar-absolute-top\").height() + $(\".navbar-absolute-bottom\").height() + 20)\r\n    $(\"#MapMapCanvas\").css(\"height\", mapheight + \"px\");\r\n    //var map = new google.maps.Map(mapDisplay, myOptions);\r\n\r\n\r\n    mapMain.setTilt(45);\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(function(position) {\r\n\r\n        var pos = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\r\n\r\n        var infowindow = new google.maps.InfoWindow({\r\n          map: mapMain,\r\n          position: pos,\r\n          content: 'You are here'\r\n        });\r\n        mapmapMain.setCenter(pos);\r\n      }, function() {\r\n        //handleNoGeolocation(true);\r\n        navigator.notification.alert(\"Unable to find your location. Please check your GPS settings, network connectivity and Location services.\", function() {\r\n          window.location.href = \"index.html#home\";\r\n          $.unblockUI();\r\n        }, \"Location services disabled\", \"OK\");\r\n      }, {\r\n        timeout: 10000,\r\n        maximumAge: 0,\r\n        enableHighAccuracy: true\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  var cb = function() {\r\n    //var geocoder;\r\n    //var placeCoordinate;\r\n    var errorCallback = function(error) {\r\n      $.unblockUI();\r\n      navigator.notification.alert(\"Unable to find your location. Please check your GPS settings, network connectivity and Location services.\", function() {}, 'Alert', 'Ok');\r\n      $scope.trackinginfo = \"Unable to find your location. Please check your GPS settings, network connectivity and Location services.\" + error.message + \" ( \" + error.code + \" )\";\r\n      $scope.$digest();\r\n    }\r\n    var placeGeoCoder = function(results) {\r\n      try {\r\n        $.unblockUI();\r\n        $scope.breakOut = false;\r\n        $rootScope.breakOut = false;\r\n        var myLat = results.coords.latitude;\r\n        var myLong = results.coords.longitude;\r\n\r\n        //var myLat = 40.60967808904413;\r\n        //var myLong = -74.68763452950604;\r\n        $scope.currentLat = myLat;\r\n        $scope.currentLong = myLong;\r\n        //navigator.notification.alert(myLat + ' , ' + myLong, function() {}, 'Your Current Location', 'Dismiss');\r\n\r\n        //MAP\r\n        var mapOptions = {\r\n          center: new google.maps.LatLng(myLat, myLong),\r\n          zoom: 16,\r\n          mapTypeId: google.maps.MapTypeId.SATELLITE\r\n        };\r\n\r\n        mapMain = new google.maps.Map(document.getElementById(\"MapMapCanvas\"),\r\n          mapOptions);\r\n\r\n        //var image = \"http://www.dreamrealty.com/images/blue_dot_circle.png\";\r\n        //var image = \"http://rottenwifi.com/bundles/itowififront/images/my-location-icon.png\";\r\n        var image = \"https://www.dropbox.com/s/j0gjy1uv2keqwks/blue-circle-hi.png?dl=1\";\r\n\r\n        //var points = $.parseJSON(pagedef.mapmarkers);\r\n        /*$.each(points, function(key, val) {\r\n             var sw = new google.maps.LatLng(val.swLat, val.swLong);\r\n             var ne = new google.maps.LatLng(val.neLat, val.neLong);\r\n             var bounds = new google.maps.LatLngBounds(sw, ne);\r\n\r\n             if (bounds.contains(new google.maps.LatLng(myLat, myLong))) {\r\n                 $scope.Building = val;\r\n                 $scope.breakOut = true;\r\n                 $rootScope.breakOut = true;\r\n                 return false;\r\n             }\r\n\r\n         });*/\r\n\r\n        var sw = new google.maps.LatLng(40.607785, -74.693630);\r\n        //var ne = new google.maps.LatLng(40.615355, -74.684259);\r\n\r\n        var ne = new google.maps.LatLng(40.615853, -74.684055);\r\n\r\n        var bounds = new google.maps.LatLngBounds(sw, ne);\r\n\r\n        if (bounds.contains(new google.maps.LatLng(myLat, myLong))) {\r\n\r\n          //$scope.Building = val;\r\n\r\n          $scope.breakOut = true;\r\n          $rootScope.breakOut = true;\r\n        }\r\n\r\n        if ($scope.breakOut) {\r\n\r\n          /*breakOut = false;\r\n          return false;*/\r\n          marker = new google.maps.Marker({\r\n            position: new google.maps.LatLng(myLat, myLong),\r\n            map: mapMain,\r\n            title: \"You are here\",\r\n            icon: image\r\n\r\n          });\r\n          //enableWatchPosition();\r\n          enableOrientationArrow();\r\n          /*var imageBounds = new google.maps.LatLngBounds(\r\n              new google.maps.LatLng($scope.Building.swLat, $scope.Building.swLong),\r\n              new google.maps.LatLng($scope.Building.neLat, $scope.Building.neLong));*/\r\n\r\n\r\n          var imageBounds = new google.maps.LatLngBounds(\r\n            new google.maps.LatLng(40.607539, -74.694516),\r\n            new google.maps.LatLng(40.615501, -74.683947));\r\n\r\n          historicalOverlay = new google.maps.GroundOverlay(\r\n            'https://www.dropbox.com/s/zwma923hzgbrczq/rvccCampus.png?dl=1',\r\n            imageBounds);\r\n          historicalOverlay.setMap(mapMain);\r\n\r\n        } else {\r\n          initMap();\r\n        }\r\n\r\n\r\n\r\n      } catch (e) {\r\n        $.unblockUI();\r\n        //alert(\"Error : \" + e);\r\n      }\r\n\r\n      findCurrentLoc = setInterval($scope.setCurrentLoc, 10000);\r\n    };\r\n\r\n    $scope.placeGeoCoder = placeGeoCoder;\r\n    $scope.errorCallback = errorCallback;\r\n    if (navigator.geolocation) {\r\n      $.blockUI();\r\n      navigator.geolocation.getCurrentPosition(placeGeoCoder, errorCallback, {\r\n        timeout: 10000,\r\n        maximumAge: 0,\r\n        enableHighAccuracy: true\r\n      });\r\n\r\n\r\n    } else {\r\n      //alert(\"not working\")\r\n    }\r\n\r\n  };\r\n  window.cb = cb;\r\n  /*if (typeof google === 'object' && typeof google.maps === 'object') {\r\n      window.cb(true);\r\n  } else {*/\r\n  var script = document.createElement(\"script\");\r\n  script.type = \"text/javascript\";\r\n  script.src = \"https://maps.google.com/maps/api/js?key=AIzaSyAWtMIxW71c0fxIUmgWGe4AfUb2D9sE-5o&sensor=false&callback=cb\";\r\n  document.body.appendChild(script);\r\n\r\n  $scope.walkdirection = \"btn-primary\";\r\n  $scope.cycledirection = \"\";\r\n  $scope.drivedirection = \"\";\r\n  $scope.selectitem = function() {\r\n\r\n    if ($scope.breakOut) {\r\n\r\n      var item = $scope.items[$scope.selitem];\r\n      $rootScope.Building = item;\r\n      clearInterval(findCurrentLoc);\r\n      $location.path(\"/app/Maps/MapsPage2\")\r\n    } else {\r\n      clearInterval(findCurrentLoc);\r\n      $(\"#building_selector\").blur();\r\n      var item = $scope.items[$scope.selitem];\r\n      $rootScope.Building = item;\r\n      if (item) {\r\n        $scope.curitem = item;\r\n        try {\r\n          var cb1 = function() {\r\n\r\n\r\n            var geocoder;\r\n            var placeCoordinate;\r\n            var errorCallback = function(error) {\r\n              $.unblockUI();\r\n              navigator.notification.alert(\"Unable to find your location. Please check your GPS settings\", function() {}, 'Alert', 'Ok');\r\n              $scope.trackinginfo = \"Unable to locate your location. Please check your GPS settings, network connectivity and Location services.\" + error.message + \" ( \" + error.code + \" )\";\r\n              $scope.$digest();\r\n            }\r\n            var placeGeoCoder = function(results) {\r\n              try {\r\n                $.unblockUI();\r\n\r\n\r\n                placeCoordinate = results;\r\n                $rootScope.mylocation = results;\r\n                var latlng = new google.maps.LatLng(item.clat, item.clong);\r\n\r\n                var myOptions = {\r\n                  zoom: 15,\r\n                  center: latlng,\r\n                  mapTypeId: google.maps.MapTypeId.SATELLITE\r\n                };\r\n                var mapDisplay = document.getElementById(\"MapMapCanvas\")\r\n                var map = new google.maps.Map(mapDisplay, myOptions);\r\n                var myloc = new google.maps.Marker({\r\n                  position: latlng,\r\n                  map: map,\r\n                  title: \"title\"\r\n                });\r\n                map.setTilt(45);\r\n                $scope.markers.push(myloc);\r\n                $scope.map = map;\r\n                $scope.walk();\r\n              } catch (e) {\r\n                $.unblockUI();\r\n                navigator.notification.alert(\"Unknown error occurred\");\r\n              }\r\n            }\r\n\r\n            $scope.placeGeoCoder = placeGeoCoder;\r\n            $scope.errorCallback = errorCallback;\r\n            if (navigator.geolocation) {\r\n              $.blockUI();\r\n              navigator.geolocation.getCurrentPosition(placeGeoCoder, errorCallback, {\r\n                enableHighAccuracy: true,\r\n                timeout: 10000,\r\n                maximumAge: 0\r\n              });\r\n\r\n            } else {\r\n              navigator.notification.alert(\"Unknown error occurred\");\r\n            }\r\n          };\r\n          window.cb1 = cb1;\r\n          if (typeof google === 'object' && typeof google.maps === 'object') {\r\n            window.cb1(true);\r\n          } else {\r\n            var script = document.createElement(\"script\");\r\n            script.type = \"text/javascript\";\r\n            script.src = \"https://maps.google.com/maps/api/js?key=AIzaSyAWtMIxW71c0fxIUmgWGe4AfUb2D9sE-5o&sensor=false&callback=cb\";\r\n            document.body.appendChild(script);\r\n            //$.getScript(\"https://maps.googleapis.com/maps/api/js?key=AIzaSyDUbP_Qxh9wbPOvgW8iH_zuLu8K3fSlv0I&sensor=false&callback=cb\");\r\n          }\r\n\r\n        } catch (e) {\r\n          navigator.notification.alert(\"Unknown error occurred\");\r\n        }\r\n\r\n      }\r\n    }\r\n  };\r\n\r\n  $scope.travelmode = \"Walk\";\r\n  $scope.walk = function() {\r\n    $scope.travelmode = \"Walk\";\r\n    $scope.curtravelmode = \"walk\";\r\n    $scope.walkdirection = \"btn-primary\";\r\n    $scope.cycledirection = \"\";\r\n    $scope.drivedirection = \"\";\r\n    $scope.directiondisplay(\"walk\", $scope.map, $rootScope.mylocation.coords.latitude, $rootScope.mylocation.coords.longitude, $scope.curitem.clat, $scope.curitem.clong);\r\n    //$scope.directiondisplay(\"walk\",$scope.map, \"34.289408\",\"-83.813368\", $scope.curitem.clat, $scope.curitem.clong );\r\n\r\n  }\r\n\r\n  $scope.bicycle = function() {\r\n    $scope.travelmode = \"Bicycle\";\r\n    $scope.curtravelmode = \"cycle\";\r\n    $scope.walkdirection = \"\";\r\n    $scope.cycledirection = \"btn-primary\";\r\n    $scope.drivedirection = \"\";\r\n    $scope.directiondisplay(\"cycle\", $scope.map, $rootScope.mylocation.coords.latitude, $rootScope.mylocation.coords.longitude, $scope.curitem.clat, $scope.curitem.clong);\r\n    //$scope.directiondisplay(\"cycle\",$scope.map, \"34.289408\",\"-83.813368\", $scope.curitem.clat, $scope.curitem.clong );\r\n  }\r\n\r\n  $scope.drive = function() {\r\n    $scope.travelmode = \"Drive\";\r\n    $scope.curtravelmode = \"drive\";\r\n    $scope.walkdirection = \"\";\r\n    $scope.cycledirection = \"\";\r\n    $scope.drivedirection = \"btn-primary\";\r\n    $scope.directiondisplay(\"drive\", $scope.map, $rootScope.mylocation.coords.latitude, $rootScope.mylocation.coords.longitude, $scope.curitem.clat, $scope.curitem.clong);\r\n  }\r\n\r\n\r\n  $scope.directiondisplay = function(mode, map, slat, slng, elat, elng) {\r\n    $scope.trackinginfo = \"\";\r\n    if ($scope.directionsDisplay) {\r\n      $scope.directionsDisplay.setMap(null);\r\n    }\r\n    /*for (i in $scope.markers) {\r\n        $scope.markers[i].setMap(null);\r\n    }*/\r\n    var directionsDisplay = new google.maps.DirectionsRenderer({\r\n      suppressMarkers: false\r\n    });\r\n    var icons = {\r\n      start: new google.maps.MarkerImage(\r\n\r\n        // URL\r\n        'images/start-pin.png',\r\n        // (image width,height)\r\n        new google.maps.Size(32, 32),\r\n        //Point for the Image\r\n        new google.maps.Point(0, 0)\r\n      ),\r\n      end: new google.maps.MarkerImage(\r\n        // URL\r\n        'images/end-pin.png',\r\n        // (image width,height)\r\n        new google.maps.Size(32, 32),\r\n        //Point for the Image\r\n        new google.maps.Point(0, 0)\r\n      )\r\n    };\r\n    directionsDisplay.setMap(null);\r\n    directionsDisplay.setMap(map);\r\n    $scope.directionsDisplay = directionsDisplay;\r\n\r\n    try {\r\n\r\n      var directionsService = new google.maps.DirectionsService();\r\n      var start = new google.maps.LatLng(slat, slng);\r\n      var end = new google.maps.LatLng(elat, elng);\r\n      var travelModeOption = mode;\r\n      var request = {\r\n        origin: start,\r\n        destination: end,\r\n        travelMode: \"\",\r\n        unitSystem: google.maps.UnitSystem.METRIC\r\n      };\r\n\r\n      switch (travelModeOption) {\r\n        case \"walk\":\r\n          {\r\n            var usertravelMode = \"WALKING\";\r\n            request.travelMode = google.maps.TravelMode.WALKING;\r\n            break;\r\n          }\r\n        case \"cycle\":\r\n          {\r\n            var usertravelMode = \"BICYCLING\";\r\n            request.travelMode = google.maps.TravelMode.BICYCLING;\r\n            break;\r\n          }\r\n        case \"drive\":\r\n          {\r\n            var usertravelMode = \"DRIVING\";\r\n            request.travelMode = google.maps.TravelMode.DRIVING;\r\n            break;\r\n          }\r\n        default:\r\n          {\r\n            var usertravelMode = \"WALKING\";\r\n            request.travelMode = google.maps.TravelMode.WALKING;\r\n            break;\r\n          }\r\n      }\r\n    } catch (e) {\r\n      //alert(e)\r\n    }\r\n    directionsService.route(request, function(result, status) {\r\n      if (status == google.maps.DirectionsStatus.OK) {\r\n        try {\r\n          for (i in $scope.markers) {\r\n            $scope.markers[i].setMap(null);\r\n          }\r\n          var len = result.routes[0].legs[0].distance.text.length - 3;\r\n          var miles = (result.routes[0].legs[0].distance.value) * 0.000621;\r\n          var d = miles.toString();\r\n          $scope.distmiles = d.slice(0, 6);\r\n          $scope.duration = JSON.stringify(result.routes[0].legs[0].duration.text);\r\n        } catch (e) {}\r\n        for (i in $scope.markers) {\r\n          $scope.markers[i].setMap(null);\r\n        }\r\n        directionsDisplay.setDirections(result);\r\n        $scope.$digest();\r\n      } else {\r\n        //navigator.notification.alert(\"Oops! Your device dont have GPS enabled \" + status, function() {}, 'Alert', 'Ok');\r\n        $scope.trackinginfo = \"Unable to get GPS data. ( \" + status + \" )\";\r\n        $scope.$digest();\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  $scope.loaddata();\r\n}",
          "mapcenter": "40.611900,-74.680582",
          "mapzoom": "16",
          "mapmarkers": "{\r\n  \"map00\": {\r\n    \"desc\": \"Arts Building\",\r\n    \"swLat\": 40.612275,\r\n    \"swLong\": -74.689785,\r\n    \"neLat\": 40.613169,\r\n    \"neLong\": -74.688961,\r\n    \"lat\": 40.612741,\r\n    \"long\": -74.689372,\r\n    \"floor\": [{\r\n      \"name\": \"First Floor \",\r\n      \"pdf\": \"https://www.dropbox.com/s/sop1cp3d4crik57/artbuildingfirstfloor.pdf?dl=1\",\r\n      \"jpg\": \"https://www.dropbox.com/s/m5kj75iui15740l/artsBuilding-1.png?dl=1\"\r\n    }]\r\n\r\n  },\r\n  \"map01\": {\r\n    \"desc\": \"Children's Campus\",\r\n    \"swLat\": 40.613253,\r\n    \"swLong\": -74.689978,\r\n    \"neLat\": 40.613742,\r\n    \"neLong\": -74.689502,\r\n    \"lat\": 40.613547,\r\n    \"long\": -74.689748,\r\n    \"floor\": [{\r\n      \"name\": \"Child Care Center\",\r\n      \"pdf\": \"https://www.dropbox.com/s/lwlva39gpg0fmy3/childcarecenter.pdf?dl=1\",\r\n      \"jpg\": \"https://www.dropbox.com/s/sh1gwas2co3eq19/childcare%20%281%29.png?dl=1\"\r\n    }]\r\n  },\r\n  \"map02\": {\r\n    \"desc\": \"Science\",\r\n    \"swLat\": 40.610373,\r\n    \"swLong\": -74.690127,\r\n    \"neLat\": 40.610927,\r\n    \"neLong\": -74.688889,\r\n    \"lat\": 40.610691,\r\n    \"long\": -74.689296,\r\n    \"floor\": [{\r\n      \"name\": \"First Floor \",\r\n      \"pdf\": \"https://www.dropbox.com/s/lh73uzgr79esazr/scienceflooroneNEW.pdf?dl=1\",\r\n      \"jpg\": \"https://www.dropbox.com/s/cuj8z343qtya5d0/Science-Building-First-Floor%20%281%29.png?dl=1\"\r\n    }, {\r\n      \"name\": \"Second Floor \",\r\n      \"pdf\": \"https://www.dropbox.com/s/rwzxy9jxndy5ni3/sciencebuildingsecondfloorNEW.pdf?dl=1\",\r\n      \"jpg\": \"https://www.dropbox.com/s/fpl71afx8g806ki/Science-Building-Second-Floor%20%283%29.png?dl=1\"\r\n    }]\r\n  },\r\n  \"map03\": {\r\n    \"desc\": \"West\",\r\n    \"swLat\": 40.609905,\r\n    \"swLong\": -74.690058,\r\n    \"neLat\": 40.610338,\r\n    \"neLong\": -74.689182,\r\n    \"lat\": 40.610108,\r\n    \"long\": -74.689618,\r\n    \"floor\": [{\r\n      \"name\": \"Basement\",\r\n      \"pdf\": \"https://www.dropbox.com/s/2ln9eraecjzkhgi/westbasement.pdf?dl=1\",\r\n      \"jpg\": \"https://www.dropbox.com/s/07zusiktf2sbm49/west-basement-1%20%281%29.png?dl=1\"\r\n    }, {\r\n      \"name\": \"Main Floor \",\r\n      \"pdf\": \"https://www.dropbox.com/s/aujq0wipzgt4yrd/westmainfloorpdf.pdf?dl=1\",\r\n      \"jpg\": \"https://www.dropbox.com/s/gjrekghic3ax6v9/west-main-floor%20%281%29.png?dl=1\"\r\n    }, {\r\n      \"name\": \"Upper Floor \",\r\n      \"pdf\": \"https://www.dropbox.com/s/15t29mesc495g6m/westupperfloorpdf.pdf?dl=1\",\r\n      \"jpg\": \"https://www.dropbox.com/s/9uiqae1gxcsipjp/west-upper-floor%20%281%29.png?dl=1\"\r\n    }]\r\n  },\r\n  \"map04\": {\r\n    \"desc\": \"Bateman Center\",\r\n    \"swLat\": 40.610457,\r\n    \"swLong\": -74.688964,\r\n    \"neLat\": 40.611152,\r\n    \"neLong\": -74.688028,\r\n    \"lat\": 40.610648,\r\n    \"long\": -74.688353,\r\n    \"floor\": [{\r\n      \"name\": \"First Floor \",\r\n      \"pdf\": \"https://www.dropbox.com/s/hi5gr033rtyksw4/batemanfloor1.pdf?dl=1\",\r\n      \"jpg\": \"https://www.dropbox.com/s/9t2mgeui1po0ed2/Bateman-floor1%20%282%29.png?dl=1\"\r\n    }, {\r\n      \"name\": \"Second Floor \",\r\n      \"pdf\": \"https://www.dropbox.com/s/kxzurr0sml1p1j9/batemanfloor2.pdf?dl=1\",\r\n      \"jpg\": \"https://www.dropbox.com/s/74u0mnacgl7wvz7/Bateman-floor2%20%281%29.png?dl=1\"\r\n    }]\r\n  },\r\n  \"map05\": {\r\n    \"desc\": \"Physical education\",\r\n    \"swLat\": 40.610275,\r\n    \"swLong\": -74.688843,\r\n    \"neLat\": 40.610879,\r\n    \"neLong\": -74.687788,\r\n    \"lat\": 40.610648,\r\n    \"long\": -74.688353,\r\n    \"floor\": [{\r\n      \"name\": \"First Floor \",\r\n      \"pdf\": \"https://www.dropbox.com/s/fwfzja8u7wdb4jm/physedfirstfloor.pdf?dl=1\",\r\n      \"jpg\": \"https://www.dropbox.com/s/vui4l55y8qn514y/phys-ed-1stfloor%20%281%29.png?dl=1\"\r\n    }, {\r\n      \"name\": \"Second Floor \",\r\n      \"pdf\": \"https://www.dropbox.com/s/o479d01ug1f4432/physed2ndfloor.pdf?dl=1\",\r\n      \"jpg\": \"https://www.dropbox.com/s/eskl4ueo9a3r3md/phys-ed-2ndfloor.png?dl=1\"\r\n    }]\r\n  },\r\n  \"map06\": {\r\n    \"desc\": \"Library/Theater\",\r\n    \"swLat\": 40.609288,\r\n    \"swLong\": -74.689018,\r\n    \"neLat\": 40.610033,\r\n    \"neLong\": -74.687515,\r\n    \"lat\": 40.60971,\r\n    \"long\": -74.688489,\r\n    \"floor\": [{\r\n      \"name\": \"Basement\",\r\n      \"pdf\": \"https://www.dropbox.com/s/ec3bp5kekrqsgoo/librarytheaterbasement.pdf?dl=1\",\r\n      \"jpg\": \"https://www.dropbox.com/s/q7phgi1strfer3x/library-basement-floor.png?dl=1\"\r\n    }, {\r\n      \"name\": \"First Floor \",\r\n      \"pdf\": \"https://www.dropbox.com/s/5io69yg90g2w9vk/librarytheaterfirstfloor.pdf?dl=1\",\r\n      \"jpg\": \"https://www.dropbox.com/s/adqujaijcgfiaab/library-first-floor.png?dl=1\"\r\n    }, {\r\n      \"name\": \"Second Floor \",\r\n      \"pdf\": \"https://www.dropbox.com/s/ixz3oskfbf7zwis/librarytheatersecondfloor.pdf?dl=1\",\r\n      \"jpg\": \"https://www.dropbox.com/s/36hsg3mw8eo48pd/library-second-floor.png?dl=1\"\r\n    }]\r\n  },\r\n  \"map07\": {\r\n    \"desc\": \"Conference Center\",\r\n    \"swLat\": 40.608965,\r\n    \"swLong\": -74.687959,\r\n    \"neLat\": 40.609488,\r\n    \"neLong\": -74.687208,\r\n    \"lat\": 40.60919,\r\n    \"long\": -74.687584,\r\n    \"floor\": [{\r\n      \"name\": \"First Floor \",\r\n      \"pdf\": \"https://www.dropbox.com/s/e4c9tcgqtuhl8gf/conferencecenterfirstfloor.pdf?dl=1\",\r\n      \"jpg\": \"https://www.dropbox.com/s/b86ecxx22nhtzzo/conferenfce%20%281%29.png?dl=1\"\r\n    }, {\r\n      \"name\": \"Second Floor \",\r\n      \"pdf\": \"https://www.dropbox.com/s/89ybm515rwoewl3/conferencecentersecondfloor.pdf?dl=1\",\r\n      \"jpg\": \"https://www.dropbox.com/s/csoh4z4ysnz47jm/conferenfce-2nd-floor%20%281%29.png?dl=1\"\r\n    }]\r\n  },\r\n  \"map08\": {\r\n    \"desc\": \"College Center\",\r\n    \"swLat\": 40.609799,\r\n    \"swLong\": -74.688193,\r\n    \"neLat\": 40.610603,\r\n    \"neLong\": -74.687285,\r\n    \"lat\": 40.610288,\r\n    \"long\": -74.68758,\r\n    \"floor\": [{\r\n      \"name\": \"Basement\",\r\n      \"pdf\": \"https://www.dropbox.com/s/3ht6m8v4jfyr3cs/collegecenterbasement.pdf?dl=1\",\r\n      \"jpg\": \"https://www.dropbox.com/s/2ep13zaurpyxcyx/college-center-basement-floor.png?dl=1\"\r\n    }, {\r\n      \"name\": \"First Floor \",\r\n      \"pdf\": \"https://www.dropbox.com/s/3mhepmwr2xnn100/collegecenterfirstfloor.pdf?dl=1\",\r\n      \"jpg\": \"https://www.dropbox.com/s/oxuel0ecu69prn0/college-center-1st-floor.png?dl=1\"\r\n    }, {\r\n      \"name\": \"Second Floor \",\r\n      \"pdf\": \"https://www.dropbox.com/s/bz7tp1j6emd7l3x/collegecentersecondfloor.pdf?dl=1\",\r\n      \"jpg\": \"https://www.dropbox.com/s/485yd07ud0i24f4/college-center-2nd-floor.png?dl=1\"\r\n    }]\r\n  },\r\n  \"map09\": {\r\n    \"desc\": \"Hunterdon \",\r\n    \"swLat\": 40.609797,\r\n    \"swLong\": -74.687379,\r\n    \"neLat\": 40.610217,\r\n    \"neLong\": -74.686609,\r\n    \"lat\": 40.61001,\r\n    \"long\": -74.687089,\r\n    \"floor\": [{\r\n      \"name\": \"First Floor \",\r\n      \"pdf\": \"https://www.dropbox.com/s/rv4mvbagmijtj6y/hunterdonfirstfloor.pdf?dl=1\",\r\n      \"jpg\": \"https://www.dropbox.com/s/286hh3zgswl0bhb/hunter-1st-floor%20%281%29%20%281%29.png?dl=1\"\r\n    }, {\r\n      \"name\": \"Second Floor \",\r\n      \"pdf\": \"https://www.dropbox.com/s/v8v1ysco2y7xdml/hunterdonsecondfloor.pdf?dl=1\",\r\n      \"jpg\": \"https://www.dropbox.com/s/te4furtqc9cytgr/hunter-2nd-floor%20%281%29.png?dl=1\"\r\n    }, {\r\n      \"name\": \"Third Floor \",\r\n      \"pdf\": \"https://www.dropbox.com/s/576ucmbjni46npb/hunterdonthirdfloor.pdf?dl=1\",\r\n      \"jpg\": \"https://www.dropbox.com/s/l3qiu1u6y0o6ko3/hunter-3rd-floor%20%281%29.png?dl=1\"\r\n    }]\r\n  },\r\n  \"map10\": {\r\n    \"desc\": \"Somerset\",\r\n    \"swLat\": 40.609311,\r\n    \"swLong\": -74.68803,\r\n    \"neLat\": 40.609774,\r\n    \"neLong\": -74.687098,\r\n    \"lat\": 40.609517,\r\n    \"long\": -74.687526,\r\n    \"floor\": [{\r\n      \"name\": \"Basement\",\r\n      \"pdf\": \"https://www.dropbox.com/s/zg0thl8ijvyft4x/somersetbasement.pdf?dl=1\",\r\n      \"jpg\": \"https://www.dropbox.com/s/n9n53i5plewrsoy/somerset-basement%20%281%29.png?dl=1\"\r\n    }, {\r\n      \"name\": \"First Floor \",\r\n      \"pdf\": \"https://www.dropbox.com/s/yq92iht3zhhl53g/somersetfirstfloor.pdf?dl=1\",\r\n      \"jpg\": \"https://www.dropbox.com/s/i5idcw7oieav27x/somerset-first-floor%20%282%29%20%281%29.png?dl=1\"\r\n    }, {\r\n      \"name\": \"Second Floor \",\r\n      \"pdf\": \"https://www.dropbox.com/s/y9yg7sjyu2xt6wm/somersetsecondfloor.pdf?dl=1\",\r\n      \"jpg\": \"https://www.dropbox.com/s/y4u2hgkt3k90bz6/somerset-second-floor%20%281%29%20%281%29.png?dl=1\"\r\n    }, {\r\n      \"name\": \"Third Floor \",\r\n      \"pdf\": \"https://www.dropbox.com/s/2nrcjddz4j1kt0q/somersetthirdfloor.pdf?dl=1\",\r\n      \"jpg\": \"https://www.dropbox.com/s/h45alixseeipw8p/somerset-third-floor%20%281%29.png?dl=1\"\r\n    }]\r\n  },\r\n  \"map11\": {\r\n    \"desc\": \"East/Planetarium\",\r\n    \"swLat\": 40.60936,\r\n    \"swLong\": -74.687124,\r\n    \"neLat\": 40.609835,\r\n    \"neLong\": -74.686669,\r\n    \"lat\": 40.609648,\r\n    \"long\": -74.686899,\r\n    \"floor\": [{\r\n      \"name\": \"Planetarium\",\r\n      \"pdf\": \"https://www.dropbox.com/s/hg42hunaslqsq9j/planetarium.pdf?dl=1\",\r\n      \"jpg\": \"https://www.dropbox.com/s/6d3g8dzi671tl8q/planetarium%20%281%29.png?dl=1\"\r\n    }]\r\n  },\r\n  \"map12\": {\r\n    \"desc\": \"Workforce building\",\r\n    \"swLat\": 40.610578,\r\n    \"swLong\": -74.694084,\r\n    \"neLat\": 40.611159,\r\n    \"neLong\": -74.692655,\r\n    \"lat\": 40.6106963,\r\n    \"long\": -74.6929391,\r\n    \"floor\": [{\r\n      \"name\": \"First Floor \",\r\n      \"pdf\": \"https://www.dropbox.com/s/cw1x08yz1sxt38h/workforcefloor1.pdf?dl=1\",\r\n      \"jpg\": \"https://www.dropbox.com/s/bxrh2gb823vgryy/workforcefloor1.png?dl=1\"\r\n    }, {\r\n      \"name\": \"Second Floor\",\r\n      \"pdf\": \"https://www.dropbox.com/s/ev7ia8o97ergc0k/workforcefloor2.pdf?dl=1\",\r\n      \"jpg\": \"https://www.dropbox.com/s/qyr1yyrc9s0q04r/workforcefloor2.png?dl=1\"\r\n    }]\r\n  }\r\n}"
        },
        {
          "pageid": "MapsPage2",
          "pageTemplate": "<div><\/div>",
          "datatemplate": "<h4 class=\"page-header\" style=\"text-align:center;\">{{Building.name}}<\/h4>\r\n<div class=\"list-group\">\r\n    <div class=\"list-group-item\" style=\"background:#000;\" style=\"width: 200px;text-align: center;margin: auto;margin-top: -10px;\">\r\n        <select id=\"floor_selector\" class=\"form-control\" ng-model=\"selfloor\" ng-change=\"selectFloor();\">             \r\n        <option name=\"\" value=\"\">--Select Floor--<\/option>             \r\n                 \r\n          <option name=\"\" value=\"{{item}}\" ng-repeat=\"item in Floors\">{{item.name}}<\/option>         \r\n            <\/select>\r\n    <\/div>\r\n          <div id='map'><\/div>\r\n<\/div>",
          "pageprocessor": "function pageprocessorMapsPage2(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  var data1 = $compile($(pagedef.datatemplate))($scope);\r\n  $(\"#appContent\").append(data1);\r\n  $scope.Building = $rootScope.Building;\r\n  $scope.Floors = $rootScope.Building.floor;\r\n  var map;\r\n  var historicalOverlay;\r\n  var myloc;\r\n  var findCrtLoc;\r\n  $scope.selectFloor = function() {\r\n    if ($rootScope.breakOut) {\r\n      var fl = $.parseJSON($scope.selfloor);\r\n\r\n      var floorImage = fl.jpg;\r\n\r\n      var building = $rootScope.Building;\r\n\r\n\r\n      var imageBounds = new google.maps.LatLngBounds(\r\n        new google.maps.LatLng(building.swlat, building.swlong),\r\n        new google.maps.LatLng(building.nelat, building.nelong));\r\n\r\n      try {\r\n        if (historicalOverlay) {\r\n          historicalOverlay.setMap(null);\r\n        }\r\n      } catch (e) {\r\n        alert(e)\r\n      }\r\n\r\n      historicalOverlay = new google.maps.GroundOverlay(\r\n        floorImage,\r\n        imageBounds);\r\n      historicalOverlay.setMap(map);\r\n\r\n\r\n    } else {\r\n      var floorDetails = $.parseJSON($scope.selfloor);\r\n      if (window.device) {\r\n        $.blockUI();\r\n        handleDocumentWithURL(\r\n          function() {\r\n\r\n            $.unblockUI();\r\n\r\n            $location.path(\"/app/Maps/MapsPage2\");\r\n          },\r\n          function(error) {\r\n\r\n            if (error) {\r\n              navigator.notification.alert('You must have a PDF reader app to read the document');\r\n              $.unblockUI();\r\n            }\r\n          },\r\n          floorDetails.pdf\r\n        );\r\n      } else {\r\n        window.open(floorDetails.pdf, \"_blank\");\r\n      }\r\n    }\r\n  }\r\n\r\n  $scope.setCrtLoc = function() {\r\n    navigator.geolocation.getCurrentPosition(function(loc) {\r\n      var myLat1 = loc.coords.latitude;\r\n      var myLong1 = loc.coords.longitude;\r\n\r\n      myloc.setMap(null);\r\n      var mapOptions = {\r\n        center: new google.maps.LatLng(myLat1, myLong1),\r\n        zoom: 16,\r\n        mapTypeId: google.maps.MapTypeId.SATELLITE\r\n      };\r\n\r\n\r\n      var image1 = \"http://rottenwifi.com/bundles/itowififront/images/my-location-icon.png\";\r\n      myloc = new google.maps.Marker({\r\n        position: new google.maps.LatLng(myLat1, myLong1),\r\n        map: map,\r\n        title: \"You are here\",\r\n        icon: image1\r\n\r\n      });\r\n\r\n    }, errorCB, {\r\n      timeout: 10000,\r\n      frequency: 3000,\r\n      enableHighAccuracy: true,\r\n      maximumAge: 0\r\n    });\r\n  };\r\n\r\n\r\n\r\n  /*For Map start*/\r\n\r\n  $scope.addFloorPlan = function() {\r\n    var fl = $rootScope.Building.floor;\r\n    var floorImage = fl[0].jpg;\r\n\r\n    var building = $rootScope.Building;\r\n\r\n    var imageBounds = new google.maps.LatLngBounds(\r\n      new google.maps.LatLng(building.swlat, building.swlong),\r\n      new google.maps.LatLng(building.nelat, building.nelong));\r\n\r\n    try {\r\n      if (historicalOverlay) {\r\n        historicalOverlay.setMap(null);\r\n      }\r\n    } catch (e) {\r\n      //alert(e)\r\n    }\r\n\r\n    historicalOverlay = new google.maps.GroundOverlay(\r\n      floorImage,\r\n      imageBounds);\r\n    historicalOverlay.setMap(map);\r\n\r\n    findCrtLoc = setInterval($scope.setCrtLoc, 10000);\r\n  };\r\n\r\n  var showLocation = function(results) {\r\n    try {\r\n      $.unblockUI();\r\n\r\n      var myLat = results.coords.latitude;\r\n      var myLong = results.coords.longitude;\r\n      var latlng = new google.maps.LatLng(myLat, myLong);\r\n\r\n      var selBuilding = $rootScope.Building;\r\n      var cLat = selBuilding.clat;\r\n      var cLong = selBuilding.clong;\r\n      var cLatLng = new google.maps.LatLng(cLat, cLong);\r\n\r\n\r\n      //var image = \"http://rottenwifi.com/bundles/itowififront/images/my-location-icon.png\";\r\n      var image = \"http://www.dreamrealty.com/images/blue_dot_circle.png\";\r\n      var myOptions = {\r\n        zoom: 19,\r\n        center: cLatLng,\r\n        mapTypeId: google.maps.MapTypeId.SATELLITE\r\n      };\r\n      var mapDisplay = document.getElementById(\"map\");\r\n      map = new google.maps.Map(mapDisplay, myOptions);\r\n      myloc = new google.maps.Marker({\r\n        position: latlng,\r\n        map: map,\r\n        title: \"title\",\r\n        icon: image\r\n      });\r\n      map.setTilt(45);\r\n      $scope.addFloorPlan();\r\n      // $scope.markers.push(myloc);\r\n      // $scope.map = map;\r\n      //$scope.walk();\r\n    } catch (e) {\r\n      $.unblockUI();\r\n      // alert(\"Error : \" + e);\r\n    }\r\n  };\r\n  var errorCB = function() {\r\n\r\n    //alert(\"error\");\r\n  }\r\n\r\n  function initMap() {\r\n\r\n\r\n    if (navigator.geolocation) {\r\n      $.blockUI();\r\n      navigator.geolocation.getCurrentPosition(showLocation, errorCB, {\r\n        timeout: 10000,\r\n        frequency: 3000,\r\n        enableHighAccuracy: true,\r\n        maximumAge: 0\r\n      });\r\n\r\n\r\n    } else {\r\n      //alert(\"not working\")\r\n    }\r\n\r\n    /* var map = new google.maps.Map(document.getElementById('map'), {\r\n         zoom: 19,\r\n         center: {\r\n             lat: 40.609508,\r\n             lng: -74.687545\r\n         }\r\n     });\r\n     var latlng = new google.maps.LatLng(40.609508, -74.687545);\r\n\r\n     //map.addMarker($scope.createMarker('User current location', latlng));\r\n     var marker = new google.maps.Marker({\r\n         position: latlng,\r\n         map: map,\r\n         title: 'Hello World!'\r\n     });\r\n     var imageBounds = new google.maps.LatLngBounds(\r\n         new google.maps.LatLng(40.606141, -74.695959),\r\n         new google.maps.LatLng(40.616078, -74.682913));\r\n\r\n     historicalOverlay = new google.maps.GroundOverlay(\r\n         'https://www.dropbox.com/s/pujmjyahw3e1itk/RVCC_campusmap.jpg?dl=1',\r\n         imageBounds);\r\n     historicalOverlay.setMap(map);*/\r\n\r\n\r\n  }\r\n  if ($rootScope.breakOut) {\r\n    window.initMap = initMap;\r\n    var script = document.createElement(\"script\");\r\n    script.type = \"text/javascript\";\r\n    script.src = \"https://maps.google.com/maps/api/js?key=AIzaSyAWtMIxW71c0fxIUmgWGe4AfUb2D9sE-5o&sensor=false&callback=initMap\";\r\n    //script.src = \"https://maps.google.com/maps/api/js?key=AIzaSyAWtMIxW71c0fxIUmgWGe4AfUb2D9sE-5o&sensor=false&callback=cb\";\r\n    document.body.appendChild(script);\r\n    var mapDisplay = document.getElementById(\"map\");\r\n    var mapheight = $(window).height() - ($(\"#appContent .list-group-item\").height() + $(\".navbar-absolute-top\").height() + $(\".navbar-absolute-bottom\").height() + 20)\r\n    $(\"#map\").css(\"height\", mapheight + \"px\");\r\n  }\r\n\r\n  /*For Map end*/\r\n\r\n\r\n\r\n}",
          "endpoint": ""
        }
      ]
    },
    {
      "id": 32363,
      "name": "Library96",
      "displayname": "Library",
      "logo": "RVCC/Library96.png",
      "logourl": "RVCC/Library96.png",
      "description": "Library",
      "appFeatureType": "Public",
      "roles": null,
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "Library96",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorLibrary96(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {if (window.device) {$.blockUI();}var iabRef = window.open(pagedef.url, \"_blank\", \"location=no,hidden=no,enableViewportScale=yes,clearcache=yes\");var hideBlockUi = function() {$.unblockUI();iabRef.show();        };var iabClose = function(data) {$.unblockUI();iabRef.removeEventListener(\"exit\", iabClose);window.location.href = \"index.html#home\";};iabRef.addEventListener(\"exit\", iabClose);var loadStop = function(data) {hideBlockUi();iabRef.removeEventListener(\"loadstop\", loadStop);};iabRef.addEventListener(\"loadstop\", loadStop);}",
          "url": "http://library.raritanval.edu/friendly.php?s=home"
        }
      ]
    },
    {
      "id": 13355,
      "name": "Directory71",
      "displayname": "Directory",
      "logo": "RVCC/Directory71.png",
      "logourl": "RVCC/Directory71.png",
      "description": "Directory",
      "appFeatureType": "Public",
      "roles": null,
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "Directory71",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorDirectory71(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {if (window.device) {$.blockUI();}var iabRef = window.open(pagedef.url, \"_blank\", \"location=yes,hidden=yes,enableViewportScale=yes,clearcache=yes\");var hideBlockUi = function() {$.unblockUI();iabRef.show();        };var iabClose = function(data) {$.unblockUI();iabRef.removeEventListener(\"exit\", iabClose);window.location.href = \"index.html#home\";};iabRef.addEventListener(\"exit\", iabClose);var loadStop = function(data) {hideBlockUi();iabRef.removeEventListener(\"loadstop\", loadStop);};iabRef.addEventListener(\"loadstop\", loadStop);}",
          "url": "https://ssbprod.raritanval.edu/prod/bwpkedir.P_DisplayDirectory"
        }
      ]
    },
    {
      "id": 11234,
      "name": "Emergency",
      "displayname": "Emergency",
      "logo": "RVCC/Emergency.png",
      "logourl": "RVCC/Emergency.png",
      "description": "Emergency Contact",
      "appFeatureType": "Public",
      "roles": "public",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": false,
      "analytics": false,
      "pages": 
      [
        {
          "pageid": "Emergency",
          "pageTemplate": "<div class=\"well\"  style=\"background:transparent;padding:10px;border:none;\">     <div class=\"list-group\">         <a class=\"list-group-item active panel-title\" style=\"background:#008430;color:#fff;font-weight:bold\">Phone Numbers<\/a>         <a href=\"tel:{{contact.number}}\" class=\"list-group-item\" ng-repeat=\"contact in contacts.Contacts \">             <b>{{contact.name}} <\/b>             <i class=\"fa fa-chevron-circle-right pull-right fa-2x\"><\/i>             <br/>             <i class=\"fa fa-phone\"><\/i>&nbsp;&nbsp;{{contact.number}}         <\/a>     <\/div> <\/div>",
          "contactdetails": "{\r\n    \"Contacts\": [\r\n        {\r\n            \"name\": \"Campus Emergency\",\r\n            \"number\": \"908-231-8800 \"\r\n        }\r\n    ]\r\n}",
          "pageprocessor": "function pageprocessorEmergency(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    $scope.contacts = $.parseJSON(pagedef.contactdetails);\r\n    var data1 = $compile($(pagedef.pageTemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    $scope.$apply();\r\n}"
        }
      ]
    },
    {
      "id": 11249,
      "name": "Videos",
      "displayname": "Videos",
      "logo": "RVCC/Videos.png",
      "logourl": "RVCC/Videos.png",
      "description": "Campus Videos",
      "appFeatureType": "Public",
      "roles": "public",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": false,
      "pages": 
      [
        {
          "pageid": "VideosVideosDetails",
          "pageTemplate": "<div><\/div>",
          "datatemplate": "<style>\r\n    #branding {\r\n        display: none;\r\n    }\r\n\r\n@media all and (orientation:portrait) {\r\n.video-container{\r\nposition:absolute;\r\ntop:20%;\r\n\r\n}    \r\n}\r\n@media all and (orientation:landscape) {\r\n    .video-container{\r\nposition:absolute;\r\ntop:5%;\r\n\r\n}   \r\n}\r\n<\/style>\r\n<div align=\"center\" class=\"video-container\">\r\n    <h4 style=\"color:#fff;padding:10px;\">{{title}}<\/h4>\r\n\r\n    <iframe ng-src=\"{{trustSrc()}}\" frameborder=\"0\" allowfullscreen target=\"self\"><\/iframe>\r\n\r\n    <h5 style=\"color:#fff;padding:10px;\">{{description}}<\/h5>\r\n<\/div>\r\n",
          "pageprocessor": "function pageprocessorVideosVideosDetails(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n\r\n  var video = $rootScope.videos[$routeParams.index];\r\n  var videoID = video.id.videoId\r\n\r\n  var url = \"https://www.googleapis.com/youtube/v3/videos?id=\" + videoID + \"&key=AIzaSyCsgCy_wu22gBBf-jewPk76QN9mUzevkGw&part=snippet,contentDetails,statistics,status\";\r\n  $http.get(url).success(function(data) {\r\n\r\n    console.log(JSON.stringify(data));\r\n    $scope.title = data.items[0].snippet.localized.title;\r\n\r\n    $scope.trustSrc = function() {\r\n      return $sce.trustAsResourceUrl(\"https://www.youtube.com/embed/\" + videoID);\r\n    };\r\n    $scope.description = data.items[0].snippet.localized.description;\r\n\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n\r\n  }).error(function(data) {\r\n    $.unblockUI();\r\n  });\r\n  \r\n   try {\r\n    var onPause = function() {\r\n      $('iframe').attr('src', $('iframe').attr('src'));\r\n    }\r\n\r\n    document.addEventListener(\"pause\", onPause, false);\r\n  } catch (e) {\r\n    // alert(e)\r\n  }\r\n\r\n}"
        },
        {
          "pageid": "Videos",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorVideos(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) { \r\n\r\n\r\n $.blockUI();\r\n    $http.get(pagedef.url).success(function(data) {\r\n        console.log(JSON.stringify(data));\r\n        $scope.videos = data.items;\r\n        $rootScope.videos = data.items;\r\n        var data1 = $compile($(pagedef.datatemplate))($scope);\r\n        $(\"#appContent\").append(data1);\r\n        $.unblockUI();\r\n    }).error(function(data) {\r\n        $.unblockUI();\r\n    });\r\n}",
          "datatemplate": "<div class=\"media-list list-group\">\r\n    <a href=\"#app/Videos/VideosVideosDetails?index={{$index}}\" class=\"media list-group-item\" ng-repeat=\"video in videos\">\r\n        <div class=\"pull-left\"><img class=\"media-object\" src=\"{{video.snippet.thumbnails.default.url}}\"><\/img>\r\n        <\/div>\r\n        <div class=\"media-body\">\r\n            <h4 class=\"media-heading\" style=\"color:#008430\">{{video.snippet.title}}<\/h4>\r\n            <p class=\"disabled\">Published On {{video.snippet.publishedAt | date:'medium'}}<\/p>\r\n        <\/div>\r\n    <\/a>\r\n<\/div>\r\n",
          "url": "https://www.googleapis.com/youtube/v3/search?videoEmbeddable=true&order=date&part=snippet&channelId=UCbUHAkiX8VVGdooKt7AVmdg&type=video&maxResults=50&key=AIzaSyCsgCy_wu22gBBf-jewPk76QN9mUzevkGw"
        }
      ]
    },
    {
      "id": 11246,
      "name": "Twitter",
      "displayname": "Twitter",
      "logo": "RVCC/Twitter.png",
      "logourl": "RVCC/Twitter.png",
      "description": "Twitter",
      "appFeatureType": "Public",
      "roles": "public",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "Twitter",
          "pageTemplate": "<div><\/div>",
          "url": "https://twitter.com/raritanvalleycc",
          "pageprocessor": "function pageprocessorTwitter(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n   if(window.device) {\r\n      $.blockUI();\r\n   }\r\n    var iabRef = window.open(pagedef.url, \"_blank\",\"location=yes,enableViewportScale=yes\");\r\n    var hideBlockUi = function() {\r\n        iabRef.show();\r\n        $.unblockUI();\r\n    };\r\n\r\n    var iabClose = function(data) {\r\n        window.location.href = \"index.html#home\";\r\n$.unblockUI();\r\n    };\r\n    iabRef.addEventListener(\"exit\", iabClose);\r\n\r\n    var loadStop = function(data) {\r\n        hideBlockUi();\r\n\r\n    };\r\n    iabRef.addEventListener(\"loadstop\", loadStop);\r\n}"
        }
      ]
    },
    {
      "id": 11243,
      "name": "Facebook",
      "displayname": "Facebook",
      "logo": "RVCC/Facebook.png",
      "logourl": "RVCC/Facebook.png",
      "description": "Facebook",
      "appFeatureType": "Public",
      "roles": "public",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "Facebook",
          "pageTemplate": "<div><\/div>",
          "url": "https://www.facebook.com/pages/Raritan-Valley-Community-College/59282399184",
          "pageprocessor": "function pageprocessorFacebook(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n   if(window.device) {\r\n      $.blockUI();\r\n   }\r\n\r\n    var iabRef = window.open(pagedef.url, \"_blank\", \"location=yes,enableViewportScale=yes\");\r\n    var hideBlockUi = function() {\r\n        iabRef.show();\r\n        $.unblockUI();\r\n    };\r\n\r\n    var iabClose = function(data) {\r\n        window.location.href = \"index.html#home\";\r\n$.unblockUI();\r\n    };\r\n    iabRef.addEventListener(\"exit\", iabClose);\r\n  \r\n    var loadStop = function(data) {\r\n        hideBlockUi();\r\n\r\n    };\r\n    iabRef.addEventListener(\"loadstop\", loadStop);\r\n\r\n}"
        }
      ]
    }
  ],
  "pages": 
  [
  ]
}